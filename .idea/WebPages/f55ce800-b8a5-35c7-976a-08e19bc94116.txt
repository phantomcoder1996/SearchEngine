https://www.tripadvisor.com/CheapFlightsHome
<!doctype html>
<html xmlns:og="http://opengraphprotocol.org/schema/">
 <head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <link rel="icon" id="favicon" href="https://static.tacdn.com/favicon.ico" type="image/x-icon">
  <link rel="mask-icon" sizes="any" href="https://static.tacdn.com/img2/icons/ta_square.svg" color="#00a680">
  <meta name="theme-color" content="#00a680">
  <meta name="format-detection" content="telephone=no">
  <meta name="keywords" content="airline tickets, flights, cheap flights, cheap airfare, airfare">
  <meta name="description" content="Find cheap flights on TripAdvisor and fly with confidence. We search up to 200 sites to find the best prices so you can land the airfare deal that’s right for you.">
  <meta property="og:title" content="Cheap Flights, Airline Tickets and Airfare Search - TripAdvisor">
  <meta property="og:description" content="Find cheap flights on TripAdvisor and fly with confidence. We search up to 200 sites to find the best prices so you can land the airfare deal that’s right for you.">
  <meta property="og:image" content="https://static.tacdn.com/img2/branding/rebrand/TA_brand_logo.png">
  <meta property="og:image:width" content="550">
  <meta property="og:image:height" content="370">
  <meta property="og:type" content="website">
  <meta property="og:url" content="http://www.tripadvisor.com/CheapFlightsHome">
  <meta property="og:site_name" content="TripAdvisor">
  <meta property="fb:admins" content="100000982334629">
  <meta property="fb:app_id" content="162729813767876">
  <meta property="fb:pages" content="5863091683">
  <meta property="fb:pages" content="329182043776593">
  <meta http-equiv="pragma" content="no-cache">
  <meta http-equiv="cache-control" content="no-cache,must-revalidate">
  <meta http-equiv="expires" content="0">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="alternate" hreflang="en" href="https://www.tripadvisor.com/CheapFlightsHome">
  <link rel="alternate" hreflang="en-GB" href="https://www.tripadvisor.co.uk/CheapFlightsHome">
  <link rel="alternate" hreflang="en-CA" href="https://www.tripadvisor.ca/CheapFlightsHome">
  <link rel="alternate" hreflang="fr-CA" href="https://fr.tripadvisor.ca/CheapFlightsHome">
  <link rel="alternate" hreflang="it" href="https://www.tripadvisor.it/CheapFlightsHome">
  <link rel="alternate" hreflang="es" href="https://www.tripadvisor.es/CheapFlightsHome">
  <link rel="alternate" hreflang="de" href="https://www.tripadvisor.de/CheapFlightsHome">
  <link rel="alternate" hreflang="fr" href="https://www.tripadvisor.fr/CheapFlightsHome">
  <link rel="alternate" hreflang="ja" href="https://www.tripadvisor.jp/CheapFlightsHome">
  <link rel="alternate" hreflang="en-IN" href="https://www.tripadvisor.in/CheapFlightsHome">
  <link rel="alternate" hreflang="sv" href="https://www.tripadvisor.se/CheapFlightsHome">
  <link rel="alternate" hreflang="nl" href="https://www.tripadvisor.nl/CheapFlightsHome">
  <link rel="alternate" hreflang="pt" href="https://www.tripadvisor.com.br/CheapFlightsHome">
  <link rel="alternate" hreflang="tr" href="https://www.tripadvisor.com.tr/CheapFlightsHome">
  <link rel="alternate" hreflang="da" href="https://www.tripadvisor.dk/CheapFlightsHome">
  <link rel="alternate" hreflang="es-MX" href="https://www.tripadvisor.com.mx/CheapFlightsHome">
  <link rel="alternate" hreflang="en-IE" href="https://www.tripadvisor.ie/CheapFlightsHome">
  <link rel="alternate" hreflang="ar" href="https://ar.tripadvisor.com/CheapFlightsHome">
  <link rel="alternate" hreflang="ar-EG" href="https://www.tripadvisor.com.eg/CheapFlightsHome">
  <link rel="alternate" hreflang="cs" href="https://www.tripadvisor.cz/CheapFlightsHome">
  <link rel="alternate" hreflang="de-AT" href="https://www.tripadvisor.at/CheapFlightsHome">
  <link rel="alternate" hreflang="el" href="https://www.tripadvisor.com.gr/CheapFlightsHome">
  <link rel="alternate" hreflang="en-AU" href="https://www.tripadvisor.com.au/CheapFlightsHome">
  <link rel="alternate" hreflang="en-MY" href="https://www.tripadvisor.com.my/CheapFlightsHome">
  <link rel="alternate" hreflang="en-NZ" href="https://www.tripadvisor.co.nz/CheapFlightsHome">
  <link rel="alternate" hreflang="en-PH" href="https://www.tripadvisor.com.ph/CheapFlightsHome">
  <link rel="alternate" hreflang="en-SG" href="https://www.tripadvisor.com.sg/CheapFlightsHome">
  <link rel="alternate" hreflang="en-ZA" href="https://www.tripadvisor.co.za/CheapFlightsHome">
  <link rel="alternate" hreflang="es-AR" href="https://www.tripadvisor.com.ar/CheapFlightsHome">
  <link rel="alternate" hreflang="es-CL" href="https://www.tripadvisor.cl/CheapFlightsHome">
  <link rel="alternate" hreflang="es-CO" href="https://www.tripadvisor.co/CheapFlightsHome">
  <link rel="alternate" hreflang="es-PE" href="https://www.tripadvisor.com.pe/CheapFlightsHome">
  <link rel="alternate" hreflang="fi" href="https://www.tripadvisor.fi/CheapFlightsHome">
  <link rel="alternate" hreflang="hu" href="https://www.tripadvisor.co.hu/CheapFlightsHome">
  <link rel="alternate" hreflang="id" href="https://www.tripadvisor.co.id/CheapFlightsHome">
  <link rel="alternate" hreflang="he" href="https://www.tripadvisor.co.il/CheapFlightsHome">
  <link rel="alternate" hreflang="ko" href="https://www.tripadvisor.co.kr/CheapFlightsHome">
  <link rel="alternate" hreflang="nb" href="https://no.tripadvisor.com/CheapFlightsHome">
  <link rel="alternate" hreflang="pl" href="https://pl.tripadvisor.com/CheapFlightsHome">
  <link rel="alternate" hreflang="pt-PT" href="https://www.tripadvisor.pt/CheapFlightsHome">
  <link rel="alternate" hreflang="ru" href="https://www.tripadvisor.ru/CheapFlightsHome">
  <link rel="alternate" hreflang="sk" href="https://www.tripadvisor.sk/CheapFlightsHome">
  <link rel="alternate" hreflang="th" href="https://th.tripadvisor.com/CheapFlightsHome">
  <link rel="alternate" hreflang="vi" href="https://www.tripadvisor.com.vn/CheapFlightsHome">
  <link rel="alternate" hreflang="zh-Hant" href="https://www.tripadvisor.com.tw/CheapFlightsHome">
  <link rel="alternate" hreflang="de-CH" href="https://www.tripadvisor.ch/CheapFlightsHome">
  <link rel="alternate" hreflang="fr-CH" href="https://fr.tripadvisor.ch/CheapFlightsHome">
  <link rel="alternate" hreflang="it-CH" href="https://it.tripadvisor.ch/CheapFlightsHome">
  <link rel="alternate" hreflang="en-HK" href="https://en.tripadvisor.com.hk/CheapFlightsHome">
  <link rel="alternate" hreflang="fr-BE" href="https://fr.tripadvisor.be/CheapFlightsHome">
  <link rel="alternate" hreflang="nl-BE" href="https://www.tripadvisor.be/CheapFlightsHome">
  <link rel="alternate" hreflang="zh-hk" href="https://www.tripadvisor.com.hk/CheapFlightsHome">
  <meta http-equiv="content-language" content="en">
  <meta name="apple-itunes-app" content="app-id=284876795">
  <title>Cheap Flights, Airline Tickets and Airfare Search - TripAdvisor</title>
  <script type="application/ld+json">{"@context":"http://schema.org","@type":"Organization","name":"TripAdvisor","url":"https://www.tripadvisor.com/","logo":"https://static.tacdn.com/img2/branding/trip_logo_footer@2x.png","sameAs":["https://www.facebook.com/TripAdvisor","https://twitter.com/TripAdvisor","https://plus.google.com/+TripAdvisor","https://instagram.com/TripAdvisor/","https://www.linkedin.com/company/tripadvisor"]}</script>
  <link rel="preload" href="https://static.tacdn.com/css2/webfonts/TripAdvisor/TripAdvisor_Regular.woff2?v003.290" as="font" type="font/woff2" crossorigin>
  <link rel="stylesheet" type="text/css" href="https://static.tacdn.com/css2/long_lived_global-v21355501061a.css" data-rup="long_lived_global">
  <link rel="stylesheet" type="text/css" href="https://static.tacdn.com/css2/home_rebranded-v22558753402a.css" data-rup="home_rebranded">
  <link rel="chrome-webstore-item" href="https://chrome.google.com/webstore/detail/oiekdmlabennjdpgimlcpmphdjphlcha">
  <script type="text/javascript" data-rup="earlyRequireDefine">!function(e,i){var n=[],l=[],r=[],o=function(n){l?"string"==typeof n?!i||null===e.require.caller&&/^R|react$/.test(n)||i("Can only use async version of require prior to rollupAmdShim load: "+n):l.push.apply(l,[[].slice.apply(arguments)]):i&&i("early define called after rollupAmdShim loaded")};e.require=e.require||o,o.isDummyRequire=!0,o.pendingRequirements=l,o.defined=o.specified=function(){return!1},o.config=function(){r?r.push.apply(r,[[].slice.apply(arguments)]):i&&i("early config called after rollupAmdShim loaded")},o.pendingConfigs=r;var d=function(e){n?n.push.apply(n,[[].slice.apply(arguments)]):i&&i("early define called after rollupAmdShim loaded")};d.amd=!0,e._dummyDefine=d,e.define=e.define||d,d.isDummyDefine=!0,d.pendingDefinitions=n}(window,window.console&&window.console.error);
</script>
  <script type="text/javascript" data-rup="amdearly">!function(e){function t(e){return"function"==typeof require&&require.defined&&require.defined(e)}function n(e,t,n){t?e[t].apply(e,n):"function"==typeof e&&e.apply(e,n)}function r(){if(u=!0,require.isQ)throw"Fatal error - this page does not have require";if(e.getRequireJSQueue){for(var t=e.getRequireJSQueue();t.d.length>0;)define.apply(e,t.d.shift());for(;t.r.length>0;)require.apply(e,t.r.shift());e.getRequireJSQueue=null}l&&+new Date-i<5e3&&a.apply(e,l)}if(!e||!e.requireCallLast){var l,i,u=!1,a=e.requireCallLast=function(e,r){l=null;var a=[].slice.call(arguments,2);t(e)?n(require(e),r,a):t("trjs")?require(["trjs!"+e],function(e){n(e,r,a)}):u||(i=+new Date,l=[].slice.call(arguments))},c=e.requireCallIfReady=function(n){t(n)&&a.apply(e,arguments)},o=function(t,n,r,l){var i=c;return!r||"click"!==r.type&&"submit"!==r.type||(i=a,r.preventDefault&&r.preventDefault()),l.unshift(n),l.unshift(t),i.apply(e,l),!1};e.remoteModule=function(e,t){return o("remoteModule",null,e,[].slice.call(arguments))},e.requireEvCall=function(e,t,n,r){return e=e.match(/^((?:[^\/]+\/)*[^\/\.]+)\.([^\/]*)?$/),o(e[1],e[2],t,[].slice.call(arguments,1))},e.widgetEvCall=function(e,t,n,r){return o("ta/prwidgets","call",t,[].slice.call(arguments))},e.placementEvCall=function(e,t,n,r,l){return o("ta/p13n/placements","evCall",n,[].slice.call(arguments))},document.addEventListener?document.addEventListener("DOMContentLoaded",r):e.addEventListener?e.addEventListener("load",r):e.attachEvent&&e.attachEvent("onload",r)}}(window);
</script>
  <style type="text/css"><!--
DIV.ppr_rup.ppr_priv_trip_search .trip_search {
  justify-content: center;
}
DIV.ppr_rup.ppr_priv_trip_search .trip_search .trip_search_label {
  display: block;
  height: 100%;
  font-weight: bold;
  font-size: 18px;
  line-height: 26px;
  text-align: center;
}
DIV.ppr_rup.ppr_priv_trip_search .trip_search .trip_search_label:before {
  content: "";
  display: inline-block;
  vertical-align: middle;
  height: 100%;
}
DIV.ppr_rup.ppr_priv_trip_search .trip_search .trip_search_label.hidden {
  display: none;
}
DIV.ppr_rup.ppr_priv_trip_search .trip_search .ui_button {
  position: relative;
  white-space: nowrap;
}
DIV.ppr_rup.ppr_priv_trip_search .trip_search .calendar {
  position: static;
  width: auto;
  height: auto;
  overflow: visible;
  background: none;
}
DIV.ppr_rup.ppr_priv_trip_search .persistent_trip_search {
  text-align: center;
  overflow: hidden;
}
DIV.ppr_rup.ppr_priv_trip_search .persistent_trip_search .ui_column {
  width: auto;
  flex: none;
  align-self: center;
  vertical-align: middle;
}
DIV.ppr_rup.ppr_priv_trip_search .lockup_header {
  margin-bottom: 20px;
  text-align: center;
  color: #ffffff;
}
DIV.ppr_rup.ppr_priv_trip_search[data-placement-name*="home_flights"] .lockup_header {
  margin-bottom: -11px;
  padding-top: 20px;
}
@media (max-width: 767px) {
DIV.ppr_rup.ppr_priv_trip_search[data-placement-name*="home_flights"] .lockup_header {
    margin-bottom: -9px;
  }
}
DIV.ppr_rup.ppr_priv_trip_search .trip_search.rounded_lockup {
  margin: 0 auto;
  border-radius: 50px;
}
DIV.ppr_rup.ppr_priv_trip_search .trip_search.rounded_lockup > .ui_column {
  background-color: #ffffff;
  border-width: 1px 0 1px 1px;
  border-style: solid;
  border-color: #e5e5e5;
}
DIV.ppr_rup.ppr_priv_trip_search .trip_search.rounded_lockup .ui_column:first-child {
  border-radius: inherit;
  border-top-right-radius: 0;
  border-bottom-right-radius: 0;
}
DIV.ppr_rup.ppr_priv_trip_search .trip_search.rounded_lockup .ui_column:last-child {
  border: 1px solid transparent;
}
DIV.ppr_rup.ppr_priv_trip_search .trip_search.rounded_lockup .ui_picker {
  font-size: 16px;
  line-height: 20px;
}
DIV.ppr_rup.ppr_priv_trip_search .trip_search.rounded_lockup .ui_picker .target:after {
  border-color: transparent;
}
DIV.ppr_rup.ppr_priv_trip_search .trip_search.rounded_lockup .ui_picker .target:hover:after {
  border-bottom: 1px solid #00a680;
}
DIV.ppr_rup.ppr_priv_trip_search .trip_search.rounded_lockup .ui_picker.error:focus .target {
  color: #d80007;
}
DIV.ppr_rup.ppr_priv_trip_search .trip_search.rounded_lockup .ui_picker.error:focus .target:after {
  border-color: #d80007;
}
DIV.ppr_rup.ppr_priv_trip_search .trip_search.rounded_lockup :focus .target,
DIV.ppr_rup.ppr_priv_trip_search .trip_search.rounded_lockup .focused .target {
  background-color: #e5e5e5;
  color: #000a12;
}
DIV.ppr_rup.ppr_priv_trip_search .trip_search.rounded_lockup :focus .target:after,
DIV.ppr_rup.ppr_priv_trip_search .trip_search.rounded_lockup .focused .target:after {
  border-bottom: 1px solid #00a680;
}
DIV.ppr_rup.ppr_priv_trip_search .trip_search.rounded_lockup.highlight .target {
  background-color: #e5e5e5;
  color: #000a12;
}
DIV.ppr_rup.ppr_priv_trip_search .trip_search.rounded_lockup.highlight .target:after {
  border-bottom: 1px solid #00a680;
}
DIV.ppr_rup.ppr_priv_trip_search .trip_search.rounded_lockup .submit_wrap {
  padding: 0;
  border-radius: inherit;
  border-top-left-radius: 0;
  border-bottom-left-radius: 0;
}
DIV.ppr_rup.ppr_priv_trip_search .trip_search.rounded_lockup .submit_wrap:last-child {
  border: none;
}
DIV.ppr_rup.ppr_priv_trip_search .trip_search.rounded_lockup .form_submit {
  width: 100%;
  height: 100%;
  padding: 14px 24px;
  box-sizing: border-box;
  border: 1px solid #00a680;
  border-radius: inherit;
  background-color: #00a680;
  font-weight: bold;
  font-size: 20px;
  line-height: 24px;
  color: #ffffff;
  text-align: center;
  white-space: nowrap;
  cursor: pointer;
}
DIV.ppr_rup.ppr_priv_trip_search .trip_search.rounded_lockup .form_submit:hover,
DIV.ppr_rup.ppr_priv_trip_search .trip_search.rounded_lockup .form_submit:focus {
  border-color: #00c094;
  background-color: #00c094;
  outline: none;
}
DIV.ppr_rup.ppr_priv_trip_search .trip_search.rounded_lockup .form_submit:active {
  border-color: #005a45;
  background-color: #005a45;
  outline: none;
}
DIV.ppr_rup.ppr_priv_trip_search .trip_search.rounded_lockup .form_submit .submit_icon {
  font-size: 28px;
  margin-top: -14px;
  margin-bottom: -14px;
  vertical-align: middle;
}
@media (orientation: portrait) {
DIV.ppr_rup.ppr_priv_trip_search .trip_search.rounded_lockup .typeahead_align .typeahead_input {
    height: auto;
    padding: 2px 0 2px 30px;
    font-size: 14px;
    line-height: 18px;
  }
DIV.ppr_rup.ppr_priv_trip_search .trip_search.rounded_lockup .ui_picker {
    font-size: 14px;
    line-height: 18px;
  }
DIV.ppr_rup.ppr_priv_trip_search .trip_search.rounded_lockup .ui_picker .ui_icon.pickerType {
    font-size: 18px;
  }
DIV.ppr_rup.ppr_priv_trip_search .trip_search.rounded_lockup .form_submit {
    font-size: 18px;
    line-height: 22px;
  }
}
@media (max-width: 767px) {
DIV.ppr_rup.ppr_priv_trip_search .trip_search.rounded_lockup {
    background-color: #ffffff;
    border-radius: 2px;
  }
DIV.ppr_rup.ppr_priv_trip_search .trip_search.rounded_lockup > .ui_column {
    border-width: 0 0 1px 0;
  }
DIV.ppr_rup.ppr_priv_trip_search .trip_search.rounded_lockup > .ui_column:first-child {
    border-top-width: 1px;
    border-top-right-radius: inherit;
    border-bottom-left-radius: 0;
  }
DIV.ppr_rup.ppr_priv_trip_search .trip_search.rounded_lockup > .ui_column:nth-last-child(2) {
    border-bottom: 0;
  }
DIV.ppr_rup.ppr_priv_trip_search .trip_search.rounded_lockup .ui_picker {
    padding-top: 4px;
    padding-bottom: 4px;
  }
DIV.ppr_rup.ppr_priv_trip_search .trip_search.rounded_lockup .submit_wrap {
    margin: 4px;
    border-radius: 2px;
  }
DIV.ppr_rup.ppr_priv_trip_search .trip_search.rounded_lockup .submit_wrap .form_submit {
    font-size: 14px;
    line-height: 18px;
  }
DIV.ppr_rup.ppr_priv_trip_search .trip_search.rounded_lockup.loading {
    background-color: #f5f5f5;
  }
}
@media (min-width: 768px) {
DIV.ppr_rup.ppr_priv_trip_search .ui_columns.stacked-tablet {
    display: block;
    margin: 0;
  }
DIV.ppr_rup.ppr_priv_trip_search .ui_columns.stacked-tablet > .ui_column {
    padding: 0;
    margin: 16px 0;
    display: block;
  }
}
DIV.ppr_rup.ppr_priv_trip_search .ui_columns.wrap_label {
  margin: 0;
  padding-bottom: 12px;
  flex-wrap: wrap;
}
DIV.ppr_rup.ppr_priv_trip_search .ui_columns.wrap_label .wrap_column {
  margin-bottom: -12px;
}
@media (max-width: 767px) {
DIV.ppr_rup.ppr_priv_trip_search .ui_columns.responsive-inline-mobile {
    display: flex;
    height: 46px;
    margin: 12px 0 0;
    padding: 0;
    text-align: left;
    justify-content: left;
    border-width: 1px;
    border-style: solid;
    border-color: #e5e5e5;
    border-radius: 2px;
  }
DIV.ppr_rup.ppr_priv_trip_search .ui_columns.responsive-inline-mobile.highlight {
    position: relative;
    z-index: 10001;
    background: #ffffff;
  }
DIV.ppr_rup.ppr_priv_trip_search .ui_columns.responsive-inline-mobile.minimal_styles {
    margin: 0;
    padding: 0 2px;
    border-width: 0 0 1px;
    border-radius: 0;
  }
DIV.ppr_rup.ppr_priv_trip_search .ui_columns.responsive-inline-mobile.hr-compress {
    margin: 0 0 8px;
  }
DIV.ppr_rup.ppr_priv_trip_search .ui_columns.responsive-inline-mobile .ui_column {
    flex: none;
    height: 100%;
    border-width: 0 0 0 1px;
    border-style: solid;
    border-color: #e5e5e5;
    margin: 0;
    padding: 0 8px 0 0;
  }
DIV.ppr_rup.ppr_priv_trip_search .ui_columns.responsive-inline-mobile .ui_column.wrap_column {
    flex-grow: 1;
    border: none;
    margin: 0;
    padding: 0;
  }
DIV.ppr_rup.ppr_priv_trip_search .ui_columns.responsive-inline-mobile .ui_column.wrap_column > .ui_columns {
    margin: 0;
    height: 100%;
  }
DIV.ppr_rup.ppr_priv_trip_search .ui_columns.responsive-inline-mobile .ui_column:first-child {
    border: none;
  }
DIV.ppr_rup.ppr_priv_trip_search .ui_columns.responsive-inline-mobile .responsive_inline_hidden {
    display: none;
  }
DIV.ppr_rup.ppr_priv_trip_search .ui_columns.responsive-inline-mobile .responsive_inline_priority {
    flex-grow: 1;
    border: none;
  }
DIV.ppr_rup.ppr_priv_trip_search .ui_columns.responsive-inline-mobile .responsive_inline_priority ~ .responsive_inline_priority {
    border-width: 0 0 0 1px;
    border-style: solid;
    border-color: #e5e5e5;
  }
DIV.ppr_rup.ppr_priv_trip_search .ui_columns.responsive-inline-mobile .ui_picker {
    display: inline-block;
    font-size: 14px;
    padding: 0;
  }
DIV.ppr_rup.ppr_priv_trip_search .ui_columns.responsive-inline-mobile .ui_picker .ui_icon.pickerType {
    font-size: 18px;
    margin: 0 4px 0 8px;
  }
DIV.ppr_rup.ppr_priv_trip_search .ui_columns.responsive-inline-mobile .ui_picker .ui_icon.minus {
    display: inline-block;
    margin: 0;
    -moz-transform: scaleX(0.5);
    -ms-transform: scaleX(0.5);
    -webkit-transform: scaleX(0.5);
    transform: scaleX(0.5);
  }
DIV.ppr_rup.ppr_priv_trip_search .ui_columns.responsive-inline-mobile .ui_picker_field {
    padding-top: 7px;
    padding-bottom: 5px;
    box-sizing: border-box;
  }
DIV.ppr_rup.ppr_priv_trip_search .ui_columns.responsive-inline-mobile .ui_icon.caret-down {
    display: none;
  }
}
DIV.ppr_rup.ppr_priv_trip_search .unified-picker {
  display: inline-block;
  outline: none;
}
DIV.ppr_rup.ppr_priv_trip_search .unified-picker.hidden {
  display: none;
}
DIV.ppr_rup.ppr_priv_trip_search #PERSISTENT_TRIP_SEARCH_BAR.fixed {
  position: fixed;
  z-index: 9990;
  top: 0;
  right: 0;
  left: 0;
  padding: 0;
  margin: 0;
  background-color: #ffffff;
  box-shadow: 0 1px 8px rgba(0, 0, 0, 0.2);
  text-align: center;
}
DIV.ppr_rup.ppr_priv_trip_search .fixed .noDates .unified-picker:first-child {
  margin-left: 312px;
}
DIV.ppr_rup.ppr_priv_trip_search .fixed .noDates.collapsed-fixed-datepicker .unified-picker:first-child {
  margin-left: 0;
}
DIV.ppr_rup.ppr_priv_trip_search .fixed .ages-wrap .explain {
  color: #ffffff;
}
DIV.ppr_rup.ppr_priv_trip_search .fixed .ages-wrap .explain .ages_change {
  color: inherit;
}
DIV.ppr_rup.ppr_priv_trip_search .fixed .ages-wrap.selecting .explain {
  color: #767676;
}
DIV.ppr_rup.ppr_priv_trip_search .fixed .ages-wrap.selecting .explain .ages_change {
  color: inherit;
}
DIV.ppr_rup.ppr_priv_trip_search .fixed .ages-wrap.selecting .picker-inner {
  color: #000a12;
}
DIV.ppr_rup.ppr_priv_trip_search .fixed .ages-wrap.selecting .picker-inner .ui_icon {
  font-size: 12px;
  line-height: 16px;
  color: inherit;
}
DIV.ppr_rup.ppr_priv_trip_search .fixed .ages-wrap.selecting .picker-dropdown .picker-label {
  color: #000a12;
}
DIV.ppr_rup.ppr_priv_trip_search .fixed .ages-wrap.selecting .picker-dropdown .picker-label .ui_icon {
  color: inherit;
}
DIV.ppr_rup.ppr_priv_trip_search .metaProgressBar {
  position: absolute;
  z-index: 3;
  top: 0;
  right: 24px;
  bottom: 0;
  left: 24px;
  box-sizing: border-box;
}
DIV.ppr_rup.ppr_priv_trip_search .metaProgressBarWrapper {
  position: relative;
  height: 100%;
  overflow: hidden;
  background-color: rgba(255, 255, 255, 0.75);
}
DIV.ppr_rup.ppr_priv_trip_search .metaProgressBar.allowInteraction {
  pointer-events: none;
}
DIV.ppr_rup.ppr_priv_trip_search .allowInteraction .metaProgressBarWrapper {
  background-color: transparent;
  pointer-events: none;
}
DIV.ppr_rup.ppr_priv_trip_search .metaProgressBarLabel {
  display: none;
}
DIV.ppr_rup.ppr_priv_trip_search .metaProgressBarSliderWrapper {
  position: absolute;
  left: 0;
  bottom: 0;
  right: 0;
  height: 4px;
}
DIV.ppr_rup.ppr_priv_trip_search .metaProgressBarSlider {
  display: block;
  width: 0;
  height: 100%;
  background-color: #00a680;
  -moz-transition: background-color 300ms ease-in-out;
  -webkit-transition: background-color 300ms ease-in-out;
  transition: background-color 300ms ease-in-out;
}
DIV.ppr_rup.ppr_priv_trip_search .fixed .metaProgressBar {
  left: 0;
  right: 0;
}
DIV.ppr_rup.ppr_priv_trip_search .fixed .metaProgressBarWrapper {
  background-color: transparent;
}
DIV.ppr_rup.ppr_priv_trip_search .fixed .metaProgressBarLabel {
  position: static;
  padding: 0 20px;
}
DIV.ppr_rup.ppr_priv_trip_search .fixed .metaProgressBarSliderWrapper {
  bottom: 0;
  width: 100%;
}
DIV.ppr_rup.ppr_priv_trip_search .fixed .metaProgressBarSlider {
  background-color: #00a680;
}
DIV.ppr_rup.ppr_priv_trip_search .calendar-inline-container:empty {
  display: none;
}
DIV.ppr_rup.ppr_priv_trip_search .calendar-inline-container .unified-picker {
  display: block;
}
DIV.ppr_rup.ppr_priv_trip_search .search_typeahead.error input::-webkit-input-placeholder {
  color: #d80007;
}
DIV.ppr_rup.ppr_priv_trip_search .search_typeahead.error input::-moz-placeholder {
  color: #d80007;
}
DIV.ppr_rup.ppr_priv_trip_search .search_typeahead.error input:-moz-placeholder {
  color: #d80007;
}
DIV.ppr_rup.ppr_priv_trip_search .search_typeahead.error input:-ms-input-placeholder {
  color: #d80007;
}
DIV.ppr_rup.ppr_priv_trip_search .search_typeahead.error .ui_icon.typeahead_icon {
  color: #d80007;
}
--></style> 
  <style type="text/css"><!--
DIV.prw_rup.prw_flights_cos_passenger_picker .cosPassengerPicker {
  background-color: #ffffff;
  cursor: pointer;
  color: #000a12;
  margin-top: 3px;
  overflow: inherit;
  text-overflow: inherit;
  outline: inherit;
  display: flex;
  align-items: baseline;
}
@media (min-width: 768px) and (max-width: 1023px) {
DIV.prw_rup.prw_flights_cos_passenger_picker .cosPassengerPicker {
    font-size: 14px;
    line-height: 18px;
  }
}
@media (max-width: 767px) {
DIV.prw_rup.prw_flights_cos_passenger_picker .cosPassengerPicker {
    font-size: 14px;
    line-height: 18px;
  }
}
DIV.prw_rup.prw_flights_cos_passenger_picker .cosPassengerPicker .summaryContainer {
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
  margin-right: 24px;
}
DIV.prw_rup.prw_flights_cos_passenger_picker .cosPassengerPicker .error {
  color: #d80007;
}
DIV.prw_rup.prw_flights_cos_passenger_picker .cosPassengerPicker .ui_icon.caret-down {
  padding-right: 12px;
}
@media (max-width: 767px) {
DIV.prw_rup.prw_flights_cos_passenger_picker .cosPassengerPicker .ui_icon.caret-down {
    padding-right: 8px;
  }
}
DIV.prw_rup.prw_flights_cos_passenger_picker.cosPassengerPopover {
  width: 284px;
  margin: -24px -16px -28px;
  font-size: 16px;
  line-height: 20px;
}
DIV.prw_rup.prw_flights_cos_passenger_picker.cosPassengerPopover.hidden {
  display: none;
}
DIV.prw_rup.prw_flights_cos_passenger_picker.cosPassengerPopover.popoverContents {
  display: flex;
  flex-direction: column;
  align-items: center;
}
DIV.prw_rup.prw_flights_cos_passenger_picker.cosPassengerPopover .hrLine {
  width: 284px;
  height: 1px;
  background-color: #e5e5e5;
}
DIV.prw_rup.prw_flights_cos_passenger_picker.cosPassengerPopover .hrLine.afterCos {
  margin-bottom: 24px;
}
DIV.prw_rup.prw_flights_cos_passenger_picker.cosPassengerPopover .hrLine.afterChildrenCounter {
  margin-top: 24px;
}
DIV.prw_rup.prw_flights_cos_passenger_picker.cosPassengerPopover .travelerRow {
  display: flex;
  align-items: center;
  justify-content: space-between;
  margin-bottom: 12px;
  width: inherit;
  font-weight: bold;
}
DIV.prw_rup.prw_flights_cos_passenger_picker.cosPassengerPopover .travelerRow .minus-circle {
  font-size: 30px;
}
DIV.prw_rup.prw_flights_cos_passenger_picker.cosPassengerPopover .travelerRow .plus-circle {
  font-size: 30px;
}
DIV.prw_rup.prw_flights_cos_passenger_picker.cosPassengerPopover .travelerRow .disabled {
  color: #b9e2c6;
}
DIV.prw_rup.prw_flights_cos_passenger_picker.cosPassengerPopover .travelerRow .enabled {
  color: #00a680;
  cursor: pointer;
}
DIV.prw_rup.prw_flights_cos_passenger_picker.cosPassengerPopover .counter {
  display: inherit;
}
DIV.prw_rup.prw_flights_cos_passenger_picker.cosPassengerPopover .childrenAgesContainer {
  margin-top: 24px;
  margin-bottom: 9px;
  font-size: inherit;
}
DIV.prw_rup.prw_flights_cos_passenger_picker.cosPassengerPopover .childrenAgesContainer .ageContainer {
  margin-bottom: 12px;
  width: inherit;
  display: flex;
  align-items: center;
  justify-content: space-between;
}
DIV.prw_rup.prw_flights_cos_passenger_picker.cosPassengerPopover .hidden {
  display: none;
}
DIV.prw_rup.prw_flights_cos_passenger_picker.cosPassengerPopover .errorMsgContainer {
  margin-bottom: 6px;
}
DIV.prw_rup.prw_flights_cos_passenger_picker.cosPassengerPopover .errorMsgContainer .errorMsg {
  font-size: 12px;
  color: #d80007;
}
DIV.prw_rup.prw_flights_cos_passenger_picker.cosPassengerPopover .alertMsgContainer {
  margin-bottom: -6px;
}
DIV.prw_rup.prw_flights_cos_passenger_picker.cosPassengerPopover .alertMsgContainer .alertMsg {
  font-size: 12px;
  color: #d80007;
}
DIV.prw_rup.prw_flights_cos_passenger_picker.cosPassengerPopover .closeTextContainer {
  padding-top: 12px;
  padding-bottom: 12px;
  text-align: right;
}
DIV.prw_rup.prw_flights_cos_passenger_picker.cosPassengerPopover .closeTextContainer .closeText {
  color: #3b7adc;
}
DIV.prw_rup.prw_flights_cos_passenger_picker.cosPassengerPopover .cosDropdown {
  margin-top: 24px;
  margin-bottom: 24px;
  width: auto;
  height: 40px;
  color: #000a12;
  font-size: 16px;
}
DIV.prw_rup.prw_flights_cos_passenger_picker.cosPassengerPopover .cosDropdown .picker-inner {
  height: 40px;
  line-height: 40px;
  padding: 0 35px 0 14px;
  border: 1px solid #e5e5e5;
  border-radius: 2px;
  box-sizing: border-box;
  white-space: nowrap;
  overflow: hidden;
  position: relative;
  cursor: pointer;
}
DIV.prw_rup.prw_flights_cos_passenger_picker.cosPassengerPopover .error {
  color: #d80007;
}
DIV.prw_rup.prw_flights_cos_passenger_picker {
  height: 100%;
}
DIV.prw_rup.prw_flights_cos_passenger_picker .picker-dropdown {
  white-space: nowrap;
  overflow: hidden;
  position: relative;
  left: 0;
  z-index: 100;
  margin-top: -6px;
}
DIV.prw_rup.prw_flights_cos_passenger_picker .picker-dropdown .option,
DIV.prw_rup.prw_flights_cos_passenger_picker .picker-dropdown .curoption {
  padding: 0 35px 0 14px;
  height: 38px;
  font-size: 16px;
  line-height: 20px;
  line-height: 40px;
}
DIV.prw_rup.prw_flights_cos_passenger_picker .picker-dropdown .option:hover {
  color: inherit;
  background-color: #f5f5f5;
}
DIV.prw_rup.prw_flights_cos_passenger_picker .picker-dropdown .curoption {
  border-bottom: 1px solid #e5e5e5;
}
DIV.prw_rup.prw_flights_cos_passenger_picker .picker-dropdown .options-container {
  overflow-y: auto;
  max-height: 190px;
}
DIV.prw_rup.prw_flights_cos_passenger_picker .open-close {
  position: absolute;
  top: -1px;
  right: 12px;
  font-size: 18px;
  color: #000a12;
}
DIV.prw_rup.prw_flights_cos_passenger_picker #cos_ui_picker {
  padding: 12px;
  cursor: pointer;
}
@media (max-width: 767px) {
DIV.prw_rup.prw_flights_cos_passenger_picker #cos_ui_picker {
    padding: 10px 0 15px 8px;
  }
}
@media (max-width: 767px) {
DIV.prw_rup.prw_flights_cos_passenger_picker .ui_icon {
    margin-left: 0;
  }
}
--></style> 
  <style type="text/css"><!--
DIV.prw_rup.prw_flights_logo_checkbox_searchform .provider_pill {
  display: inline-block;
  font-size: 15px;
}
DIV.prw_rup.prw_flights_logo_checkbox_searchform .majorParam {
  font-weight: bold;
  font-size: 13px;
  padding-top: 0;
  padding-bottom: 0;
}
DIV.prw_rup.prw_flights_logo_checkbox_searchform .selectors {
  display: inline-block;
  margin-left: 32px;
  cursor: pointer;
}
@media (min-width: 768px) {
DIV.prw_rup.prw_flights_logo_checkbox_searchform .selectors {
    padding-top: 12px;
  }
}
@media (min-width: 1024px) {
DIV.prw_rup.prw_flights_logo_checkbox_searchform .selectors {
    padding-top: 0;
  }
}
DIV.prw_rup.prw_flights_logo_checkbox_searchform .ui_checkbox label {
  color: #000000;
  cursor: pointer;
  display: inline-block;
}
DIV.prw_rup.prw_flights_logo_checkbox_searchform .selectAll {
  font-size: 16px;
  font-weight: bold;
  color: #00a680;
  cursor: pointer;
  user-select: none;
}
--></style> 
  <style type="text/css"><!--
DIV.prw_rup.prw_flights_trip_search_form {
  padding: 0 0 18px 0;
}
.results_edit_form DIV.prw_rup.prw_flights_trip_search_form {
  padding-bottom: 0;
}
DIV.prw_rup.prw_flights_trip_search_form .ui_tabs {
  border: none;
}
@media (max-width: 767px) {
DIV.prw_rup.prw_flights_trip_search_form .ui_tabs {
    white-space: unset;
  }
DIV.prw_rup.prw_flights_trip_search_form .ui_tabs ul {
    width: 100%;
  }
}
DIV.prw_rup.prw_flights_trip_search_form .ui_tabs .ui_tab {
  color: white;
}
DIV.prw_rup.prw_flights_trip_search_form .ui_tabs .ui_tab.active {
  border-bottom: 2px solid white;
}
DIV.prw_rup.prw_flights_trip_search_form .ui_tabs .ui_tab.active:hover {
  color: white;
}
DIV.prw_rup.prw_flights_trip_search_form .ui_tabs .ui_tab:hover {
  color: #00a680;
}
DIV.prw_rup.prw_flights_trip_search_form .providers {
  background-color: rgba(255, 255, 255, 0.8);
  margin: 12px 0;
  border-radius: 3px;
  width: fit-content;
}
DIV.prw_rup.prw_flights_trip_search_form .nonstop label,
DIV.prw_rup.prw_flights_trip_search_form .nearby label,
DIV.prw_rup.prw_flights_trip_search_form .airwatch label,
DIV.prw_rup.prw_flights_trip_search_form .aw-email {
  color: white;
}
@media (min-width: 1024px) {
DIV.prw_rup.prw_flights_trip_search_form padding-left: 10px;
}
DIV.prw_rup.prw_flights_trip_search_form .tabContainer {
  vertical-align: bottom;
}
@media (max-width: 767px) {
DIV.prw_rup.prw_flights_trip_search_form .tabContainer {
    width: 33.33%;
  }
}
DIV.prw_rup.prw_flights_trip_search_form .tabContainer .tabInnerContainer {
  padding: 0 12px 0 12px;
}
@media (max-width: 767px) {
DIV.prw_rup.prw_flights_trip_search_form .tabContainer .tabInnerContainer {
    padding: 0 6px 0 6px;
  }
}
DIV.prw_rup.prw_flights_trip_search_form .ui_tabs .ui_tab {
  font-size: 15px;
  color: white;
  padding: 0 0 4px 0;
  height: 24px;
  outline: none;
}
@media (max-width: 767px) {
DIV.prw_rup.prw_flights_trip_search_form .ui_tabs .ui_tab {
    height: unset;
    margin-top: 14px;
    padding-bottom: 8px;
    position: relative;
    left: 50%;
    transform: translatex(-50%);
  }
.rtl DIV.prw_rup.prw_flights_trip_search_form .ui_tabs .ui_tab {
    transform: translatex(50%);
  }
}
DIV.prw_rup.prw_flights_trip_search_form .ui_tabs .ui_tab.active {
  color: white;
  font-weight: bold;
  border-bottom: 2px solid white;
  padding-bottom: 2px;
}
@media (max-width: 767px) {
DIV.prw_rup.prw_flights_trip_search_form .ui_tabs .ui_tab.active {
    padding-bottom: 6px;
  }
}
DIV.prw_rup.prw_flights_trip_search_form .ui_tabs .ui_tab.active:hover {
  color: white;
}
DIV.prw_rup.prw_flights_trip_search_form .ui_tabs .ui_tab:hover {
  color: #00a680;
}
DIV.prw_rup.prw_flights_trip_search_form .majorParam {
  padding: 12px 24px 0 24px;
}
DIV.prw_rup.prw_flights_trip_search_form .provider_pill {
  padding: 0 12px 12px 12px;
}
DIV.prw_rup.prw_flights_trip_search_form .provider_pill .ui_checkbox + .ui_checkbox {
  margin-left: 2rem;
}
DIV.prw_rup.prw_flights_trip_search_form .highlight {
  padding: 0;
  border: none;
}
DIV.prw_rup.prw_flights_trip_search_form .addFlight,
DIV.prw_rup.prw_flights_trip_search_form .removeFlight {
  color: white;
}
DIV.prw_rup.prw_flights_trip_search_form .homepageContainer .ui_tabs {
  text-align: left;
}
DIV.prw_rup.prw_flights_trip_search_form .homepageContainer .ui_tabs .ui_tab {
  font-weight: bold;
  color: white;
  height: 42px;
}
DIV.prw_rup.prw_flights_trip_search_form .homepageContainer .ui_tabs .ui_tab.active {
  border-bottom: 3px solid #ffffff;
}
DIV.prw_rup.prw_flights_trip_search_form .homepageContainer .ui_tabs .ui_tab:hover,
DIV.prw_rup.prw_flights_trip_search_form .homepageContainer .ui_tabs .ui_tab.active:hover {
  color: white;
}
@media (max-width: 767px) {
DIV.prw_rup.prw_flights_trip_search_form .homepageContainer .ui_tabs .ui_tab {
    height: unset;
  }
}
DIV.prw_rup.prw_flights_trip_search_form .homepageContainer .additionalOptions {
  background-color: white;
  width: 97%;
  padding-top: 12px;
}
DIV.prw_rup.prw_flights_trip_search_form .homepageContainer .additionalOptions .ui_columns .ui_column {
  padding-bottom: 12px;
}
DIV.prw_rup.prw_flights_trip_search_form .homepageContainer .additionalOptions .ui_columns .aw-email {
  padding-bottom: 0;
  background-color: white;
}
DIV.prw_rup.prw_flights_trip_search_form .homepageContainer .formBelow {
  display: block;
}
DIV.prw_rup.prw_flights_trip_search_form .homepageContainer .provider_pill .ui_checkbox + .ui_checkbox {
  margin-left: 1rem;
}
DIV.prw_rup.prw_flights_trip_search_form .homepageContainer .tabContent.multiCity .dp_column.ui_column:last-child {
  border: 1px solid #e5e5e5;
}
DIV.prw_rup.prw_flights_trip_search_form .homepageContainer .nonstop label,
DIV.prw_rup.prw_flights_trip_search_form .homepageContainer .nearby label,
DIV.prw_rup.prw_flights_trip_search_form .homepageContainer .airwatch label,
DIV.prw_rup.prw_flights_trip_search_form .homepageContainer .aw-email {
  color: black;
}
DIV.prw_rup.prw_flights_trip_search_form .homepageContainer .providers {
  padding: 0;
  margin: 0;
}
DIV.prw_rup.prw_flights_trip_search_form .homepageContainer .majorParam {
  padding: 0 12px;
}
DIV.prw_rup.prw_flights_trip_search_form .homepageContainer .provider_pill {
  padding: 0;
}
@media (max-width: 767px) {
DIV.prw_rup.prw_flights_trip_search_form .homepageContainer .additionalOptions {
    margin-left: 9px;
  }
DIV.prw_rup.prw_flights_trip_search_form .homepageContainer .additionalOptions.oneWay {
    display: none;
  }
DIV.prw_rup.prw_flights_trip_search_form .homepageContainer .airwatch {
    padding: 8px;
  }
DIV.prw_rup.prw_flights_trip_search_form .homepageContainer .aw-email {
    border-bottom: solid 1px #ddd;
  }
}
@media (min-width: 768px) {
DIV.prw_rup.prw_flights_trip_search_form .homepageContainer .additionalOptions {
    margin-left: 15px;
  }
}
@media (min-width: 1024px) {
DIV.prw_rup.prw_flights_trip_search_form .homepageContainer .ui_tabs {
    padding-left: 0;
  }
DIV.prw_rup.prw_flights_trip_search_form .homepageContainer .cpp_column {
    width: 20.5%;
  }
}
@media (min-width: 768px) {
DIV.prw_rup.prw_flights_trip_search_form .mcTypeahead {
    width: calc(100% - 160px);
    height: 54px;
  }
}
@media (max-width: 767px) {
DIV.prw_rup.prw_flights_trip_search_form .multiCity.noMobile {
    display: none;
  }
}
DIV.prw_rup.prw_flights_trip_search_form .tabContent {
  display: none;
}
DIV.prw_rup.prw_flights_trip_search_form .tabContent.active {
  display: block;
}
DIV.prw_rup.prw_flights_trip_search_form .tabContent.multiCity .mc_row {
  margin-bottom: 6px;
}
DIV.prw_rup.prw_flights_trip_search_form .tabContent.multiCity .mc_row.hidden {
  display: none;
}
DIV.prw_rup.prw_flights_trip_search_form .tabContent.multiCity .dp_column {
  border-radius: inherit;
  border-top-left-radius: 0;
  border-bottom-left-radius: 0;
}
@media (min-width: 768px) {
DIV.prw_rup.prw_flights_trip_search_form .tabContent.multiCity .dp_column {
    width: 160px;
  }
}
@media (min-width: 768px) and (max-width: 1023px) {
DIV.prw_rup.prw_flights_trip_search_form .tabContent.multiCity .trip_search.rounded_lockup {
    border-radius: 50px;
  }
}
DIV.prw_rup.prw_flights_trip_search_form .tabContent.multiCity .mcBottomRow {
  background-color: transparent;
  padding-top: 6px;
  border: none;
}
DIV.prw_rup.prw_flights_trip_search_form .tabContent.multiCity .mcBottomRow .cpp_column {
  border-radius: inherit;
  border-top-right-radius: 0;
  border-bottom-right-radius: 0;
  border: 1px solid #e5e5e5;
}
@media (min-width: 768px) {
DIV.prw_rup.prw_flights_trip_search_form .tabContent.multiCity .mcBottomRow .cpp_column {
    width: 300px;
  }
}
DIV.prw_rup.prw_flights_trip_search_form .tabContent.multiCity .mcBottomRow .ui_icon.search {
  font-size: 32px;
}
@media (max-width: 767px) {
DIV.prw_rup.prw_flights_trip_search_form .tabContent.multiCity .mcBottomRow .ui_icon.search {
    display: none;
  }
}
DIV.prw_rup.prw_flights_trip_search_form .tabContent.multiCity .mcBottomRow .submit_text {
  font-size: 16px;
}
@media (min-width: 768px) {
DIV.prw_rup.prw_flights_trip_search_form .tabContent.multiCity .mcBottomRow .submit_text {
    display: none;
  }
}
DIV.prw_rup.prw_flights_trip_search_form .tabContent.multiCity .mcBottomRow .submit_wrap {
  max-width: 80px;
  margin-top: 0;
  padding: 0;
  border-radius: inherit;
  border-top-left-radius: 0;
  border-bottom-left-radius: 0;
}
@media (max-width: 767px) {
DIV.prw_rup.prw_flights_trip_search_form .tabContent.multiCity .mcBottomRow .submit_wrap {
    max-width: 100%;
    height: 50px;
    margin: 14px 0 4px 0;
    border-radius: 50px;
  }
}
DIV.prw_rup.prw_flights_trip_search_form .tabContent.multiCity .mcBottomRow .form_submit {
  padding: 10px 0 0 0;
  border-radius: inherit;
  display: table;
}
@media (max-width: 767px) {
DIV.prw_rup.prw_flights_trip_search_form .tabContent.multiCity .mcBottomRow .form_submit {
    padding-top: 16px;
  }
}
DIV.prw_rup.prw_flights_trip_search_form .tabContent.multiCity .mcBottomRow .addRemFlightColumn {
  background-color: transparent;
  border-style: none;
  padding: 10px 0 20px 20px;
}
@media (max-width: 767px) {
DIV.prw_rup.prw_flights_trip_search_form .tabContent.multiCity .mcBottomRow .addRemFlightColumn {
    padding-left: 0;
  }
}
DIV.prw_rup.prw_flights_trip_search_form .tabContent.multiCity .mcBottomRow .addRemFlightColumn .addFlight,
DIV.prw_rup.prw_flights_trip_search_form .tabContent.multiCity .mcBottomRow .addRemFlightColumn .removeFlight {
  position: relative;
  padding: 5px;
  cursor: pointer;
  user-select: none;
}
DIV.prw_rup.prw_flights_trip_search_form .tabContent.multiCity .mcBottomRow .addRemFlightColumn .addFlight .addRemFlightSymbol,
DIV.prw_rup.prw_flights_trip_search_form .tabContent.multiCity .mcBottomRow .addRemFlightColumn .removeFlight .addRemFlightSymbol {
  position: relative;
  top: 4px;
  line-height: 5px;
}
DIV.prw_rup.prw_flights_trip_search_form .tabContent.multiCity .mcBottomRow .addRemFlightColumn .addFlight .addRemFlightText,
DIV.prw_rup.prw_flights_trip_search_form .tabContent.multiCity .mcBottomRow .addRemFlightColumn .removeFlight .addRemFlightText {
  font-size: 15px;
  font-weight: bold;
}
DIV.prw_rup.prw_flights_trip_search_form .tabContent.multiCity .mcBottomRow .addRemFlightColumn .addFlight.disabled,
DIV.prw_rup.prw_flights_trip_search_form .tabContent.multiCity .mcBottomRow .addRemFlightColumn .removeFlight.disabled {
  opacity: .5;
  cursor: default;
}
DIV.prw_rup.prw_flights_trip_search_form .tabContent.multiCity .mcBottomRow .addRemFlightColumn .addFlight {
  margin-right: 15px;
}
DIV.prw_rup.prw_flights_trip_search_form .tabContent.multiCity .mcBottomRow .addRemFlightColumn .addFlight .addRemFlightSymbol {
  font-size: 26px;
  margin-right: 4px;
}
DIV.prw_rup.prw_flights_trip_search_form .tabContent.multiCity .mcBottomRow .addRemFlightColumn .removeFlight .addRemFlightSymbol {
  font-size: 32px;
  margin-right: 5px;
}
DIV.prw_rup.prw_flights_trip_search_form .ui_checkbox.includeNearby {
  margin-left: 0;
}
DIV.prw_rup.prw_flights_trip_search_form .ui_checkbox label {
  cursor: pointer;
  display: inline-block;
}
@media (max-width: 767px) {
DIV.prw_rup.prw_flights_trip_search_form .ui_checkbox {
    margin-left: 0;
  }
}
@media (max-width: 767px) {
DIV.prw_rup.prw_flights_trip_search_form .nearby {
    display: none;
  }
DIV.prw_rup.prw_flights_trip_search_form .nonstop {
    display: none;
  }
}
@media (max-width: 767px) and (max-width: 767px) {
DIV.prw_rup.prw_flights_trip_search_form .aw-email {
    color: black;
    border-bottom: solid 1px #999999;
  }
DIV.prw_rup.prw_flights_trip_search_form .aw-email::-webkit-input-placeholder {
    /* Chrome/Opera/Safari */
  
    color: #767676;
  }
DIV.prw_rup.prw_flights_trip_search_form .aw-email::-moz-placeholder {
    /* Firefox 19+ */
  
    color: #767676;
  }
DIV.prw_rup.prw_flights_trip_search_form .aw-email:-ms-input-placeholder {
    /* IE 10+ */
  
    color: #767676;
  }
DIV.prw_rup.prw_flights_trip_search_form .aw-email:-moz-placeholder {
    /* Firefox 18- */
  
    color: #767676;
  }
DIV.prw_rup.prw_flights_trip_search_form .airwatch {
    background-color: rgba(255, 255, 255, 0.8);
    border-radius: 3px;
    padding: 18px;
  }
DIV.prw_rup.prw_flights_trip_search_form .airwatch label {
    color: black;
  }
}
DIV.prw_rup.prw_flights_trip_search_form .airwatch {
  flex-grow: 2;
}
DIV.prw_rup.prw_flights_trip_search_form .airwatch > div {
  display: inline-block;
}
DIV.prw_rup.prw_flights_trip_search_form .airwatch .label {
  margin-right: 12px;
  margin-bottom: 12px;
}
@media (max-width: 767px) {
DIV.prw_rup.prw_flights_trip_search_form .airwatch .label .non-mobile-only {
    display: none;
  }
}
@media (min-width: 768px) {
DIV.prw_rup.prw_flights_trip_search_form .airwatch .label .mobile-only {
    display: none;
  }
}
DIV.prw_rup.prw_flights_trip_search_form .airwatch.classic {
  padding-bottom: 2px;
}
@media (min-width: 768px) {
DIV.prw_rup.prw_flights_trip_search_form .airwatch.classic .label {
    margin-right: 6px;
    padding-bottom: 10px;
  }
}
@media (min-width: 768px) {
DIV.prw_rup.prw_flights_trip_search_form .airwatch.classic .ui_checkbox label {
    font-weight: bold;
    margin-right: 6px;
  }
}
DIV.prw_rup.prw_flights_trip_search_form .airwatch.classic .non-classic-only {
  display: none;
}
DIV.prw_rup.prw_flights_trip_search_form .airwatch.classic .input_highlight {
  border: 0;
}
DIV.prw_rup.prw_flights_trip_search_form .airwatch.classic #awEmailInput.aw-email {
  padding: 5px 6px;
  margin-top: -3px;
  margin-bottom: 8px;
  width: 264px;
  border-bottom: 0;
  background-color: white;
}
DIV.prw_rup.prw_flights_trip_search_form .airwatch.classic #awEmailInput.aw-email:focus {
  margin-top: -4px;
  margin-bottom: 7px;
  border: 1px solid #00a680;
  border-radius: 3px;
}
DIV.prw_rup.prw_flights_trip_search_form .aw-email.error {
  color: #d80007;
}
DIV.prw_rup.prw_flights_trip_search_form .aw-email.error::-webkit-input-placeholder {
  /* Chrome/Opera/Safari */

  color: #d80007;
}
DIV.prw_rup.prw_flights_trip_search_form .aw-email.error::-moz-placeholder {
  /* Firefox 19+ */

  color: #d80007;
}
DIV.prw_rup.prw_flights_trip_search_form .aw-email.error:-ms-input-placeholder {
  /* IE 10+ */

  color: #d80007;
}
DIV.prw_rup.prw_flights_trip_search_form .aw-email.error:-moz-placeholder {
  /* Firefox 18- */

  color: #d80007;
}
DIV.prw_rup.prw_flights_trip_search_form .formBelow {
  display: none;
}
DIV.prw_rup.prw_flights_trip_search_form .additionalOptions {
  background-color: inherit;
  border-radius: 3px;
  width: 100%;
  flex: none;
  -webkit-box-flex: 0;
  padding-top: 8px;
}
DIV.prw_rup.prw_flights_trip_search_form .additionalOptions .ui_checkbox label {
  font-weight: normal;
}
DIV.prw_rup.prw_flights_trip_search_form .additionalOptions.hidden {
  display: none;
}
@media (max-width: 767px) {
DIV.prw_rup.prw_flights_trip_search_form .additionalOptions {
    margin-left: 0;
  }
DIV.prw_rup.prw_flights_trip_search_form .additionalOptions.airwatchDisabled {
    display: none;
  }
}
@media (min-width: 1024px) {
DIV.prw_rup.prw_flights_trip_search_form .additionalOptions {
    margin-left: 15px;
  }
DIV.prw_rup.prw_flights_trip_search_form .additionalOptions .ui_columns .ui_column {
    padding-bottom: 0;
  }
}
DIV.prw_rup.prw_flights_trip_search_form .additionalOptions #awEmailInput {
  display: none;
  border: 0;
  border-bottom: solid 1px #ddd;
  border-radius: 0;
  box-shadow: none;
  padding: 0 0 2px 0;
  margin-right: 12px;
  max-width: 300px;
  background-color: transparent;
}
DIV.prw_rup.prw_flights_trip_search_form .providers {
  margin: 0;
}
@media (max-width: 767px) {
DIV.prw_rup.prw_flights_trip_search_form .providers {
    display: none;
  }
}
DIV.prw_rup.prw_flights_trip_search_form .compare {
  display: flex;
}
DIV.prw_rup.prw_flights_trip_search_form .ui_columns.is-narrow {
  font-size: 15px;
  margin: 0;
}
DIV.prw_rup.prw_flights_trip_search_form .trip_search.rounded_lockup .submit_wrap .hu,
DIV.prw_rup.prw_flights_trip_search_form .trip_search.rounded_lockup .submit_wrap .pt_PT {
  font-size: 18px;
}
DIV.prw_rup.prw_flights_trip_search_form .trip_search.rounded_lockup .submit_wrap .ar,
DIV.prw_rup.prw_flights_trip_search_form .trip_search.rounded_lockup .submit_wrap .da,
DIV.prw_rup.prw_flights_trip_search_form .trip_search.rounded_lockup .submit_wrap .el,
DIV.prw_rup.prw_flights_trip_search_form .trip_search.rounded_lockup .submit_wrap .fr,
DIV.prw_rup.prw_flights_trip_search_form .trip_search.rounded_lockup .submit_wrap .in,
DIV.prw_rup.prw_flights_trip_search_form .trip_search.rounded_lockup .submit_wrap .ja,
DIV.prw_rup.prw_flights_trip_search_form .trip_search.rounded_lockup .submit_wrap .nl,
DIV.prw_rup.prw_flights_trip_search_form .trip_search.rounded_lockup .submit_wrap .no,
DIV.prw_rup.prw_flights_trip_search_form .trip_search.rounded_lockup .submit_wrap .ru,
DIV.prw_rup.prw_flights_trip_search_form .trip_search.rounded_lockup .submit_wrap .vi {
  font-size: 15px;
}
DIV.prw_rup.prw_flights_trip_search_form .dp_column,
DIV.prw_rup.prw_flights_trip_search_form .nonhome_rt_dp {
  padding: 0;
  cursor: pointer;
}
DIV.prw_rup.prw_flights_trip_search_form .cpp_column,
DIV.prw_rup.prw_flights_trip_search_form .nonhome_rt_cpp {
  padding: 0;
}
DIV.prw_rup.prw_flights_trip_search_form .input_highlight {
  position: absolute;
  border-top: 2px solid #00a680;
  font-size: 14px;
  height: 0;
  color: transparent;
  max-width: 100%;
}
DIV.prw_rup.prw_flights_trip_search_form .aw_email_container {
  position: relative;
  max-width: 300px;
  flex-grow: 1;
  flex-basis: 0;
}
DIV.prw_rup.prw_flights_trip_search_form .multiCity .trip_search .submit_wrap {
  border-width: 0;
}
@media (max-width: 767px) {
DIV.prw_rup.prw_flights_trip_search_form .submit_text {
    display: block;
  }
DIV.prw_rup.prw_flights_trip_search_form .submit_icon {
    display: none;
  }
DIV.prw_rup.prw_flights_trip_search_form .cpp_column {
    height: 50px;
  }
DIV.prw_rup.prw_flights_trip_search_form .dp_column {
    height: 50px;
  }
}
@media (min-width: 768px) and (max-width: 1023px) {
DIV.prw_rup.prw_flights_trip_search_form .trip_search.rounded_lockup {
    border-radius: 3px 0 0 0;
  }
DIV.prw_rup.prw_flights_trip_search_form .trip_search.rounded_lockup .submit_wrap {
    margin-top: 8px;
    border-radius: 3px;
  }
DIV.prw_rup.prw_flights_trip_search_form .dp_column {
    border-bottom-left-radius: 3px;
  }
DIV.prw_rup.prw_flights_trip_search_form .cpp_column {
    border-bottom-right-radius: 3px;
  }
DIV.prw_rup.prw_flights_trip_search_form .submit_icon {
    display: none;
  }
DIV.prw_rup.prw_flights_trip_search_form .rtTypeahead,
DIV.prw_rup.prw_flights_trip_search_form .owTypeahead {
    height: 51px;
  }
}
@media (min-width: 1024px) {
DIV.prw_rup.prw_flights_trip_search_form .cpp_column {
    width: calc(50% - 202px);
  }
DIV.prw_rup.prw_flights_trip_search_form .form_submit {
    display: table;
  }
DIV.prw_rup.prw_flights_trip_search_form .rounded_lockup .ui_picker .dest {
    border-right: none;
  }
DIV.prw_rup.prw_flights_trip_search_form .rtTypeahead,
DIV.prw_rup.prw_flights_trip_search_form .owTypeahead {
    height: 54px;
  }
}
@media (min-width: 1024px) and (max-width: 1279px) {
DIV.prw_rup.prw_flights_trip_search_form .submit_text {
    display: inline-block;
  }
DIV.prw_rup.prw_flights_trip_search_form .homepageContainer .submit_text {
    display: none;
  }
DIV.prw_rup.prw_flights_trip_search_form .homepageContainer .submit_icon {
    display: inline-block;
  }
DIV.prw_rup.prw_flights_trip_search_form .submit_icon {
    display: none;
  }
DIV.prw_rup.prw_flights_trip_search_form .dp_column {
    width: 202px;
  }
}
@media (min-width: 1280px) {
DIV.prw_rup.prw_flights_trip_search_form .dp_column {
    width: 210px;
  }
DIV.prw_rup.prw_flights_trip_search_form .submit_text {
    display: block;
  }
DIV.prw_rup.prw_flights_trip_search_form .submit_icon {
    display: none;
  }
}
DIV.prw_rup.prw_flights_trip_search_form .rtOnly.ui_container {
  padding: 0;
}
DIV.prw_rup.prw_flights_trip_search_form .rtOnly .ui_picker {
  font-size: 16px;
  line-height: 20px;
}
DIV.prw_rup.prw_flights_trip_search_form .rtOnly .ui_picker .target:after {
  border-color: transparent;
}
DIV.prw_rup.prw_flights_trip_search_form .rtOnly .ui_picker .target:hover:after {
  border-bottom: 1px solid #00a680;
}
DIV.prw_rup.prw_flights_trip_search_form .rtOnly .ui_picker .focused .target:after {
  border-bottom: 1px solid #00a680;
}
DIV.prw_rup.prw_flights_trip_search_form .rtOnly .nonstop label,
DIV.prw_rup.prw_flights_trip_search_form .rtOnly .nearby label,
DIV.prw_rup.prw_flights_trip_search_form .rtOnly .airwatch label,
DIV.prw_rup.prw_flights_trip_search_form .rtOnly .aw-email {
  color: black;
}
DIV.prw_rup.prw_flights_trip_search_form .rtOnly .rounded_lockup > .ui_column {
  border-width: 1px;
  border-style: solid;
  border-color: #e5e5e5;
  border-right-width: 0;
}
DIV.prw_rup.prw_flights_trip_search_form .rtOnly .rounded_lockup {
  margin: 0 auto;
  border-radius: 50px;
}
DIV.prw_rup.prw_flights_trip_search_form .rtOnly .rounded_lockup > .ui_column:last-child {
  border-radius: inherit;
  border-top-left-radius: 0;
  border-bottom-left-radius: 0;
}
@media (min-width: 1024px) {
DIV.prw_rup.prw_flights_trip_search_form .rtOnly .rounded_lockup > .ui_column:last-child {
    border: 1px solid #e5e5e5;
  }
}
DIV.prw_rup.prw_flights_trip_search_form .rtOnly .rounded_lockup .ui_column:first-child {
  border-radius: inherit;
  border-top-right-radius: 0;
  border-bottom-right-radius: 0;
}
DIV.prw_rup.prw_flights_trip_search_form .rtOnly .form_submit {
  width: 100%;
  height: 100%;
  padding: 14px 24px;
  box-sizing: border-box;
  border: 1px solid #00a680;
  border-radius: 50px;
  background-color: #00a680;
  font-weight: bold;
  font-size: 20px;
  line-height: 24px;
  color: #ffffff;
  text-align: center;
  white-space: nowrap;
  cursor: pointer;
}
DIV.prw_rup.prw_flights_trip_search_form .rtOnly .form_submit:hover,
DIV.prw_rup.prw_flights_trip_search_form .rtOnly .form_submit:focus {
  border-color: #00c094;
  background-color: #00c094;
  outline: none;
}
DIV.prw_rup.prw_flights_trip_search_form .rtOnly .form_submit:active {
  border-color: #005a45;
  background-color: #005a45;
  outline: none;
}
DIV.prw_rup.prw_flights_trip_search_form .rtOnly .additionalOptions {
  margin: 0;
}
@media (min-width: 768px) and (max-width: 1023px) {
DIV.prw_rup.prw_flights_trip_search_form .rtOnly .trip_search.rounded_lockup {
    border-radius: 3px 0 0 0;
  }
DIV.prw_rup.prw_flights_trip_search_form .rtOnly .submit_wrap {
    margin-top: 8px;
    border-radius: 3px;
  }
DIV.prw_rup.prw_flights_trip_search_form .rtOnly .dp_column {
    border-bottom-left-radius: 3px;
  }
DIV.prw_rup.prw_flights_trip_search_form .rtOnly .cpp_column {
    border-bottom-right-radius: 3px;
  }
DIV.prw_rup.prw_flights_trip_search_form .rtOnly .rounded_lockup > .ui_column:first-child {
    border-bottom-width: 0;
  }
DIV.prw_rup.prw_flights_trip_search_form .rtOnly .rounded_lockup > .ui_column:last-child {
    border-right: 1px solid #e5e5e5;
  }
}
@media (max-width: 767px) {
DIV.prw_rup.prw_flights_trip_search_form .rtOnly .rounded_lockup {
    background-color: #ffffff;
    border-radius: 2px;
    border-color: #e5e5e5;
    border-width: 1px 0 0 1px;
    border-style: solid;
  }
DIV.prw_rup.prw_flights_trip_search_form .rtOnly .rounded_lockup > .ui_column {
    border-width: 0 1px 1px 0;
  }
DIV.prw_rup.prw_flights_trip_search_form .rtOnly .rounded_lockup > .ui_column:first-child {
    border-top-width: 1px;
    border-top-right-radius: inherit;
    border-bottom-left-radius: 0;
  }
DIV.prw_rup.prw_flights_trip_search_form .rtOnly .rounded_lockup.loading {
    background-color: #f5f5f5;
  }
DIV.prw_rup.prw_flights_trip_search_form .rtOnly .ui_typeahead.ui_column {
    border-right-width: 0;
  }
DIV.prw_rup.prw_flights_trip_search_form .rtOnly .ui_picker {
    padding-top: 4px;
    padding-bottom: 4px;
  }
DIV.prw_rup.prw_flights_trip_search_form .rtOnly .submit_wrap {
    margin: 4px;
    border-radius: 2px;
  }
DIV.prw_rup.prw_flights_trip_search_form .rtOnly .form_submit {
    font-size: 14px;
    line-height: 18px;
  }
}
DIV.prw_rup.prw_flights_trip_search_form .compactContainer {
  cursor: pointer;
}
DIV.prw_rup.prw_flights_trip_search_form .compactContainer.open {
  padding-top: 10px;
  box-shadow: 0 7px 3px -5px rgba(0, 0, 0, 0.5);
  z-index: 600;
  background-color: #f1f1f1;
  cursor: unset;
}
DIV.prw_rup.prw_flights_trip_search_form .compactContainer.open .bottom_submit_wrap.multiCity {
  display: block;
  padding: 8px 12px 20px 12px;
  margin-left: -24px;
}
@media (min-width: 768px) and (max-width: 1023px) {
DIV.prw_rup.prw_flights_trip_search_form .compactContainer.open .bottom_submit_wrap.multiCity {
    padding-top: 0;
  }
}
@media (max-width: 767px) {
DIV.prw_rup.prw_flights_trip_search_form .compactContainer.open .bottom_submit_wrap.multiCity {
    margin-left: -16px;
    padding-right: 0;
  }
}
@media (min-width: 768px) {
DIV.prw_rup.prw_flights_trip_search_form .compactContainer.open .bottom_submit_wrap.multiCity .searchBtn {
    width: calc(25% - 19px);
  }
}
@media (max-width: 767px) {
DIV.prw_rup.prw_flights_trip_search_form .compactContainer.open .bottom_submit_wrap.multiCity .searchBtn {
    padding-top: 7px;
  }
}
DIV.prw_rup.prw_flights_trip_search_form .compactContainer.open .compactContainerPane {
  display: none;
}
DIV.prw_rup.prw_flights_trip_search_form .compactContainer.open .compactMulticityExpanded {
  display: block;
}
DIV.prw_rup.prw_flights_trip_search_form .compactContainer.open .compactMulticitySummary {
  display: none;
}
@media (max-width: 767px) {
DIV.prw_rup.prw_flights_trip_search_form .compactContainer.open .bottom_submit_wrap {
    display: block;
    padding: 8px 0 18px 0;
    margin: 0 -4px;
  }
DIV.prw_rup.prw_flights_trip_search_form .compactContainer.open .searchBtn {
    width: 100%;
    padding: 8px 0;
  }
}
DIV.prw_rup.prw_flights_trip_search_form .compactContainer #ow_ui_picker,
DIV.prw_rup.prw_flights_trip_search_form .compactContainer #rt_ui_picker {
  height: 38px;
  background-color: white;
  margin: 0 4px 0 0;
  border: 1px solid #e5e5e5;
}
@media (max-width: 1023px) {
DIV.prw_rup.prw_flights_trip_search_form .compactContainer #ow_ui_picker,
DIV.prw_rup.prw_flights_trip_search_form .compactContainer #rt_ui_picker {
    height: 30px;
  }
}
@media (max-width: 767px) {
DIV.prw_rup.prw_flights_trip_search_form .compactContainer #ow_ui_picker,
DIV.prw_rup.prw_flights_trip_search_form .compactContainer #rt_ui_picker {
    margin-left: 0;
    margin-right: 0;
  }
}
DIV.prw_rup.prw_flights_trip_search_form .compactContainer #ow_ui_picker .caret-down,
DIV.prw_rup.prw_flights_trip_search_form .compactContainer #rt_ui_picker .caret-down {
  display: none;
}
DIV.prw_rup.prw_flights_trip_search_form .compactContainer #cos_ui_picker {
  padding: 0;
  border: 1px solid #e5e5e5;
}
DIV.prw_rup.prw_flights_trip_search_form .compactContainer label {
  color: #000a12;
  font-size: 14px;
}
DIV.prw_rup.prw_flights_trip_search_form .compactContainer .addFlight,
DIV.prw_rup.prw_flights_trip_search_form .compactContainer .removeFlight {
  color: #00a680;
}
DIV.prw_rup.prw_flights_trip_search_form .compactContainer .additionalOptions {
  padding-bottom: 0;
}
DIV.prw_rup.prw_flights_trip_search_form .compactContainer .bottom_submit_wrap {
  display: none;
}
DIV.prw_rup.prw_flights_trip_search_form .compactContainer .compactContainerPane {
  position: absolute;
  z-index: 700;
  width: 100%;
  height: 100%;
  margin-left: -24px;
  cursor: pointer;
}
DIV.prw_rup.prw_flights_trip_search_form .compactContainer .compactMulticityExpanded {
  display: none;
}
DIV.prw_rup.prw_flights_trip_search_form .compactContainer .compactMulticitySummary {
  margin: 0 -12px 0 -12px;
}
@media (min-width: 768px) {
DIV.prw_rup.prw_flights_trip_search_form .compactContainer .compactMulticitySummary {
    display: flex;
  }
}
DIV.prw_rup.prw_flights_trip_search_form .compactContainer .compactMulticitySummary .cpp_column {
  width: 191px;
  margin: 0;
}
@media (max-width: 767px) {
DIV.prw_rup.prw_flights_trip_search_form .compactContainer .compactMulticitySummary .cpp_column {
    width: calc(100% - 4px);
    margin-left: 3px;
  }
}
DIV.prw_rup.prw_flights_trip_search_form .compactContainer .compactMulticitySummary .submit_wrap {
  padding: 0 0 0 4px;
}
@media (max-width: 767px) {
DIV.prw_rup.prw_flights_trip_search_form .compactContainer .compactMulticitySummary .submit_wrap {
    display: none;
  }
}
DIV.prw_rup.prw_flights_trip_search_form .compactContainer .cosPassengerPicker {
  margin-top: 0;
  padding: 8px 0 7px 12px;
  line-height: 19px;
}
@media (max-width: 1023px) {
DIV.prw_rup.prw_flights_trip_search_form .compactContainer .cosPassengerPicker {
    padding: 4px 0 3px 12px;
  }
}
DIV.prw_rup.prw_flights_trip_search_form .compactContainer .cpp_column,
DIV.prw_rup.prw_flights_trip_search_form .compactContainer .nonhome_rt_cpp {
  height: 40px;
  width: 50%;
  background-color: white;
}
@media (max-width: 1023px) {
DIV.prw_rup.prw_flights_trip_search_form .compactContainer .cpp_column,
DIV.prw_rup.prw_flights_trip_search_form .compactContainer .nonhome_rt_cpp {
    height: 32px;
    margin-right: 4px;
  }
}
DIV.prw_rup.prw_flights_trip_search_form .compactContainer .date_cos_passenger_grouper {
  display: flex;
  width: calc(50% - 50px);
}
@media (max-width: 767px) {
DIV.prw_rup.prw_flights_trip_search_form .compactContainer .date_cos_passenger_grouper {
    width: inherit;
    padding-top: 4px;
  }
}
DIV.prw_rup.prw_flights_trip_search_form .compactContainer .dp_column,
DIV.prw_rup.prw_flights_trip_search_form .compactContainer .nonhome_rt_dp {
  width: 50%;
  height: inherit;
}
@media (max-width: 767px) {
DIV.prw_rup.prw_flights_trip_search_form .compactContainer .dp_column,
DIV.prw_rup.prw_flights_trip_search_form .compactContainer .nonhome_rt_dp {
    margin-right: 4px;
  }
}
DIV.prw_rup.prw_flights_trip_search_form .compactContainer .form_submit {
  width: 96px;
  height: 40px;
  padding: 0;
  box-sizing: border-box;
  border: 1px solid #00a680;
  border-radius: 2px;
  background-color: #00a680;
  font-weight: bold;
  color: #ffffff;
  text-align: center;
  white-space: nowrap;
  cursor: pointer;
}
@media (max-width: 1023px) {
DIV.prw_rup.prw_flights_trip_search_form .compactContainer .form_submit {
    height: 32px;
  }
}
DIV.prw_rup.prw_flights_trip_search_form .compactContainer .form_submit:disabled {
  opacity: .5;
}
DIV.prw_rup.prw_flights_trip_search_form .compactContainer .form_submit:not(:disabled):hover,
DIV.prw_rup.prw_flights_trip_search_form .compactContainer .form_submit:not(:disabled):focus {
  border-color: #00c094;
  background-color: #00c094;
  outline: none;
}
DIV.prw_rup.prw_flights_trip_search_form .compactContainer .form_submit:not(:disabled):active {
  border-color: #005a45;
  background-color: #005a45;
  outline: none;
}
@media (max-width: 767px) {
DIV.prw_rup.prw_flights_trip_search_form .compactContainer .grouper.ui_columns {
    display: flex;
  }
}
DIV.prw_rup.prw_flights_trip_search_form .compactContainer .mcSummaryDates,
DIV.prw_rup.prw_flights_trip_search_form .compactContainer .mcSummaryRoutes {
  background-color: white;
  border: 1px solid #e5e5e5;
  padding: 0;
}
DIV.prw_rup.prw_flights_trip_search_form .compactContainer .mcSummaryDates::before,
DIV.prw_rup.prw_flights_trip_search_form .compactContainer .mcSummaryRoutes::before {
  position: relative;
  top: 2px;
  left: 8px;
}
@media (max-width: 1023px) {
DIV.prw_rup.prw_flights_trip_search_form .compactContainer .mcSummaryDates::before,
DIV.prw_rup.prw_flights_trip_search_form .compactContainer .mcSummaryRoutes::before {
    top: -3px;
  }
}
@media (max-width: 1023px) {
DIV.prw_rup.prw_flights_trip_search_form .compactContainer .mcSummaryDates,
DIV.prw_rup.prw_flights_trip_search_form .compactContainer .mcSummaryRoutes {
    padding-top: 2px;
  }
}
DIV.prw_rup.prw_flights_trip_search_form .compactContainer .mcSummaryDatesText,
DIV.prw_rup.prw_flights_trip_search_form .compactContainer .mcSummaryRoutesText {
  display: inline-block;
  position: relative;
  left: 12px;
  top: 8px;
  width: calc(100% - 40px);
  color: #000a12;
  font-size: 14px;
  overflow: hidden;
  text-overflow: ellipsis;
}
@media (max-width: 1023px) {
DIV.prw_rup.prw_flights_trip_search_form .compactContainer .mcSummaryDatesText,
DIV.prw_rup.prw_flights_trip_search_form .compactContainer .mcSummaryRoutesText {
    top: 3px;
  }
}
DIV.prw_rup.prw_flights_trip_search_form .compactContainer .mcSummaryDates {
  width: calc(43% - 6px);
}
DIV.prw_rup.prw_flights_trip_search_form .compactContainer .mcSummaryGrouper {
  display: flex;
  padding: 0;
  width: 100%;
  font-size: 20px;
}
@media (max-width: 767px) {
DIV.prw_rup.prw_flights_trip_search_form .compactContainer .mcSummaryGrouper {
    padding: 0 0 4px 3px;
  }
}
DIV.prw_rup.prw_flights_trip_search_form .compactContainer .mcSummaryRoutes {
  width: calc(57% - 6px);
}
DIV.prw_rup.prw_flights_trip_search_form .compactContainer .mcTypeahead,
DIV.prw_rup.prw_flights_trip_search_form .compactContainer .owTypeahead,
DIV.prw_rup.prw_flights_trip_search_form .compactContainer .rtTypeahead {
  height: 40px;
  margin-right: 8px;
}
@media (max-width: 1023px) {
DIV.prw_rup.prw_flights_trip_search_form .compactContainer .mcTypeahead,
DIV.prw_rup.prw_flights_trip_search_form .compactContainer .owTypeahead,
DIV.prw_rup.prw_flights_trip_search_form .compactContainer .rtTypeahead {
    height: 32px;
  }
}
@media (max-width: 767px) {
DIV.prw_rup.prw_flights_trip_search_form .compactContainer .mcTypeahead,
DIV.prw_rup.prw_flights_trip_search_form .compactContainer .owTypeahead,
DIV.prw_rup.prw_flights_trip_search_form .compactContainer .rtTypeahead {
    margin-right: 0;
  }
}
DIV.prw_rup.prw_flights_trip_search_form .compactContainer .more_option {
  display: block;
  margin-left: -30px;
}
@media (min-width: 768px) and (max-width: 1023px) {
DIV.prw_rup.prw_flights_trip_search_form .compactContainer .more_option {
    margin-left: -15px;
  }
}
@media (max-width: 767px) {
DIV.prw_rup.prw_flights_trip_search_form .compactContainer .more_option {
    margin-left: -11px;
  }
}
DIV.prw_rup.prw_flights_trip_search_form .compactContainer .nonstop,
DIV.prw_rup.prw_flights_trip_search_form .compactContainer .nearby {
  display: inline-block;
}
@media (min-width: 768px) and (max-width: 1023px) {
DIV.prw_rup.prw_flights_trip_search_form .compactContainer .nonstop,
DIV.prw_rup.prw_flights_trip_search_form .compactContainer .nearby {
    padding-bottom: 0;
  }
}
@media (min-width: 768px) and (max-width: 1023px) {
DIV.prw_rup.prw_flights_trip_search_form .compactContainer .provider_pill .ui_column {
    padding-top: 0;
  }
}
DIV.prw_rup.prw_flights_trip_search_form .compactContainer .providers {
  background-color: transparent;
  padding-top: 9px;
  margin-left: -41px;
}
@media (min-width: 768px) and (max-width: 1023px) {
DIV.prw_rup.prw_flights_trip_search_form .compactContainer .providers {
    margin-left: -26px;
  }
}
DIV.prw_rup.prw_flights_trip_search_form .compactContainer .query {
  background-color: white;
  color: #000a12;
}
DIV.prw_rup.prw_flights_trip_search_form .compactContainer .rounded_lockup .ui_picker .ui_typeahead {
  border: 1px solid #e5e5e5;
  height: inherit;
  padding: 7px 9px 10px 9px;
}
@media (max-width: 1023px) {
DIV.prw_rup.prw_flights_trip_search_form .compactContainer .rounded_lockup .ui_picker .ui_typeahead {
    padding-top: 2px;
  }
}
DIV.prw_rup.prw_flights_trip_search_form .compactContainer .submit_text {
  font-size: 14px;
}
@media (min-width: 1024px) {
DIV.prw_rup.prw_flights_trip_search_form .compactContainer .tabContent.multiCity .dp_column {
    width: 228px;
  }
}
@media (max-width: 767px) {
DIV.prw_rup.prw_flights_trip_search_form .compactContainer .tabContent.multiCity .dp_column {
    width: 100%;
    padding: 4px 4px 4px 0;
  }
}
DIV.prw_rup.prw_flights_trip_search_form .compactContainer .tabContent.multiCity .mcBottomRow {
  width: calc(50% + 197px);
}
@media (min-width: 768px) and (max-width: 1023px) {
DIV.prw_rup.prw_flights_trip_search_form .compactContainer .tabContent.multiCity .mcBottomRow {
    width: calc(50% + 133px);
  }
}
@media (max-width: 767px) {
DIV.prw_rup.prw_flights_trip_search_form .compactContainer .tabContent.multiCity .mcBottomRow {
    width: 100%;
    padding-top: 2px;
  }
}
DIV.prw_rup.prw_flights_trip_search_form .compactContainer .tabContent.multiCity .mcBottomRow .addRemFlightColumn {
  padding-left: 0;
}
DIV.prw_rup.prw_flights_trip_search_form .compactContainer .tabContent.multiCity .mcBottomRow .cpp_column {
  width: 224px;
  border: none;
}
@media (min-width: 768px) and (max-width: 1023px) {
DIV.prw_rup.prw_flights_trip_search_form .compactContainer .tabContent.multiCity .mcBottomRow .cpp_column {
    width: 156px;
  }
}
@media (max-width: 767px) {
DIV.prw_rup.prw_flights_trip_search_form .compactContainer .tabContent.multiCity .mcBottomRow .cpp_column {
    width: calc(100% + 8px);
  }
}
DIV.prw_rup.prw_flights_trip_search_form .compactContainer .trip_search.rounded_lockup .submit_wrap {
  padding: 0 0 0 4px;
  margin-top: 0;
}
@media (max-width: 767px) {
DIV.prw_rup.prw_flights_trip_search_form .compactContainer .trip_search.rounded_lockup .submit_wrap {
    display: none;
  }
}
DIV.prw_rup.prw_flights_trip_search_form .compactContainer .ui_column.is-6-desktop {
  width: calc(50% - 50px);
}
@media (max-width: 767px) {
DIV.prw_rup.prw_flights_trip_search_form .compactContainer .ui_column.is-6-desktop {
    width: inherit;
  }
}
DIV.prw_rup.prw_flights_trip_search_form .compactContainer .ui_column .query {
  width: calc(92%);
}
@media (max-width: 767px) {
DIV.prw_rup.prw_flights_trip_search_form .compactContainer .ui_columns.trip_search {
    margin-left: -4px;
  }
}
DIV.prw_rup.prw_flights_trip_search_form .compactContainer .ui_icon.pickerType,
DIV.prw_rup.prw_flights_trip_search_form .compactContainer .query {
  cursor: pointer;
}
@media (min-width: 1024px) {
DIV.prw_rup.prw_flights_trip_search_form .compactContainer .ui_picker,
DIV.prw_rup.prw_flights_trip_search_form .compactContainer .query {
    font-size: 14px;
  }
}
DIV.prw_rup.prw_flights_trip_search_form .compactContainer .ui_picker .target:after {
  border-bottom: 0;
}
DIV.prw_rup.prw_flights_trip_search_form .compactContainer .ui_icon.minus {
  font-size: 14px;
}
DIV.prw_rup.prw_flights_trip_search_form .compactContainer .ui_icon.pickerType {
  margin: 0 4px 0 0;
}
DIV.prw_rup.prw_flights_trip_search_form .compactContainer .ui_tabs {
  margin-left: -15px;
}
DIV.prw_rup.prw_flights_trip_search_form .compactContainer .ui_tabs .ui_tab {
  margin-top: 2px;
  color: #000a12;
  font-weight: bold;
  padding-bottom: 6px;
  border-bottom-color: #00a680;
}
DIV.prw_rup.prw_flights_trip_search_form .compactContainer .ui_tabs .ui_tab.active {
  padding-bottom: 4px;
}
DIV.prw_rup.prw_flights_trip_search_form .compactContainer .ui_tabs .ui_tab:hover {
  color: unset;
}
@media (max-width: 767px) {
DIV.prw_rup.prw_flights_trip_search_form .compactContainer .ui_tabs .ui_tab {
    font-weight: normal;
  }
}
DIV.prw_rup.prw_flights_trip_search_form .compactContainer .unified-picker {
  padding: 7px 0 13px 0;
}
@media (max-width: 1023px) {
DIV.prw_rup.prw_flights_trip_search_form .compactContainer .unified-picker {
    padding-top: 3px;
  }
}
DIV.prw_rup.prw_flights_trip_search_form .compactContainer:not(.open) .ui_tabs,
DIV.prw_rup.prw_flights_trip_search_form .compactContainer:not(.open) .additionalOptions {
  display: none;
}
DIV.prw_rup.prw_flights_trip_search_form .pagePane {
  position: fixed;
  background-color: transparent;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
}
DIV.prw_rup.prw_flights_trip_search_form .pagePane.hidden {
  display: none;
}
--></style> 
  <style type="text/css"><!--
DIV.prw_rup.prw_flights_trip_search_typeahead .ui_typeahead {
  position: relative;
  display: block;
}
DIV.prw_rup.prw_flights_trip_search_typeahead .ui_typeahead .ui_typeahead_results {
  position: absolute;
  background-color: #ffffff;
  font-size: 14px;
  border: 1px solid #cccccc;
  box-sizing: border-box;
  width: 100%;
  z-index: 1;
  /* to show on top of other ui_ elements */

  max-height: 182px;
  overflow-y: auto;
}
DIV.prw_rup.prw_flights_trip_search_typeahead .ui_typeahead .ui_typeahead_results li {
  padding: 5px 15px;
  cursor: default;
  position: relative;
}
DIV.prw_rup.prw_flights_trip_search_typeahead .ui_typeahead .ui_typeahead_results li.ui_icon {
  padding-left: 38px;
}
DIV.prw_rup.prw_flights_trip_search_typeahead .ui_typeahead .ui_typeahead_results li.ui_icon::before {
  font-size: 16px;
  position: absolute;
  left: 15px;
}
DIV.prw_rup.prw_flights_trip_search_typeahead .ui_typeahead .ui_typeahead_results li.selected {
  background-color: #cccccc;
  cursor: pointer;
}
DIV.prw_rup.prw_flights_trip_search_typeahead .ui_typeahead .ui_typeahead_results li.help {
  color: #999999;
  border-top: 1px dotted #999999;
}
DIV.prw_rup.prw_flights_trip_search_typeahead .ui_typeahead .ui_typeahead_results li.notice {
  font-style: italic;
}
DIV.prw_rup.prw_flights_trip_search_typeahead .ui_typeahead .ui_typeahead_results li.add.ui_icon.plus-circle {
  border-top: 1px dotted #999999;
  padding-left: 44px;
}
DIV.prw_rup.prw_flights_trip_search_typeahead .ui_typeahead .ui_typeahead_results li.add.ui_icon.plus-circle::before {
  color: #00a680;
  font-size: 22px;
  top: 2px;
}
DIV.prw_rup.prw_flights_trip_search_typeahead .ui_picker {
  position: relative;
  overflow: hidden;
  padding: 2px 24px 0 0;
  font-size: 18px;
  line-height: 22px;
  color: #000a12;
  text-overflow: ellipsis;
  white-space: nowrap;
  outline: none;
}
DIV.prw_rup.prw_flights_trip_search_typeahead .ui_picker .ghost_text {
  color: #767676;
}
DIV.prw_rup.prw_flights_trip_search_typeahead .ui_picker .ui_icon {
  color: #4a4a4a;
}
DIV.prw_rup.prw_flights_trip_search_typeahead .ui_picker .ui_icon.pickerType {
  display: none;
  margin: 0 8px 0 4px;
  font-size: 20px;
  color: #00a680;
  cursor: pointer;
}
DIV.prw_rup.prw_flights_trip_search_typeahead .ui_picker .ui_icon.minus {
  margin: 0 4px;
}
DIV.prw_rup.prw_flights_trip_search_typeahead .ui_picker .ui_icon.caret-down {
  position: absolute;
  top: 50%;
  right: 0;
  font-size: 14px;
  -moz-transform: translateY(-50%);
  -ms-transform: translateY(-50%);
  -webkit-transform: translateY(-50%);
  transform: translateY(-50%);
}
DIV.prw_rup.prw_flights_trip_search_typeahead .ui_picker .ui_icon.caret-down.opened {
  transform: rotate(180deg);
}
DIV.prw_rup.prw_flights_trip_search_typeahead .ui_picker.no-caret {
  padding-right: 0;
}
DIV.prw_rup.prw_flights_trip_search_typeahead .ui_picker .target {
  display: inline-block;
  cursor: pointer;
}
DIV.prw_rup.prw_flights_trip_search_typeahead .ui_picker .target:after {
  display: block;
  padding-top: 2px;
  border-bottom: 1px dotted #4a4a4a;
  background-color: #ffffff;
  content: "";
}
DIV.prw_rup.prw_flights_trip_search_typeahead .ui_picker .target:hover {
  background-color: #e5e5e5;
  color: #000a12;
}
DIV.prw_rup.prw_flights_trip_search_typeahead .ui_picker .target:hover:after {
  border-bottom: 1px solid #00a680;
}
DIV.prw_rup.prw_flights_trip_search_typeahead .ui_picker :focus .target,
DIV.prw_rup.prw_flights_trip_search_typeahead .ui_picker .focused .target {
  background-color: #e5e5e5;
  color: #000a12;
}
DIV.prw_rup.prw_flights_trip_search_typeahead .ui_picker :focus .target:after,
DIV.prw_rup.prw_flights_trip_search_typeahead .ui_picker .focused .target:after {
  border-bottom: 1px solid #00a680;
}
DIV.prw_rup.prw_flights_trip_search_typeahead .ui_picker.highlight .target {
  background-color: #e5e5e5;
  color: #000a12;
}
DIV.prw_rup.prw_flights_trip_search_typeahead .ui_picker.highlight .target:after {
  border-bottom: 1px solid #00a680;
}
DIV.prw_rup.prw_flights_trip_search_typeahead .ui_picker.error {
  color: #d80007;
}
DIV.prw_rup.prw_flights_trip_search_typeahead .ui_picker.error .ui_icon.pickerType {
  color: inherit;
}
DIV.prw_rup.prw_flights_trip_search_typeahead .ui_picker.error .target {
  border-color: #d80007;
}
DIV.prw_rup.prw_flights_trip_search_typeahead .ui_picker.error :focus .target,
DIV.prw_rup.prw_flights_trip_search_typeahead .ui_picker.error .focused .target {
  border-color: #d80007;
}
DIV.prw_rup.prw_flights_trip_search_typeahead .ui_picker.error .highlight .target {
  border-color: #d80007;
}
DIV.prw_rup.prw_flights_trip_search_typeahead .usePickerTypeIcons .ui_picker .ui_icon.pickerType {
  display: inline-block;
}
DIV.prw_rup.prw_flights_trip_search_typeahead {
  padding: 0;
}
DIV.prw_rup.prw_flights_trip_search_typeahead .hidden {
  display: none;
}
DIV.prw_rup.prw_flights_trip_search_typeahead .grouper {
  margin: 0;
  border-radius: inherit;
  height: 100%;
  overflow: visible;
}
@media (max-width: 767px) {
DIV.prw_rup.prw_flights_trip_search_typeahead .grouper {
    padding: 0;
  }
}
DIV.prw_rup.prw_flights_trip_search_typeahead .ui_typeahead.ui_column {
  display: inline-block;
  position: relative;
  margin: 0;
  border: none;
  border-right: 1px solid #e5e5e5;
  padding-left: 19px;
  height: 100%;
  background-color: white;
}
@media (max-width: 767px) {
DIV.prw_rup.prw_flights_trip_search_typeahead .ui_typeahead.ui_column {
    padding-left: 8px;
    height: 50px;
  }
DIV.prw_rup.prw_flights_trip_search_typeahead .ui_typeahead.ui_column.orig {
    border-bottom: 1px solid #e5e5e5;
  }
}
@media (min-width: 768px) and (max-width: 1023px) {
DIV.prw_rup.prw_flights_trip_search_typeahead .ui_typeahead.ui_column {
    padding-left: 16px;
  }
}
DIV.prw_rup.prw_flights_trip_search_typeahead .ui_typeahead.ui_column .ui_typeahead_results {
  top: calc(100% + 3px);
  left: 0;
  width: auto;
  max-height: none;
  z-index: 300;
}
DIV.prw_rup.prw_flights_trip_search_typeahead input.query {
  display: inline-block;
  box-sizing: border-box;
  border: none;
  padding: 0 5px;
  width: 98%;
  width: calc(100% - 12px);
  height: 100%;
  font-size: 16px;
  overflow: hidden;
  text-overflow: ellipsis;
  outline: none;
}
@media (min-width: 768px) {
DIV.prw_rup.prw_flights_trip_search_typeahead input.query {
    padding-right: 5px;
    width: calc(100% - 8px);
  }
}
@media (min-width: 768px) and (max-width: 1023px) {
DIV.prw_rup.prw_flights_trip_search_typeahead input.query {
    font-size: 14px;
    line-height: 18px;
  }
}
@media (max-width: 767px) {
DIV.prw_rup.prw_flights_trip_search_typeahead input.query {
    font-size: 14px;
    line-height: 18px;
  }
}
DIV.prw_rup.prw_flights_trip_search_typeahead .ui_icon.flights {
  position: relative;
  width: 363px;
  font-size: 14px;
  line-height: 17px;
  font-family: ArialMT, sans-serif;
  color: #535353;
}
DIV.prw_rup.prw_flights_trip_search_typeahead .ui_icon.flights > div {
  margin: 0 15px 0;
  padding: 16px 0 16px 40px;
}
DIV.prw_rup.prw_flights_trip_search_typeahead .ui_icon.flights:not(:first-child) > div {
  border-top: 1px solid #e5e5e5;
}
DIV.prw_rup.prw_flights_trip_search_typeahead .selected.ui_icon.flights:not(:first-child) > div,
DIV.prw_rup.prw_flights_trip_search_typeahead li.selected.ui_icon.flights + li > div {
  border-top: 1px solid white;
}
DIV.prw_rup.prw_flights_trip_search_typeahead .ui_icon.flights div > div {
  font-size: 16px;
  font-weight: bold;
  color: #333;
  white-space: normal;
}
DIV.prw_rup.prw_flights_trip_search_typeahead .ui_icon.childAirport {
  color: #333;
  width: 333px;
}
DIV.prw_rup.prw_flights_trip_search_typeahead .ui_icon.childAirport > div {
  padding: 9px 0 9px 22px;
}
DIV.prw_rup.prw_flights_trip_search_typeahead .ui_typeahead label {
  font-size: 16px;
  color: grey;
  padding-left: 5px;
  display: inline-block;
}
@media (min-width: 768px) and (max-width: 1023px) {
DIV.prw_rup.prw_flights_trip_search_typeahead .ui_typeahead label {
    font-size: 14px;
    line-height: 18px;
  }
}
@media (max-width: 767px) {
DIV.prw_rup.prw_flights_trip_search_typeahead .ui_typeahead label {
    font-size: 14px;
    line-height: 18px;
  }
}
DIV.prw_rup.prw_flights_trip_search_typeahead .ui_typeahead .ui_typeahead_results li.selected {
  background-color: #f5f5f5;
}
DIV.prw_rup.prw_flights_trip_search_typeahead .ui_typeahead .ui_typeahead_results li.ui_icon {
  padding: 0;
}
DIV.prw_rup.prw_flights_trip_search_typeahead .ui_typeahead .ui_typeahead_results li.ui_icon.childAirport {
  padding-left: 30px;
}
DIV.prw_rup.prw_flights_trip_search_typeahead .ui_typeahead .ui_typeahead_results li.ui_icon.flights:before {
  top: 20px;
  left: 26px;
  font-size: 22px;
  color: #00a680;
}
DIV.prw_rup.prw_flights_trip_search_typeahead .ui_typeahead .ui_typeahead_results li.ui_icon.childAirport:before {
  top: 11px;
  left: 50px;
  font-size: 14px;
}
DIV.prw_rup.prw_flights_trip_search_typeahead .ui_picker.ui_columns.grouper {
  padding: 0;
}
DIV.prw_rup.prw_flights_trip_search_typeahead .ui_picker .ui_icon.pickerType {
  display: block;
  margin: 0;
  cursor: text;
}
DIV.prw_rup.prw_flights_trip_search_typeahead.error .ui_picker .ui_icon.pickerType {
  color: #d80007;
}
DIV.prw_rup.prw_flights_trip_search_typeahead.error input.query {
  color: #d80007;
}
DIV.prw_rup.prw_flights_trip_search_typeahead .ui_icon.pickerType.ui_typeahead.error {
  color: #d80007;
}
DIV.prw_rup.prw_flights_trip_search_typeahead .ui_icon.pickerType.ui_typeahead.error input::-webkit-input-placeholder {
  color: #d80007;
}
DIV.prw_rup.prw_flights_trip_search_typeahead .ui_icon.pickerType.ui_typeahead.error input::-moz-placeholder {
  color: #d80007;
}
DIV.prw_rup.prw_flights_trip_search_typeahead .ui_icon.pickerType.ui_typeahead.error input:-moz-placeholder {
  color: #d80007;
}
DIV.prw_rup.prw_flights_trip_search_typeahead .ui_icon.pickerType.ui_typeahead.error input:-ms-input-placeholder {
  color: #d80007;
}
DIV.prw_rup.prw_flights_trip_search_typeahead .ui_icon.pickerType.ui_typeahead.error input.query {
  color: #d80007;
}
DIV.prw_rup.prw_flights_trip_search_typeahead .ui_typeahead_results .error {
  width: 333px;
  line-height: 44px;
  font-size: 14px;
  font-family: ArialMT, sans-serif;
  color: #4a4a4a;
}
DIV.prw_rup.prw_flights_trip_search_typeahead.mw.typeahead_overlay.ui_typeahead {
  position: fixed;
  top: 0;
  bottom: 0;
  right: 0;
  left: 0;
}
DIV.prw_rup.prw_flights_trip_search_typeahead .mw_overlay {
  position: relative;
  width: 100%;
  height: 100%;
  overflow-y: auto;
  overflow-x: hidden;
}
DIV.prw_rup.prw_flights_trip_search_typeahead .mw_input_container {
  margin: 60px 18px 0 18px;
}
DIV.prw_rup.prw_flights_trip_search_typeahead .mw_input {
  display: block;
  width: 100%;
  box-sizing: border-box;
  border: none;
  border-bottom: 2px solid #00a680;
  border-radius: 0;
  padding: 0 0 4px 0;
  margin: 0;
  outline: none;
  height: 26px;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  font-size: 16px;
  line-height: 20px;
}
DIV.prw_rup.prw_flights_trip_search_typeahead.mw .ui_typeahead_results {
  height: 100%;
  border: none;
  overflow: visible;
}
DIV.prw_rup.prw_flights_trip_search_typeahead.mw .body_text {
  height: 100%;
}
@media (min-width: 768px) and (max-width: 1023px) {
DIV.prw_rup.prw_flights_trip_search_typeahead.ui_column.is-12-tablet {
    border: none;
  }
}
.airline_deals_fare_cards DIV.prw_rup.prw_flights_trip_search_typeahead {
  display: block;
}
.airline_deals_fare_cards DIV.prw_rup.prw_flights_trip_search_typeahead .dest.ui_typeahead.pickerType {
  display: none;
}
.airline_deals_fare_cards DIV.prw_rup.prw_flights_trip_search_typeahead .orig.ui_typeahead.pickerType {
  padding: 0;
  width: 100%;
  border: none;
}
.airline_deals_fare_cards DIV.prw_rup.prw_flights_trip_search_typeahead .orig.ui_typeahead.pickerType:before {
  display: none;
}
.airline_deals_fare_cards DIV.prw_rup.prw_flights_trip_search_typeahead input.query {
  display: block;
  padding: 0;
  width: 400px;
  margin-left: 5px;
}
--></style> 
  <style type="text/css"><!--
DIV.prw_rup.prw_datepickers_flight_search_dates {
  height: 100%;
}
DIV.prw_rup.prw_datepickers_flight_search_dates #rt_ui_picker {
  height: 100%;
  padding: 0 0 0 12px;
}
@media (max-width: 767px) {
DIV.prw_rup.prw_datepickers_flight_search_dates #rt_ui_picker {
    padding-left: 8px;
  }
}
DIV.prw_rup.prw_datepickers_flight_search_dates .ui_icon.minus {
  vertical-align: middle;
  color: #4a4a4a;
}
.fixed DIV.prw_rup.prw_datepickers_flight_search_dates {
  border-width: 0 1px 0 0;
  border-style: solid;
  border-color: rgba(255, 255, 255, 0.3);
}
@media (max-width: 767px) {
DIV.prw_rup.prw_datepickers_flight_search_dates .ui_icon.pickerType {
    margin-left: 0;
  }
}
@media (min-width: 768px) and (max-width: 1023px) {
DIV.prw_rup.prw_datepickers_flight_search_dates .picker-label {
    font-size: 14px;
    line-height: 18px;
  }
}
@media (max-width: 767px) {
DIV.prw_rup.prw_datepickers_flight_search_dates .picker-label {
    font-size: 14px;
    line-height: 18px;
  }
}
DIV.prw_rup.prw_datepickers_flight_search_dates .unified-picker {
  display: inline-block;
  padding: 14px 0 13px 0;
  outline: none;
}
DIV.prw_rup.prw_datepickers_flight_search_dates .ui_icon.caret-down {
  padding-right: 12px;
}
@media (max-width: 767px) {
DIV.prw_rup.prw_datepickers_flight_search_dates .ui_icon.caret-down {
    padding-right: 8px;
  }
}
--></style> 
  <style type="text/css"><!--
DIV.prw_rup.prw_datepickers_flights_single_date_datepicker #ow_ui_picker {
  padding: 0 0 0 12px;
}
@media (max-width: 767px) {
DIV.prw_rup.prw_datepickers_flights_single_date_datepicker #ow_ui_picker {
    padding-left: 8px;
  }
}
DIV.prw_rup.prw_datepickers_flights_single_date_datepicker .unified-picker {
  display: inline-block;
  position: relative;
  cursor: pointer;
  margin: 0;
  padding: 14px 0 13px 0;
  outline: none;
}
DIV.prw_rup.prw_datepickers_flights_single_date_datepicker .unified-picker:first-child {
  margin-right: 4%;
}
DIV.prw_rup.prw_datepickers_flights_single_date_datepicker .ui_icon.pickerType {
  margin-right: 4px;
}
@media (max-width: 767px) {
DIV.prw_rup.prw_datepickers_flights_single_date_datepicker .ui_icon.pickerType {
    margin-left: 0;
  }
}
DIV.prw_rup.prw_datepickers_flights_single_date_datepicker .ui_icon.caret-down {
  padding-right: 12px;
}
@media (max-width: 767px) {
DIV.prw_rup.prw_datepickers_flights_single_date_datepicker .ui_icon.caret-down {
    padding-right: 8px;
  }
}
@media (min-width: 768px) and (max-width: 1023px) {
DIV.prw_rup.prw_datepickers_flights_single_date_datepicker .picker-label {
    font-size: 14px;
    line-height: 18px;
  }
}
@media (max-width: 767px) {
DIV.prw_rup.prw_datepickers_flights_single_date_datepicker .picker-label {
    font-size: 14px;
    line-height: 18px;
  }
}
--></style> 
  <style type="text/css"><!--
DIV.ppr_rup.ppr_priv_homepage_shelves .homepage_shelves_widget {
  margin: 40px 0;
}
DIV.ppr_rup.ppr_priv_homepage_shelves .homepage_shelves_widget .prw_shelves_shelf_widget {
  margin: 45px 0;
  /* CRM-5661 - 45 was the default vertical margin for all shelves however it was requested to make it smaller for 'brand messaging' */

}
DIV.ppr_rup.ppr_priv_homepage_shelves .ui_poi_shelf_item .price {
  display: none;
  margin-top: 6px;
  font-size: 14px;
}
DIV.ppr_rup.ppr_priv_homepage_shelves .ui_poi_shelf_item a {
  color: inherit;
}
DIV.ppr_rup.ppr_priv_homepage_shelves .ui_poi_shelf_item .price span {
  display: inline-block;
  font-weight: bold;
  text-align: right;
}
DIV.ppr_rup.ppr_priv_homepage_shelves .gptAd {
  width: 728px;
  margin: -25px auto;
}
--></style> 
  <style type="text/css"><!--
DIV.prw_rup.prw_homepage_messaging_flights .brandHeader {
  text-align: center;
  color: #00a680;
  font-weight: bold;
}
@media (min-width: 768px) {
DIV.prw_rup.prw_homepage_messaging_flights .brandHeader {
    font-size: 28px;
    line-height: 32px;
  }
}
DIV.prw_rup.prw_homepage_messaging_flights .ui_column {
  position: relative;
  /* box bottom */

}
DIV.prw_rup.prw_homepage_messaging_flights .ui_column .iconAbove {
  position: relative;
  margin-top: 24px;
  padding: 31px 18px 16px;
  border-width: 1px 1px 0;
  border-style: solid;
  border-color: #e5e5e5;
  border-radius: 2px;
  text-align: center;
}
@media (max-width: 767px) {
DIV.prw_rup.prw_homepage_messaging_flights .ui_column .iconAbove {
    border-width: 1px;
    border-style: solid;
    border-color: #e5e5e5;
  }
}
DIV.prw_rup.prw_homepage_messaging_flights .ui_column .iconAbove .iconWrap {
  position: absolute;
  left: 0;
  right: 0;
  top: -24px;
}
DIV.prw_rup.prw_homepage_messaging_flights .ui_column .iconAbove .iconWrap .msgIcon {
  display: inline-block;
}
DIV.prw_rup.prw_homepage_messaging_flights .ui_column .iconAbove .msgHeader {
  margin: 6px 0;
  color: #00a680;
  font-weight: bold;
  font-size: 20px;
  line-height: 24px;
}
DIV.prw_rup.prw_homepage_messaging_flights .ui_column .iconAbove .msgCopy {
  margin-top: 6px;
  font-size: 16px;
  line-height: 20px;
  color: #4a4a4a;
  line-height: 22px;
}
@media (max-width: 767px) {
DIV.prw_rup.prw_homepage_messaging_flights .ui_column .iconAbove .msgCopy {
    font-size: 14px;
    line-height: 18px;
  }
}
DIV.prw_rup.prw_homepage_messaging_flights .ui_column:after {
  content: '';
  position: absolute;
  bottom: 12px;
  left: 12px;
  right: 12px;
  border-width: 0 1px 1px;
  border-style: solid;
  border-color: #e5e5e5;
  border-radius: 2px;
  height: 70%;
}
@media (max-width: 767px) {
DIV.prw_rup.prw_homepage_messaging_flights .ui_column:after {
    border: none;
  }
}
--></style> 
  <style type="text/css"><!--
DIV.prw_rup.prw_flights_destination_card .destCardContainer {
  position: relative;
  width: 100%;
}
DIV.prw_rup.prw_flights_destination_card .card {
  width: 100%;
  padding-top: 75%;
  position: relative;
  border-radius: 2px;
  display: inline-block;
  cursor: pointer;
  overflow: hidden;
  margin-bottom: 10px;
}
DIV.prw_rup.prw_flights_destination_card .card:hover {
  opacity: .9;
}
DIV.prw_rup.prw_flights_destination_card .destImage {
  position: absolute;
  top: 0;
  height: 100%;
}
DIV.prw_rup.prw_flights_destination_card .cardInfo {
  height: 100%;
  width: 100%;
  position: absolute;
  bottom: 0;
  background: linear-gradient(to top, rgba(0, 0, 0, 0.9) 0%, rgba(0, 0, 0, 0) 40%);
}
DIV.prw_rup.prw_flights_destination_card .destName {
  font-size: 16px;
  line-height: 20px;
  position: absolute;
  bottom: 15px;
  margin-left: 7%;
  color: #ffffff;
}
DIV.prw_rup.prw_flights_destination_card .destName:link {
  text-decoration: none;
}
DIV.prw_rup.prw_flights_destination_card .destName:visited {
  text-decoration: none;
}
DIV.prw_rup.prw_flights_destination_card .destName:hover {
  text-decoration: underline;
}
DIV.prw_rup.prw_flights_destination_card .destName:active {
  text-decoration: underline;
}
DIV.prw_rup.prw_flights_destination_card .fare {
  font-size: 16px;
  line-height: 20px;
  font-weight: normal;
  color: #000a12;
  position: relative;
}
DIV.prw_rup.prw_flights_destination_card .priceAndDates {
  width: 100%;
}
DIV.prw_rup.prw_flights_destination_card .price {
  line-height: 27px;
  font-size: 24px;
  font-weight: bold;
  margin-bottom: 8px;
  color: #000a12;
  text-align: left;
}
DIV.prw_rup.prw_flights_destination_card .price span {
  font-size: 13px;
  font-weight: normal;
  color: #777777;
  padding-right: 0.5em;
}
DIV.prw_rup.prw_flights_destination_card .dateRange {
  line-height: 15px;
  font-size: 13px;
  color: #333333;
}
DIV.prw_rup.prw_flights_destination_card .mainButton {
  min-width: 122px;
  margin-top: 8px;
  width: 100%;
}
@media (min-width: 1280px) {
DIV.prw_rup.prw_flights_destination_card .foot {
    display: flex;
    justify-content: space-between;
  }
DIV.prw_rup.prw_flights_destination_card .mainButton {
    text-align: right;
    align-self: flex-end;
    margin-top: 0;
  }
DIV.prw_rup.prw_flights_destination_card .dateRange,
DIV.prw_rup.prw_flights_destination_card .price span {
    font-size: 14px;
  }
}
DIV.prw_rup.prw_flights_destination_card .updatedContainer {
  cursor: pointer;
}
--></style> 
  <style type="text/css"><!--
DIV.prw_rup.prw_shelves_shelf_widget .shelf_container {
  padding: 18px 0 18px 0;
}
DIV.prw_rup.prw_shelves_shelf_widget .shelf_container.first {
  padding: 0 0 18px 0;
}
DIV.prw_rup.prw_shelves_shelf_widget .shelf_container.rebrand {
  margin: 13px 0;
}
DIV.prw_rup.prw_shelves_shelf_widget .shelf_container.rebrand.first {
  margin: 0 0 13px 0;
}
DIV.prw_rup.prw_shelves_shelf_widget .shelf_container .shelf_header {
  margin: 0 10px 10px 4px;
}
DIV.prw_rup.prw_shelves_shelf_widget .shelf_container .shelf_header .shelf_title {
  display: flex;
}
DIV.prw_rup.prw_shelves_shelf_widget .shelf_container .shelf_header .shelf_title .shelf_title_container {
  flex-grow: 1;
}
DIV.prw_rup.prw_shelves_shelf_widget .shelf_container .shelf_header .shelf_title .shelf_title_container .title_text {
  font-weight: bold;
  font-size: 24px;
  line-height: 28px;
  color: #000a12;
}
@media (max-width: 767px) {
DIV.prw_rup.prw_shelves_shelf_widget .shelf_container .shelf_header .shelf_title .shelf_title_container .title_text {
    font-size: 16px;
    line-height: 20px;
  }
}
DIV.prw_rup.prw_shelves_shelf_widget .shelf_container .shelf_header .shelf_title .shelf_title_container .dineWithLocalsSymbol {
  display: inline-block;
  vertical-align: inherit;
  position: relative;
  top: 2px;
  height: 20px;
  width: 20px;
  background-size: 20px 20px;
  background-image: url('/img2/restaurants/eat_with/Hat_big.png');
  margin-right: 6px;
}
DIV.prw_rup.prw_shelves_shelf_widget .shelf_container .shelf_header .shelf_title .see_all_link {
  font-size: 16px;
  float: right;
  position: relative;
  cursor: pointer;
  color: #4a4a4a;
}
DIV.prw_rup.prw_shelves_shelf_widget .shelf_container .shelf_header .shelf_title .taLnk:hover {
  text-decoration: underline;
}
DIV.prw_rup.prw_shelves_shelf_widget .shelf_container .ui_geo_shelf_item .price {
  margin-top: 10px;
  font-size: 14px;
}
DIV.prw_rup.prw_shelves_shelf_widget .shelf_container .ui_geo_shelf_item .price .from {
  display: none;
}
DIV.prw_rup.prw_shelves_shelf_widget .shelf_container .ui_geo_shelf_item .price a {
  color: #000000;
}
DIV.prw_rup.prw_shelves_shelf_widget .shelf_container .ui_geo_shelf_item .price a span {
  font-weight: bold;
}
DIV.prw_rup.prw_shelves_shelf_widget .shelf_container .shelf_item_container.unscoped_brand_scroll {
  flex-wrap: nowrap;
  overflow-x: hidden;
  position: relative;
}
DIV.prw_rup.prw_shelves_shelf_widget .shelf_container .shelf_item_container.unscoped_brand_scroll.scrolled .ui_column {
  position: relative;
  left: -100%;
}
DIV.prw_rup.prw_shelves_shelf_widget .shelf_container .shelf_item_container.unscoped_brand_scroll .brand_scroll_arrow {
  position: absolute;
  height: 50px;
  top: 50%;
  margin-top: -25px;
  z-index: 10;
  padding: 0 5px;
  font-size: 45px;
  line-height: 49px;
  font-weight: bold;
}
DIV.prw_rup.prw_shelves_shelf_widget .shelf_container .shelf_item_container.unscoped_brand_scroll .brand_scroll_arrow.left {
  left: 0;
}
DIV.prw_rup.prw_shelves_shelf_widget .shelf_container .shelf_item_container.unscoped_brand_scroll .brand_scroll_arrow.right {
  right: 0;
}
DIV.prw_rup.prw_shelves_shelf_widget .shelf_container .shelf_item_container.unscoped_brand_scroll .brand_scroll_arrow span:before {
  display: block;
  height: 100%;
}
DIV.prw_rup.prw_shelves_shelf_widget .shelf_container #brand_tile a {
  display: block;
  height: 100%;
  background-color: #00a680;
  color: #ffffff;
  font-weight: bold;
  text-align: center;
}
DIV.prw_rup.prw_shelves_shelf_widget .shelf_container #brand_tile a .brand_tile_title {
  padding: 40px 8px 10px;
}
DIV.prw_rup.prw_shelves_shelf_widget .shelf_container #brand_tile a .brand_tile_cta {
  padding: 10px 8px;
}
DIV.prw_rup.prw_shelves_shelf_widget .shelf_container.rebrand {
  padding: 0;
}
DIV.prw_rup.prw_shelves_shelf_widget .shelf_container.rebrand .shelf_header {
  margin: 0;
  /* flex title row for easier layout */
}
DIV.prw_rup.prw_shelves_shelf_widget .shelf_container.rebrand .shelf_header .shelf_title {
  display: flex;
  align-items: baseline;
}
DIV.prw_rup.prw_shelves_shelf_widget .shelf_container.rebrand .shelf_header .shelf_title .ui_icon {
  position: relative;
  color: #00a680;
  margin-right: 4px;
}
DIV.prw_rup.prw_shelves_shelf_widget .shelf_container.rebrand .shelf_header .shelf_title .ui_icon.travelers-choice-badge {
  top: 2px;
  margin-bottom: -2px;
  font-size: 42px;
  line-height: 1;
  margin-top: -10px;
  /* maintain line height: 42 - 32 = 10 */
}
DIV.prw_rup.prw_shelves_shelf_widget .shelf_container.rebrand .shelf_header .shelf_title .shelf_title_container {
  flex-grow: 1;
}
DIV.prw_rup.prw_shelves_shelf_widget .shelf_container.rebrand .shelf_header .shelf_title .see_all {
  margin-left: 15px;
  white-space: nowrap;
}
@media (max-width: 767px) {
DIV.prw_rup.prw_shelves_shelf_widget .shelf_container.rebrand .shelf_item_container.ui_columns.is-multiline {
    flex-wrap: nowrap;
    overflow-y: scroll;
    -webkit-overflow-scrolling: touch;
    margin-right: -16px;
  }
DIV.prw_rup.prw_shelves_shelf_widget .shelf_container.rebrand .shelf_item_container.ui_columns.is-multiline::-webkit-scrollbar {
    display: none;
  }
DIV.prw_rup.prw_shelves_shelf_widget .shelf_container.rebrand .shelf_item_container.ui_columns.is-multiline .ui_column {
    width: 286px;
  }
DIV.prw_rup.prw_shelves_shelf_widget .shelf_container.rebrand .shelf_item_container.ui_columns.is-multiline .ui_column.empty {
    width: 0;
  }
DIV.prw_rup.prw_shelves_shelf_widget .shelf_container.rebrand .shelf_item_container.ui_columns.is-multiline .ui_column .ui_poi_thumbnail {
    height: 214px;
  }
DIV.prw_rup.prw_shelves_shelf_widget .shelf_container.rebrand .shelf_item_container.unscoped_brand_scroll {
    overflow-x: inherit;
  }
DIV.prw_rup.prw_shelves_shelf_widget .shelf_container.rebrand .shelf_item_container.unscoped_brand_scroll .brand_scroll_arrow {
    display: none;
  }
DIV.prw_rup.prw_shelves_shelf_widget .shelf_container.rebrand #brand_tile a .brand_tile_title {
    font-size: 16px;
    line-height: 18px;
  }
DIV.prw_rup.prw_shelves_shelf_widget .shelf_container.rebrand #brand_tile a .brand_tile_cta {
    font-size: 16px;
    line-height: 18px;
  }
}
@media (max-width: 499px) {
DIV.prw_rup.prw_shelves_shelf_widget .shelf_container.rebrand .shelf_item_container.ui_columns.is-multiline .ui_column {
    width: 214px;
  }
DIV.prw_rup.prw_shelves_shelf_widget .shelf_container.rebrand .shelf_item_container.ui_columns.is-multiline .ui_column.empty {
    width: 0;
  }
DIV.prw_rup.prw_shelves_shelf_widget .shelf_container.rebrand .shelf_item_container.ui_columns.is-multiline .ui_column .ui_poi_thumbnail {
    height: 161px;
  }
}
@media (max-width: 767px) {
DIV.prw_rup.prw_shelves_shelf_widget .shelf_container.rebrand .shelf_header .ui_icon.travelers-choice-badge {
    display: none;
  }
DIV.prw_rup.prw_shelves_shelf_widget .shelf_container.rebrand .shelf_header .see_all {
    font-size: 14px;
    line-height: 18px;
  }
}
@media (min-width: 768px) {
DIV.prw_rup.prw_shelves_shelf_widget .shelf_container #brand_tile a {
    height: 200px;
  }
DIV.prw_rup.prw_shelves_shelf_widget .shelf_container #brand_tile a .brand_tile_title {
    padding: 40px 8px 10px;
    font-size: 18px;
    line-height: 20px;
  }
DIV.prw_rup.prw_shelves_shelf_widget .shelf_container #brand_tile a .brand_tile_cta {
    padding: 10px 8px;
    font-size: 18px;
    line-height: 18px;
  }
}
@media (min-width: 1024px) {
DIV.prw_rup.prw_shelves_shelf_widget .shelf_container #brand_tile a .brand_tile_title {
    font-size: 22px;
    line-height: 26px;
  }
DIV.prw_rup.prw_shelves_shelf_widget .shelf_container #brand_tile a .brand_tile_cta {
    font-size: 20px;
    line-height: 24px;
  }
}
.Restaurants .coverpage_widget DIV.prw_rup.prw_shelves_shelf_widget .shelf_container .shelf_header .shelf_title .title_text {
  font-size: 24px;
}
.Restaurants DIV.prw_rup.prw_shelves_shelf_widget .shelf_container .shelf_item_container {
  white-space: nowrap;
  overflow: hidden;
  flex-wrap: nowrap;
}
.Restaurants DIV.prw_rup.prw_shelves_shelf_widget .shelf_container .shelf_item_container.is-multiline {
  white-space: normal;
  flex-wrap: wrap;
}
.location_detail_rebrand .coverpage_widget DIV.prw_rup.prw_shelves_shelf_widget .shelf_container .shelf_header .shelf_title .title_text {
  font-size: 24px;
}
.location_detail_rebrand DIV.prw_rup.prw_shelves_shelf_widget .shelf_container .shelf_item_container {
  white-space: nowrap;
  overflow: hidden;
  flex-wrap: nowrap;
}
DIV.prw_rup.prw_shelves_shelf_widget .shelf_container .shelf_item_container:only-of-type {
  margin-top: 0;
}
.coverpage_widget DIV.prw_rup.prw_shelves_shelf_widget .shelf_container .shelf_header .see_all_link {
  color: #4a4a4a;
  float: none;
  position: absolute;
  bottom: 0;
  right: 0;
  white-space: nowrap;
  line-height: 24px;
}
.coverpage_widget DIV.prw_rup.prw_shelves_shelf_widget .shelf_container .shelf_header .shelf_title {
  position: relative;
}
.coverpage_widget DIV.prw_rup.prw_shelves_shelf_widget .shelf_container .shelf_header .shelf_title .title_text {
  font-weight: bold;
  font-size: 24px;
  color: #000a12;
}
.coverpage_clarity DIV.prw_rup.prw_shelves_shelf_widget,
DIV.prw_rup.prw_shelves_shelf_widget.coverpage_clarity {
  box-shadow: none;
}
.coverpage_clarity DIV.prw_rup.prw_shelves_shelf_widget .shelf_container .shelf_title .shelf_title_container .title_text,
DIV.prw_rup.prw_shelves_shelf_widget.coverpage_clarity .shelf_container .shelf_title .shelf_title_container .title_text {
  color: #000a12;
  font-size: 20px;
  font-weight: normal;
}
.coverpage_clarity DIV.prw_rup.prw_shelves_shelf_widget .shelf_container .shelf_title .see_all_link,
DIV.prw_rup.prw_shelves_shelf_widget.coverpage_clarity .shelf_container .shelf_title .see_all_link {
  color: #000a12;
  font-size: 16px;
  font-weight: normal;
}
.coverpage_clarity DIV.prw_rup.prw_shelves_shelf_widget .shelf_container .product_details,
DIV.prw_rup.prw_shelves_shelf_widget.coverpage_clarity .shelf_container .product_details {
  padding: 10px 0;
}
.coverpage_clarity DIV.prw_rup.prw_shelves_shelf_widget .shelf_container .item.name a,
DIV.prw_rup.prw_shelves_shelf_widget.coverpage_clarity .shelf_container .item.name a,
.coverpage_clarity DIV.prw_rup.prw_shelves_shelf_widget .shelf_container .product_name a,
DIV.prw_rup.prw_shelves_shelf_widget.coverpage_clarity .shelf_container .product_name a {
  color: #000a12;
  font-size: 16px;
  font-weight: normal;
}
.coverpage_clarity DIV.prw_rup.prw_shelves_shelf_widget .shelf_container .item,
DIV.prw_rup.prw_shelves_shelf_widget.coverpage_clarity .shelf_container .item,
.coverpage_clarity DIV.prw_rup.prw_shelves_shelf_widget .shelf_container .reviews,
DIV.prw_rup.prw_shelves_shelf_widget.coverpage_clarity .shelf_container .reviews {
  color: #4a4a4a;
  font-size: 14px;
  font-weight: normal;
}
.coverpage_clarity DIV.prw_rup.prw_shelves_shelf_widget .shelf_container .price,
DIV.prw_rup.prw_shelves_shelf_widget.coverpage_clarity .shelf_container .price {
  float: none;
  position: relative;
  bottom: 0;
  right: 0;
  margin-top: 6px;
  font-size: 16px;
  font-weight: bold;
  text-align: left;
}
.coverpage_clarity DIV.prw_rup.prw_shelves_shelf_widget .shelf_container .price .from,
DIV.prw_rup.prw_shelves_shelf_widget.coverpage_clarity .shelf_container .price .from {
  font-size: 14px;
  font-weight: normal;
}
.Attractions DIV.prw_rup.prw_shelves_shelf_widget .shelf_container .shelf_title .shelf_title_container .title_text {
  font-weight: bold;
  font-size: 24px;
  line-height: 28px;
  color: #000a12;
}
@media (max-width: 767px) {
.Attractions DIV.prw_rup.prw_shelves_shelf_widget .shelf_container .shelf_title .shelf_title_container .title_text {
    font-size: 16px;
    line-height: 20px;
  }
}
.Attractions DIV.prw_rup.prw_shelves_shelf_widget .shelf_container .shelf_title .see_all_link {
  line-height: 28px;
  color: #4a4a4a;
}
--></style> 
  <style type="text/css"><!--
DIV.prw_rup.prw_airlines_airline_pop_shelf_card .popularAirlineContainer {
  position: relative;
  width: 100%;
}
DIV.prw_rup.prw_airlines_airline_pop_shelf_card .airlineCard {
  width: 100%;
  padding-top: 50%;
  position: relative;
  border-radius: 2px;
  cursor: pointer;
  overflow: hidden;
  display: inline-block;
}
DIV.prw_rup.prw_airlines_airline_pop_shelf_card .airlineCard:hover {
  opacity: .9;
}
DIV.prw_rup.prw_airlines_airline_pop_shelf_card .airlineImage {
  height: 100%;
  width: 100%;
  position: absolute;
  top: 0;
  right: 0;
}
DIV.prw_rup.prw_airlines_airline_pop_shelf_card .linkWrap {
  height: 100%;
  width: 100%;
  position: absolute;
  bottom: 0;
}
DIV.prw_rup.prw_airlines_airline_pop_shelf_card .airlineData {
  position: relative;
}
DIV.prw_rup.prw_airlines_airline_pop_shelf_card .airlineSummary {
  display: inline-block;
  vertical-align: top;
  font-size: 16px;
  line-height: 20px;
  margin: 3% 0;
}
DIV.prw_rup.prw_airlines_airline_pop_shelf_card .airlineSummary a:link {
  text-decoration: none;
}
DIV.prw_rup.prw_airlines_airline_pop_shelf_card .airlineSummary a:hover {
  text-decoration: underline;
  color: #4a4a4a;
}
DIV.prw_rup.prw_airlines_airline_pop_shelf_card .airlineName {
  color: #000a12;
  margin-bottom: 1%;
  font-size: 16px;
  line-height: 20px;
}
DIV.prw_rup.prw_airlines_airline_pop_shelf_card .detailsLink {
  cursor: pointer;
  font-size: 12px;
  line-height: 16px;
  color: #4a4a4a;
}
DIV.prw_rup.prw_airlines_airline_pop_shelf_card .airlineRating {
  display: inline-block;
}
DIV.prw_rup.prw_airlines_airline_pop_shelf_card .airlineReviews {
  display: inline-block;
  vertical-align: middle;
  margin-left: 5px;
}
DIV.prw_rup.prw_airlines_airline_pop_shelf_card .airlineReviews:hover {
  text-decoration: underline;
}
DIV.prw_rup.prw_airlines_airline_pop_shelf_card .rating {
  display: inline-block;
  vertical-align: middle;
}
--></style> 
  <style type="text/css"><!--
DIV.ppr_rup.ppr_priv_homepage_hero .homeHero {
  width: 100%;
  position: relative;
  /* for flights gradient */

  min-height: 350px;
  padding: 50px 0;
  /* reserve space for nav, especially for Flights which wraps to two lines */

  background-repeat: no-repeat;
  background-size: cover;
  box-sizing: border-box;
}
DIV.ppr_rup.ppr_priv_homepage_hero .homeHero.cheapflightshome_home {
  padding-top: 60px;
}
@media (max-width: 767px) {
DIV.ppr_rup.ppr_priv_homepage_hero .homeHero.cheapflightshome_home {
    padding-top: 68px;
  }
}
DIV.ppr_rup.ppr_priv_homepage_hero .container {
  display: flex;
  align-items: center;
  min-height: inherit;
}
DIV.ppr_rup.ppr_priv_homepage_hero .hero_image_link {
  color: #ffffff;
  text-shadow: #000000 2px 2px 4px;
  font-size: 14px;
  position: absolute;
  right: 20px;
  bottom: 10px;
}
DIV.ppr_rup.ppr_priv_homepage_hero .placement_wrap {
  display: table;
  width: 100%;
  min-height: inherit;
}
DIV.ppr_rup.ppr_priv_homepage_hero .placement_wrap .placement_wrap_row {
  display: table-row;
}
DIV.ppr_rup.ppr_priv_homepage_hero .placement_wrap .placement_wrap_cell {
  display: table-cell;
  position: relative;
  vertical-align: middle;
}
DIV.ppr_rup.ppr_priv_homepage_hero .restaurants_home .placement_wrap .placement_wrap_cell {
  top: -8px;
  /* the dang railing */

}
DIV.ppr_rup.ppr_priv_homepage_hero .cheapflightshome_home .placement_wrap .placement_wrap_cell {
  top: 24px;
  /* per Christine */

  vertical-align: top;
}
@media (max-width: 767px) {
DIV.ppr_rup.ppr_priv_homepage_hero .cheapflightshome_home .placement_wrap .placement_wrap_cell {
    top: 0;
  }
}
@media (max-width: 767px) {
DIV.ppr_rup.ppr_priv_homepage_hero .homeHero {
    padding-bottom: 0;
  }
DIV.ppr_rup.ppr_priv_homepage_hero .homeHeroMobile {
    padding-top: 0;
  }
DIV.ppr_rup.ppr_priv_homepage_hero .homeHeroMobile.cheapflightshome_home {
    margin-top: -50px;
  }
}
--></style> 
  <style type="text/css"><!--
DIV.ppr_rup.ppr_priv_popular_destinations .h2 {
  margin-top: 45px;
}
DIV.ppr_rup.ppr_priv_popular_destinations .h3 {
  margin-bottom: 24px;
}
DIV.ppr_rup.ppr_priv_popular_destinations .flexCols {
  display: flex;
  align-content: flex-start;
  flex-flow: column wrap;
  margin-bottom: 55px;
}
@media (max-width: 767px) {
DIV.ppr_rup.ppr_priv_popular_destinations .flexCols {
    height: auto;
  }
}
DIV.ppr_rup.ppr_priv_popular_destinations .flexCols .item {
  /* If changing anything here, see also the 'magic number' comment on the related placement.dust files */

  width: 33%;
  padding: 4px 10px 4px 0;
  white-space: nowrap;
  text-overflow: ellipsis;
  overflow: hidden;
  box-sizing: border-box;
}
@media (max-width: 767px) {
DIV.ppr_rup.ppr_priv_popular_destinations .flexCols .item {
    width: 100%;
    height: auto;
    padding-bottom: 12px;
    padding-top: 12px;
    border-width: 0 0 1px;
    border-style: solid;
    border-color: #e5e5e5;
    display: none;
  }
DIV.ppr_rup.ppr_priv_popular_destinations .flexCols .item.expanded {
    display: block;
  }
}
DIV.ppr_rup.ppr_priv_popular_destinations .flexCols .item.sectionTitle {
  font-weight: bold;
  color: #767676;
  font-size: 12px;
  line-height: 16px;
  white-space: normal;
}
@media (min-width: 768px) {
DIV.ppr_rup.ppr_priv_popular_destinations .flexCols .item.sectionTitle {
    padding-top: 26px;
  }
DIV.ppr_rup.ppr_priv_popular_destinations .flexCols .item.sectionTitle:first-child {
    padding-top: 0;
  }
}
@media (max-width: 767px) {
DIV.ppr_rup.ppr_priv_popular_destinations .flexCols .item.sectionTitle {
    display: block;
    position: relative;
    box-sizing: border-box;
    padding-right: 16px;
  }
DIV.ppr_rup.ppr_priv_popular_destinations .flexCols .item.sectionTitle .caret-down,
DIV.ppr_rup.ppr_priv_popular_destinations .flexCols .item.sectionTitle .caret-up {
    position: absolute;
    right: 0;
    bottom: 50%;
    margin-bottom: -9px;
  }
DIV.ppr_rup.ppr_priv_popular_destinations .flexCols .item.sectionTitle:first-child {
    border-width: 1px 0 1px;
    border-style: solid;
    border-color: #e5e5e5;
  }
DIV.ppr_rup.ppr_priv_popular_destinations .flexCols .item.sectionTitle.expanded {
    border-bottom: none;
  }
}
DIV.ppr_rup.ppr_priv_popular_destinations .flexCols .item.sectionTitle .caret-down,
DIV.ppr_rup.ppr_priv_popular_destinations .flexCols .item.sectionTitle .caret-up {
  float: right;
  font-size: 18px;
  color: #4a4a4a;
}
DIV.ppr_rup.ppr_priv_popular_destinations .flexCols .item > a {
  font-size: 14px;
  line-height: 18px;
}
DIV.ppr_rup.ppr_priv_popular_destinations .flexCols {
  margin-top: 24px;
}
@media (max-width: 767px) {
DIV.ppr_rup.ppr_priv_popular_destinations .item .ui_link {
    display: block;
  }
}
DIV.ppr_rup.ppr_priv_popular_destinations .customSelection .h2 {
  margin-top: 45px;
}
DIV.ppr_rup.ppr_priv_popular_destinations .customSelection .h3 {
  margin-bottom: 24px;
}
DIV.ppr_rup.ppr_priv_popular_destinations .customSelection .ui_column {
  padding-top: 0;
  padding-bottom: 0;
}
DIV.ppr_rup.ppr_priv_popular_destinations .customSelection .item {
  /* If changing anything here, see also the 'magic number' comment in popular_destinations.vm */

  padding: 4px 10px 4px 0;
  white-space: nowrap;
  text-overflow: ellipsis;
  overflow: hidden;
  box-sizing: border-box;
}
@media (max-width: 767px) {
DIV.ppr_rup.ppr_priv_popular_destinations .customSelection .item {
    width: 100%;
    height: auto;
    padding-bottom: 12px;
    padding-top: 12px;
    border-width: 0 0 1px;
    border-style: solid;
    border-color: #e5e5e5;
  }
}
@media (min-width: 768px) {
DIV.ppr_rup.ppr_priv_popular_destinations .customSelection .collapsibleLists .section {
    margin-bottom: 16px;
  }
}
DIV.ppr_rup.ppr_priv_popular_destinations .customSelection .collapsibleLists .section .seeMore {
  display: none;
}
@media (max-width: 767px) {
DIV.ppr_rup.ppr_priv_popular_destinations .customSelection .collapsibleLists .section .item {
    display: none;
  }
DIV.ppr_rup.ppr_priv_popular_destinations .customSelection .collapsibleLists .section .item.expanded {
    display: block;
  }
DIV.ppr_rup.ppr_priv_popular_destinations .customSelection .collapsibleLists .section .item.expanded.seeMore {
    display: none;
  }
}
DIV.ppr_rup.ppr_priv_popular_destinations .customSelection .collapsibleLists .section .item > a {
  font-size: 14px;
  line-height: 18px;
}
DIV.ppr_rup.ppr_priv_popular_destinations .customSelection .collapsibleLists .section .sectionTitle {
  font-weight: bold;
  color: #000a12;
  font-size: 14px;
  line-height: 18px;
  position: relative;
  box-sizing: border-box;
  padding-right: 16px;
}
@media (min-width: 768px) {
DIV.ppr_rup.ppr_priv_popular_destinations .customSelection .collapsibleLists .section .sectionTitle {
    margin-bottom: 10px;
  }
DIV.ppr_rup.ppr_priv_popular_destinations .customSelection .collapsibleLists .section .sectionTitle:first-child {
    padding-top: 0;
  }
}
@media (max-width: 767px) {
DIV.ppr_rup.ppr_priv_popular_destinations .customSelection .collapsibleLists .section .sectionTitle {
    width: 100%;
    height: auto;
    padding-bottom: 12px;
    padding-top: 12px;
    border-width: 0 0 1px;
    border-style: solid;
    border-color: #e5e5e5;
    display: block;
  }
DIV.ppr_rup.ppr_priv_popular_destinations .customSelection .collapsibleLists .section .sectionTitle.expanded {
    border-bottom: none;
  }
}
DIV.ppr_rup.ppr_priv_popular_destinations .customSelection .collapsibleLists .section .sectionTitle .caret-down,
DIV.ppr_rup.ppr_priv_popular_destinations .customSelection .collapsibleLists .section .sectionTitle .caret-up {
  position: absolute;
  right: 0;
  bottom: 50%;
  margin-bottom: -8px;
  font-size: 14px;
  color: #4a4a4a;
}
DIV.ppr_rup.ppr_priv_popular_destinations .customSelection .singleList .item a {
  font-size: 14px;
  line-height: 18px;
}
DIV.ppr_rup.ppr_priv_popular_destinations .customSelection .singleList .sectionTitle {
  font-weight: bold;
  font-size: 16px;
  line-height: 20px;
  color: #000a12;
  margin-bottom: 16px;
}
@media (max-width: 767px) {
DIV.ppr_rup.ppr_priv_popular_destinations .customSelection .singleList .sectionTitle {
    font-size: 14px;
    line-height: 18px;
  }
}
DIV.ppr_rup.ppr_priv_popular_destinations .customSelection .singleList .sectionTitle .caret-down,
DIV.ppr_rup.ppr_priv_popular_destinations .customSelection .singleList .sectionTitle .caret-up {
  display: none;
}
DIV.ppr_rup.ppr_priv_popular_destinations .customSelection .singleList .seeMore {
  display: none;
  position: relative;
  color: #767676;
  font-size: 14px;
  line-height: 18px;
  font-weight: bold;
  cursor: pointer;
  padding: 12px 0;
  border-width: 0 0 1px;
  border-style: solid;
  border-color: #e5e5e5;
}
DIV.ppr_rup.ppr_priv_popular_destinations .customSelection .singleList .seeMore::before {
  position: absolute;
  right: 0;
  font-size: 18px;
  color: #4a4a4a;
}
DIV.ppr_rup.ppr_priv_popular_destinations .customSelection .singleList .ui_columns .seeMore {
  margin: 0 8px;
}
@media (max-width: 767px) {
DIV.ppr_rup.ppr_priv_popular_destinations .customSelection .singleList .item:nth-child(n+6),
DIV.ppr_rup.ppr_priv_popular_destinations .customSelection .singleList .lst:nth-child(n+2) {
    display: none;
  }
DIV.ppr_rup.ppr_priv_popular_destinations .customSelection .singleList .seeMore {
    display: block;
  }
DIV.ppr_rup.ppr_priv_popular_destinations .customSelection .singleList .section.expanded .item:nth-child(n+6),
DIV.ppr_rup.ppr_priv_popular_destinations .customSelection .singleList .section.expanded .lst:nth-child(n+2) {
    display: block;
  }
DIV.ppr_rup.ppr_priv_popular_destinations .customSelection .singleList .section.expanded .seeMore::before {
    content: "\e044";
  }
DIV.ppr_rup.ppr_priv_popular_destinations .customSelection .singleList .no-collapse .item:nth-child(n+6),
DIV.ppr_rup.ppr_priv_popular_destinations .customSelection .singleList .no-collapse .lst:nth-child(n+2) {
    display: block;
  }
DIV.ppr_rup.ppr_priv_popular_destinations .customSelection .singleList .no-collapse .seeMore {
    display: none;
  }
}
DIV.ppr_rup.ppr_priv_popular_destinations .customSelection .descriptionText {
  font-size: 14px;
  line-height: 18px;
  color: #4a4a4a;
  margin-top: 6px;
  margin-bottom: 24px;
}
DIV.ppr_rup.ppr_priv_popular_destinations .customSelection .footerPadding {
  margin-bottom: 45px;
}
--></style> 
  <!-- web133a.a.tripadvisor.com --> 
  <!-- PRODUCTION --> 
  <!-- releases/PRODUCTION_1194990_20180323_0539 --> 
  <!-- Rev 1194991 --> 
  <script type="text/javascript">define('page-model', [], function() { return {"session":{"analyticsInfo":{"evtCookiePUID":null,"cv1Key":null,"cv1Value":null,"promosStringForCurrentPageview":null,"cv47Key":null,"cv47Value":null,"domain":"","enabled":true,"trackerId":"UA-30198665-1","campaignParams":"utm_source=tripadvisor&utm_medium=domain direct&utm_campaign=TripAdvisor","customVariablesForSession":[{"scope":3,"variable":"Member","name":"Member","value":"-","slot":2},{"scope":3,"variable":"EntryServlet","name":"EntryServlet","value":"CheapFlightsHome","slot":5},{"scope":3,"variable":"Pool","name":"Pool","value":"C","slot":6},{"scope":3,"variable":"Slice","name":"Slice","value":"2621","slot":7},{"scope":3,"variable":"MCID","name":"MCID","value":"TripAdvisor-0","slot":18},{"scope":3,"variable":"PageType","name":"PageType","value":"Desktop Page","slot":21},{"scope":3,"variable":"DeviceType","name":"DeviceType","value":"Desktop","slot":22},{"scope":3,"variable":"IPGeo","name":"IPGeo","value":"Cairo-294201","slot":23},{"scope":3,"variable":"ProductType","name":"ProductType","value":"Browser","slot":24},{"scope":3,"variable":"WebServer","name":"WebServer","value":"web133a","slot":48}],"pagePropertyStringForCurrentPageview":"","pageview":true,"jsonForCurrentPageview":"{\"cv\":[[\"_deleteCustomVar\",1],[\"_deleteCustomVar\",47],[\"_setCustomVar\",20,\"PP\",\"--\",3],[\"_deleteCustomVar\",11],[\"_deleteCustomVar\",13],[\"_deleteCustomVar\",12],[\"_deleteCustomVar\",19],[\"_deleteCustomVar\",25],[\"_deleteCustomVar\",14],[\"_deleteCustomVar\",8],[\"_deleteCustomVar\",10]],\"url\":\"/CheapFlightsHome\"}","hasEvent":false,"jsonForEvent":null,"memberState":"-"},"lazyObf":"{\"given\":\"abcdefghijklmopqrsuvwxyzABCDEFGHIJKLMOPQRSUVWXYZ1234567890\", \"replace\":\"mopqrsuvwxyzabcdefghijklSUVWXYZABCDEFGHIJKLMOPQR4567890123\",\"token\":\"###Obf###\",\"validator\":\"<!-- amSZ03nt -->\"}","pageServlet":"CheapFlightsHome","sessionId":"65F295989A61A9FC998FAE7CE9E55D84","cdnHost":"https://static.tacdn.com","quickSave":true,"useERUserTracking":true,"cookieDomain":".tripadvisor.com","uid":"WrV6xwokL1MAAo1jITwAAAAX","posLocale":"en_US","MEDIA_HTTP_BASE":"https://media-cdn.tripadvisor.com/media/","user_id":"","loggedIn":false,"securelyLoggedIn":false},"DUST_GLOBAL":{"IS_IELE8":false,"LOCALE":"en_US","IS_IE10":false,"CDN_HOST":"https://static.tacdn.com","DEVICE":"desktop","IS_RTL":false,"LANG":"en","DEBUG":false,"READ_ONLY":false,"POS_COUNTRY":191},"JS_SECURITY_TOKEN":"TNI1625!AHchmyHgqhDwvojzW4LGyERTaJQz4H3tm3rihPmMHldzIiYRR73iGtffsavZDXv7vzmsITqop8lvRWVbEcIJuNcUI56l+6pAd+PZgWnkDIRBRaX9nd+Gxa9ZtyyENLmmnFCig2+t/bkSO4IBtXeAjoZptTgxatgKnaANYBWyDx9K","GEO_ID":"","LOC_ID":"","isMobile":false,"isRtl":false}; });window.taRollupsAreAsync = true;</script>
  <script type="text/javascript">define('lib/jquery-amd', ['jquery'], function(j) { return j;});</script>
  <script type="text/javascript">var taEarlyRoyBattyStatus = 0;var taSecureToken = "TNI1625!AK1oIB4oz3V7jBxOtSI6sor7IzckukuoowwQPfgoS1CcOUZ+Oed6gmpoKyHZv+tseeLwXO7TjCEQAMG5JdIl9q8EjK23hUNb5/yjHso56qT1m3FGdJWjiIG4Z5j6LeGxuPchNzZk3lpbeQABcIvpOth2GNAevzidTfycP0KoS1b/";(function() {var cookieDomain = ".tripadvisor.com";var sessionPartition = "-1";try {if (navigator.userAgent.indexOf('MSIE 10.0') < 0) {var val = taSecureToken+",1";val = encodeURIComponent(val);if (cookieDomain) {val += "; domain=" + cookieDomain;}document.cookie = "roybatty="+val+"; path=/";var url="/CookiePingback?early=true";var xhr = null;try {xhr = new XMLHttpRequest();} catch (e1) {try {xhr = new ActiveXObject('MSXML2.XMLHTTP');} catch (e2) {try {xhr = new ActiveXObject('Microsoft.XMLHTTP');} catch (e3) {}}}if (xhr != null) {var seth = function(name, val) {try {xhr.setRequestHeader(name, val)}catch(e){}};xhr.open("POST", url, true);seth('Content-type', 'application/x-www-form-urlencoded; charset=utf-8');seth('X-Requested-With', 'XMLHttpRequest');seth('Accept', 'text/javascript, text/html, application/xml, text/xml, */*');xhr.send('');taEarlyRoyBattyStatus = 2;}} } catch(err) {}})();</script> 
  <!-- PLACEMENT header_js_globals --> 
  <script type="text/javascript" data-rup="global_error">!function(){function e(e,n,t,r,o,i){var a={error_script:n,line:t,column:r,ready_state:document.readyState};return u?void(require.defined("ta/util/Error")&&require("ta/util/Error").record(o,"error post load:: "+e,i,a,"ERROR",{isglobal:!0})):(s.push({msg:e||"",error:o,evt:i,data:a}),!window.IS_DEBUG)}function n(){require(["ta/util/Error"],function(e){for(;s.length;){var n=s.shift();n.msg.match(/(^|[^\w.])ta .*defin/)||e.record(n.error,"window.onerror:: "+n.msg,n.evt,n.data,"ERROR",{isglobal:!0})}u=!0})}function t(){c=null,v=!1,a=d=null}function r(n,r,o,i,w,u){var s=u&&u.target;if(v){if((!a||w&&w.stack)&&(a=w),!l)try{l=arguments.callee}catch(e){}c?s=c:(!s||d&&s==window)&&(s=d),e(n,r,o,i,a,{target:s,callee:l}),t()}else{a=w,v=!0,d=s;try{l=arguments.callee}catch(e){}}}function o(e){e=e||window.event,r(e.message,e.filename,e.lineno,e.colno,e.error||e,e)}function i(e){e=e||window.event,c=e.target||e.srcElement,w&&clearTimeout(w),w=setTimeout(function(){w=0,c=null},1)}var a,d,c,l,w,u=!1,s=[],v=!1;window.onerror=function(e,n,t,o,i){return r(e,n,t,o,i,window.event),!window.IS_DEBUG},window.addEventListener?(window.addEventListener("error",o,!1),window.addEventListener("click",i,!0),window.addEventListener("load",n)):window.attachEvent&&(window.attachEvent("onerror",o),document.attachEvent("onmouseup",i),window.attachEvent("onload",n))}();
!function(){var e,n,t=0,a=5e3;window.uiOverlay=function(l){if(document.readyState in{complete:1,loaded:1}){var i=arguments;require(["trjs!overlays/uiOverlay"],function(e){e.apply(null,i)})}else document.addEventListener&&(e=[].slice.call(arguments),t=(new Date).getTime(),n||(n=!0,document.addEventListener("DOMContentLoaded",function(){Date.now()-t<a&&uiOverlay.apply(null,e)},!1)))}}();
</script> 
  <!-- PLACEMENT header_polyfills --> 
  <script type="text/javascript" src="https://static.tacdn.com/js3/long_lived_global-c-v2790041588a.js" data-rup="long_lived_global" crossorigin="anonymous" async></script>
  <script type="text/javascript" src="https://static.tacdn.com/js3/short_lived_global-c-v283952297a.js" data-rup="short_lived_global" crossorigin="anonymous" async></script>
  <script type="text/javascript" src="https://static.tacdn.com/js3/home_rebranded-c-v2385386202a.js" data-rup="home_rebranded" crossorigin="anonymous" async></script>
 </head>
 <body class="rebrand_2017 desktop_web HomeRebranded  js_logging" id="BODY_BLOCK_JQUERY_REFLOW">
  <div class="header">
   <div class="masthead">
    <!-- PLACEMENT global_nav -->
    <div id="taplc_global_nav_0" class="ppr_rup ppr_priv_global_nav" data-placement-name="global_nav">
     <div class="global-nav-no-refresh" id="global-nav-no-refresh-1">
      <!-- PLACEMENT global_nav_menus -->
      <div id="taplc_global_nav_menus_0" class="ppr_rup ppr_priv_global_nav_menus" data-placement-name="global_nav_menus"> 
       <!-- PLACEMENT global_nav_menus --> 
       <div class="hidden"> 
        <div class="global-nav-menus-container"> 
         <div class="  tabsBar"> 
          <ul class="tabs" onclick=""> 
           <li class="tabItemNoLink "><span class="tabNoLink "> Flights </span> </li> 
           <li class="tabItem  hvrIE6"><a onclick="ta.setEvtCookie('TopNav', 'click', 'VacationRentals', 0, this.href)" href="/Rentals" class="tabLink  pid4968" data-title="Vacation Rentals"> Vacation Rentals </a> </li> 
           <li class="tabItem  hvrIE6"><a onclick="ta.setEvtCookie('TopNav', 'click', 'Restaurants', 0, this.href)" href="/Restaurants" class="tabLink  pid2973" data-title="Restaurants"> Restaurants </a> </li> 
           <!-- Attractions lander! --> 
           <li class="tabItem  hvrIE6"><a onclick="ta.setEvtCookie('TopNav', 'click', 'Attractions', 0, this.href)" href="/Attractions" class="tabLink  pid39877" data-title="Things to do"> Things to do </a> </li> 
          </ul> 
         </div> 
        </div> 
        <ul class="global-nav-links-menu-more"></ul> 
       </div> 
       <div class="global-nav-overlays-container"></div>
      </div>
     </div>
     <div class="global-nav global-nav-single-line has-links global-nav-home global-nav-persistent">
      <div class="global-nav-top">
       <div class="global-nav-bar global-nav-white">
        <div class="ui_container global-nav-bar-container global-nav-mobile-web-rollout first-view">
         <div class="global-nav-hamburger global-nav-icons show-left is-hidden-tablet" onclick="return placementEvCall('taplc_global_nav_0', 'deferred/lateHandlers.showSidebarNav', event, this);">
          <span class="ui_icon menu-bars"></span>
          <div class="ui_jewel marked_for_attention unread hidden"></div>
         </div>
         <a href="/" class="global-nav-logo"><img src="https://static.tacdn.com/img2/branding/rebrand/TA_logo_primary.svg" alt="TripAdvisor" class="global-nav-img global-nav-svg"></a>
         <div class="global-nav-links ui_tabs  is-hidden-mobile">
          <!-- PLACEMENT global_nav_links -->
          <div id="taplc_global_nav_links_0" class="ppr_rup ppr_priv_global_nav_links" data-placement-name="global_nav_links">
           <div class="global-nav-links-container">
            <ul class="global-nav-links-menu">
             <li class="nav-sub-item" data-element=".masthead-dropdown-hotels"><a href="/Hotels" id="global-nav-hotels" class="unscoped global-nav-link ui_tab " data-tracking-label="hotels"><span class="ui_icon hotels"></span>Hotels</a></li>
             <li class="nav-sub-item" data-element=".masthead-dropdown-vr"><a href="/Rentals" id="global-nav-vr" class="unscoped global-nav-link ui_tab " data-tracking-label="vr"><span class="ui_icon vacation-rentals"></span>Vacation Rentals</a></li>
             <li class="nav-sub-item" data-element=".masthead-dropdown-flights"><a href="/CheapFlightsHome" id="global-nav-flights" class="unscoped global-nav-link ui_tab active" data-tracking-label="flights"><span class="ui_icon flights"></span>Flights</a></li>
             <li class="nav-sub-item" data-element=".masthead-dropdown-restaurants"><a href="/Restaurants" id="global-nav-restaurants" class="unscoped global-nav-link ui_tab " data-tracking-label="restaurants"><span class="ui_icon restaurants"></span>Restaurants</a></li>
             <li class="nav-sub-item" data-element=".masthead-dropdown-attractions"><a href="/Attractions" id="global-nav-attractions" class="unscoped global-nav-link ui_tab " data-tracking-label="attractions"><span class="ui_icon attractions"></span>Things to do</a></li>
             <li class="nav-sub-item force-more"><a href="/ForumHome" class="unscoped global-nav-link ui_tab " data-tracking-label="Forums"><span class="ui_icon forums"></span>Travel Forum</a></li>
             <li class="nav-sub-item force-more"><a href="/Airlines" class="unscoped global-nav-link ui_tab " data-tracking-label="Airlines"><span class="ui_icon flights"></span>Airlines</a></li>
             <li class="nav-sub-item force-more"><a href="/TravelersChoice" class="unscoped global-nav-link ui_tab " data-tracking-label="TravelersChoice"><span class="ui_icon travelers-choice-badge"></span>Best of 2018</a></li>
             <li class="nav-sub-item force-more"><a href="/RoadTrip-g191-United_States.html" class="unscoped global-nav-link ui_tab " data-tracking-label="RoadTrips">Road Trips</a></li>
             <li class="nav-sub-item force-more" data-element=".masthead-dropdown-HelpDesk"><a href="#" id="global-nav-HelpDesk" class="unscoped global-nav-link ui_tab " data-tracking-label="HelpDesk"><span class="ui_icon question-circle"></span>Help Center</a></li>
            </ul>
            <ul class="global-nav-links-menu-ellipsis is-top-only">
             <li class="global-nav-links-ellipsis"><span class="global-nav-link ui_tab ellipsis"><span class="ui_icon more-horizontal"></span></span></li>
            </ul>
           </div>
          </div>
         </div>
         <div class="global-nav-actions global-nav-icons show-right">
          <!-- PLACEMENT global_nav_action_cart -->
          <div id="taplc_global_nav_action_cart_0" class="ppr_rup ppr_priv_global_nav_action_cart" data-placement-name="global_nav_action_cart"></div>
          <!-- PLACEMENT global_nav_action_trips -->
          <div id="taplc_global_nav_action_trips_0" class="ppr_rup ppr_priv_global_nav_action_trips is-shown-at-tablet" data-placement-name="global_nav_action_trips">
           <div class="masthead-saves" title="My Trips and Recently Viewed">
            <a class="trips-icon"><span class="ui_icon my-trips"></span></a>
            <div class="test-container hidden" data-is-ta-referrer="true">
             <div class="quick-save-test">
              <div class="ui_close_x"></div>
              <div class="test-content">
               <span class="my-trips-tip">Tip:</span> All of your saved places can be found here in My Trips.
              </div>
             </div>
            </div>
           </div>
          </div>
          <!-- PLACEMENT global_nav_action_inbox -->
          <div id="taplc_global_nav_action_inbox_0" class="ppr_rup ppr_priv_global_nav_action_inbox is-shown-at-tablet" data-placement-name="global_nav_action_inbox">
           <div title="Inbox"> 
            <div>
             <div class="masthead-inbox-icon ui_icon comments"></div>
             <div class="ui_jewel marked_for_attention hidden"></div>
            </div>
            <div class="inbox-nav-contents ppr_rup ppr_priv_global_nav_action_inbox hidden">
             <div class="inbox-nav-dropdown with-login-cta">
              <div class="header">
               <div class="title">
                Inbox
               </div> 
               <a class="see-all" href="/Inbox" onclick="ta.trackEventOnPage('Inbox|Dropdown', 'see_all', '', '40186');">See all</a> 
              </div>
              <div class="inbox-lander-thread-list-item js-inbox-lander-thread-list-item loading hidden">
               <div class="loading-animation"></div>
               <div class="inbox-lander-thread-list-item-core-content">
                <div class="inbox-lander-thread-list-item-avatar-and-mobile-date">
                 <div class="inbox-lander-thread-list-item-avatar">
                  <div class="empty_avatar"></div>
                 </div>
                </div>
                <div class="inbox-lander-thread-list-item-message">
                 <div class="inbox-lander-thread-list-item-skeleton-bar"></div>
                 <div class="inbox-lander-thread-list-item-skeleton-bar"></div>
                 <div class="inbox-lander-thread-list-item-skeleton-bar"></div>
                </div>
               </div>
              </div>
              <div class="inbox-masthead-wrapper">
               <div class="login-cta">
                <span>Log in</span> to get trip updates and message other travelers.
               </div> 
              </div>
             </div>
            </div>
           </div>
          </div>
          <!-- PLACEMENT global_nav_action_profile -->
          <div id="taplc_global_nav_action_profile_0" class="ppr_rup ppr_priv_global_nav_action_profile is-shown-at-tablet" data-placement-name="global_nav_action_profile">
           <!-- Renderer is com.TripResearch.placements.renderers.core.GlobalNavProfileRenderer -->
           <div class="global-nav-profile global-nav-utility">
            <a href="https://www.tripadvisor.com/RegistrationController?flow=core_combined&amp;pid=427&amp;returnTo=%2FCheapFlightsHome&amp;fullscreen=true" class="login-button" title="Profile"><span class="ui_icon friend"></span></a>
            <a href="https://www.tripadvisor.com/RegistrationController?flow=core_combined&amp;pid=427&amp;returnTo=%2FCheapFlightsHome&amp;fullscreen=true" class="ui_button primary small login-button core-login-button" data-flow-name="CORE_COMBINED" title="Join">JOIN</a>
           </div>
          </div>
          <!-- PLACEMENT masthead_search -->
          <div id="taplc_masthead_search_0" class="ppr_rup ppr_priv_masthead_search" data-placement-name="masthead_search">
           <div class="mag_glass_parent" title="Search">
            <div class="separator"></div>
            <span class="ui_icon search" onclick="return placementEvCall('taplc_masthead_search_0', 'deferred/lateHandlers.showSearchOverlay', event, this);"></span>
            <span class="hidden">
             <div class="search_overlay_content ui_container" data-div-classes="ppr_rup ppr_priv_masthead_search">
              <div id="DUAL_SEARCH_LOADER_CONTAINER" class="dual_search_loader_container">
               <div class="dual_search_loader_overlay"></div>
               <div class="dual_search_loader_visual">
                <div class="ui_spinner"></div>
               </div>
              </div>
              <div class="just_padding">
               <div class="no_cpu">
                <form class="search_form ui_columns is-multiline" method="get" action="/Search" onsubmit="return placementEvCall('taplc_masthead_search_0', 'deferred/lateHandlers.submitForm', event, this);" id="global_nav_search_form">
                 <div class="ui_column is-10">
                  <div class="search_line ui_columns is-multiline is-gapless">
                   <div id="MAIN_SEARCH_CONTAINER" class="mainSearchContainer ui_column is-8 big_input">
                    <input id="mainSearch" type="text" class="text focusClear" autocomplete="off" onBlur="placementEvCall('taplc_masthead_search_0', 'deferred/lateHandlers.whatFocused', event, this)" onfocus="this.select();placementEvCall('taplc_masthead_search_0', 'deferred/lateHandlers.whatFocused', event, this)" onkeydown="if (ta &amp;&amp; (event.keyCode || event.which) === 13){ta.setEvtCookie('TopNav_Search', 'Action', 'Hit_Enter_toSRP', 0, '/Search');}" autocorrect="off" spellcheck="false" placeholder="Search TripAdvisor">
                    <span class="input_highlight"></span>
                   </div>
                   <div id="GEO_SCOPE_CONTAINER" class="geoScopeContainer ui_column is-4">
                    <span class="where_neighbor">in</span>
                    <div class="where_with_highlight">
                     <input id="GEO_SCOPED_SEARCH_INPUT" type="text" class="text geoScopeInput focusClear" onBlur="placementEvCall('taplc_masthead_search_0', 'deferred/lateHandlers.whereFocused', event, this)" onfocus="this.select();placementEvCall('taplc_masthead_search_0', 'deferred/lateHandlers.whereFocused', event, this)" value="" autocorrect="off" spellcheck="false" placeholder="Enter a destination">
                     <span class="input_highlight"></span>
                    </div>
                    <span class="hidden geoExample">Enter a destination</span>
                    <span class="where_neighbor without_dropdown ui_icon caret-down"></span>
                   </div>
                  </div>
                 </div>
                 <div class="ui_column is-2 search_line_block">
                  <button id="SEARCH_BUTTON" class="search_button" type="submit" onclick="if (ta &amp;&amp; event.clientY) { document.getElementById('global_nav_search_form').elements['pid'].value=3825; }return placementEvCall('taplc_masthead_search_0', 'deferred/lateHandlers.submitClicked', event, this);" name="sub-search">
                   <div id="SEARCH_BUTTON_CONTENT">
                    <label class="staticSearchLabel ui_icon search"></label>
                    <div class="inner">
                     Search
                    </div> 
                   </div></button>
                 </div>
                 <input id="TYPEAHEAD_GEO_ID" type="hidden" name="geo" value="1">
                 <input id="TYPEAHEAD_LATITUDE" type="hidden" name="latitude" value="">
                 <input id="TYPEAHEAD_LONGITUDE" type="hidden" name="longitude" value="">
                 <input id="TYPEAHEAD_NEARBY" type="hidden" name="searchNearby" value="">
                 <input type="hidden" name="pid" value="3826">
                 <input id="TOURISM_REDIRECT" type="hidden" name="redirect" value="">
                 <input id="MASTAHEAD_TYPEAHEAD_START_TIME" type="hidden" name="startTime" value="">
                 <input id="MASTAHEAD_TYPEAHEAD_UI_ORIGIN" type="hidden" name="uiOrigin" value="">
                 <input id="MASTHEAD_MAIN_QUERY" type="hidden" name="q" value="">
                 <input id="MASTHEAD_SUPPORTED_SEARCH_TYPES" type="hidden" name="supportedSearchTypes" value="">
                 <input id="MASTHEAD_ENABLE_NEAR_PAGE" type="hidden" name="enableNearPage" value="">
                 <input type="hidden" name="returnTo" value="__2F__CheapFlightsHome">
                 <input type="hidden" name="searchSessionId" value="65F295989A61A9FC998FAE7CE9E55D841521842887452ssid">
                </form>
               </div>
               <div class="ui_columns results_panel">
                <div class="ui_column is-10 ui_columns results_panel">
                 <div class="what_results ui_column is-12 hidden"></div>
                 <div class="where_results ui_column is-offset-7 is-5 hidden"></div>
                </div>
               </div>
              </div>
             </div></span>
           </div>
          </div>
         </div>
        </div>
       </div>
      </div>
      <!--[if lte IE 8]><style type="text/css">.sidebar-nav-backdrop,.sidebar-nav-container.off-canvas {display: none;}</style><![endif]-->
      <div class="sidebar-nav-container reorg-with-icons off-canvas is-hidden-tablet is-hidden-desktop">
       <div class="sidebar-nav-contents ui_container">
        <div class="sidebar-nav-header">
         <div class="sidebar-nav-close" onclick="return placementEvCall('taplc_global_nav_0', 'deferred/lateHandlers.hideSidebarNav', event, this);">
          <div class="ui_icon times"></div>
         </div>
         <a href="/" class="global-nav-logo"><img src="https://static.tacdn.com/img2/branding/rebrand/TA_logo_primary.svg" alt="TripAdvisor" class="global-nav-img"></a>
        </div>
        <div class="sidebar-nav-profile-container">
         <a href="https://www.tripadvisor.com/RegistrationController?flow=core_combined&amp;pid=427&amp;returnTo=%2FCheapFlightsHome&amp;fullscreen=true" class="ui_button secondary fullwidth">Log in</a> 
         <a href="https://www.tripadvisor.com/RegistrationController?flow=core_combined&amp;pid=427&amp;returnTo=%2FCheapFlightsHome&amp;fullscreen=true" class="ui_button primary fullwidth">Join</a> 
         <ul class="sidebar-nav-profile">
          <li class="nav-sub-item"><a href="/Saves" class="nav-sub-link" data-tracking-label="My_trips">My trips</a></li> 
          <li class="nav-sub-item"><a href="/Recent" class="nav-sub-link" data-tracking-label="Recently_viewed">Recently viewed</a></li> 
          <li class="nav-sub-item"><a href="/Bookings" class="nav-sub-link" data-tracking-label="UserProfile_ManagementCenter">Bookings</a></li> 
          <li class="nav-sub-item"><a href="/Inbox" class="nav-sub-link inbox" data-tracking-label="UserProfile_inbox_no_unread">
            <div class="label-and-icon">
             Inbox 
             <div class="icon-and-jewel hidden">
              <div class="ui_icon comments"></div>
              <div class="ui_jewel marked_for_attention"></div>
             </div>
            </div></a></li>
         </ul>
        </div>
        <div class="sidebar-nav-links-container">
         <div class="sidebar-nav-links"></div>
         <div class="sidebar-nav-links-more">
          <span class="nav-sub-link nav-sub-link-more" onclick="return placementEvCall('taplc_global_nav_0', 'deferred/lateHandlers.toggleMoreLinks', event, this);">More <span class="ui_icon single-chevron-down"></span></span>
          <ul class="sub-list"></ul>
         </div>
         <a href="#" id="global-nav-HelpDesk" class="global-nav-link" data-tracking-label="HelpDesk">Help Center</a> 
        </div>
       </div>
      </div>
      <div class="sidebar-nav-backdrop is-hidden-tablet is-hidden-desktop" onclick="return placementEvCall('taplc_global_nav_0', 'deferred/lateHandlers.hideSidebarNav', event, this);"></div>
     </div>
     <div class="global-nav-no-refresh" id="global-nav-no-refresh-2"></div>
    </div>
   </div>
  </div>
  <div class="page">
   <!-- PLACEMENT homepage_hero -->
   <div id="taplc_homepage_hero_0" class="ppr_rup ppr_priv_homepage_hero" data-placement-name="homepage_hero">
    <div class="homeHero cheapflightshome_home " style="background-image: url('https://static.tacdn.com/img2/branding/homepage/home-tab5-hero-cfh-upgrade.jpg'); background-position:left 30%">
     <div class="ui_container container">
      <div class="placement_wrap">
       <div class="placement_wrap_row">
        <div class="placement_wrap_cell">
         <!-- PLACEMENT trip_search:home_flights -->
         <div id="taplc_trip_search_home_flights_0" class="ppr_rup ppr_priv_trip_search" data-placement-name="trip_search:home_flights">
          <div class="ui_columns">
           <div class="ui_column is-12 ui_header h1 lockup_header">
            Find the best flight for the right price
           </div>
          </div>
          <div class="prw_rup prw_flights_trip_search_form ui_column" data-prwidget-name="flights_trip_search_form" data-prwidget-init="handlers">
           <input type="hidden" class="searchFormData" data-is-mobile="false" data-servlet-name="CheapFlightsHome" data-additionalSearchParams="{}">
           <div class="ui_container usePickerTypeIcons homepageContainer">
            <div class="ui_tabs inverted">
             <ul>
              <li class="tabContainer">
               <div class="tabInnerContainer">
                <a href="#roundTrip" class="ui_tab roundTrip active" tabindex="1" onclick="(ta.prwidgets.getjs(this,'handlers')).setSearchType('roundTrip', event)">Round Trip</a> 
               </div></li>
              <li class="tabContainer">
               <div class="tabInnerContainer">
                <a href="#oneWay" class="ui_tab oneWay" tabindex="2" onclick="(ta.prwidgets.getjs(this,'handlers')).setSearchType('oneWay', event)">One-way</a> 
               </div></li>
              <li class="tabContainer">
               <div class="tabInnerContainer">
                <a href="#multiCity" class="ui_tab multiCity" tabindex="3" onclick="(ta.prwidgets.getjs(this,'handlers')).setSearchType('multiCity', event)">Multi-city</a> 
               </div></li>
             </ul>
            </div>
            <p class="control"></p>
            <span class="tab-content">
             <div class="tabContent roundTrip active">
              <div class="ui_columns trip_search rounded_lockup easyClear">
               <div class="prw_rup prw_flights_trip_search_typeahead ui_column is-12-tablet is-6-desktop rtTypeahead" data-prwidget-name="flights_trip_search_typeahead" data-prwidget-init="handlers">
                <div class="grouper ui_columns ui_picker">
                 <div class="orig ui_column is-6 is-6-tablet map-pin-fill ui_icon pickerType ui_typeahead">
                  <input type="hidden" class="value" name="orig" value="CAI">
                  <input type="text" class="query " tabindex="4" value="Cairo, Egypt - Cairo Intl (CAI)" placeholder="City or Airport" data-clickedAlready="false">
                  <span class="input_highlight"></span>
                 </div>
                 <div class="dest ui_column is-6 is-6-tablet map-pin-fill ui_icon pickerType ui_typeahead">
                  <input type="hidden" class="value" name="dest" value="">
                  <input type="text" class="query " tabindex="5" value="" placeholder="City or Airport" data-clickedAlready="false">
                 </div>
                </div>
                <span class="data_holder hidden" data-noresultsmessage="No results found" data-ismobileweb=""></span>
               </div>
               <div class="ui_column is-6-tablet dp_column">
                <div class="prw_rup prw_datepickers_flight_search_dates" data-prwidget-name="datepickers_flight_search_dates" data-prwidget-init="handlers">
                 <div id="rt_ui_picker" class="ui_picker no-caret" onclick="(ta.prwidgets.getjs(this,'handlers')).handleClick(event)">
                  <span class="unified-picker" data-datetype="DEPARTURE" data-emptytext="Departure" data-trackingcontext="Departure|DATES" data-dateformat="date_medium_month" tabindex="6" onfocus="(ta.prwidgets.getjs(this,'handlers')).handleFocus(event, this)"><span class="ui_icon calendar pickerType"></span><span class="picker-inner"><span class="picker-label target">Apr 6 </span></span></span>
                  <span class="ui_icon minus"></span>
                  <span class="unified-picker" data-datetype="RETURN" data-emptytext="Return" data-trackingcontext="Return|DATES" data-dateformat="date_medium_month" tabindex="7" onfocus="(ta.prwidgets.getjs(this,'handlers')).handleFocus(event, this)"><span class="picker-inner"><span class="picker-label target">Apr 13 </span></span></span>
                 </div>
                </div>
               </div>
               <div class="ui_column is-6-tablet cpp_column">
                <div class="prw_rup prw_flights_cos_passenger_picker" data-prwidget-name="flights_cos_passenger_picker" data-prwidget-init="handlers">
                 <div id="cos_ui_picker" class="ui_picker" onclick="widgetEvCall('handlers.containerClick', event, this)">
                  <div class="cosPassengerPicker" data-popover="" data-position="below" data-header="" data-element=".cosPassengerPopover" data-options="autoReposition closeOnDocClick highlightElement" data-move-source="true" data-move-padding="30" tabindex="8" onfocus="widgetEvCall('handlers.cosPassengerPickerFocus', event, this);" onclick="widgetEvCall('handlers.cosPassengerPickerClick', event, this);">
                   <span class="ui_icon friends pickerType"></span>
                   <span class="summaryContainer target"><span class="flightsTotalTravelers">1 Person</span>, <span class="selectedCos">Economy</span> </span>
                   <span class="ui_icon caret-down"></span>
                   <div class="prw_rup prw_flights_cos_passenger_picker cosPassengerPopover hidden">
                    <div class="popoverContents">
                     <div class="cosDropdown" onclick="ta.trackEventOnPage('PaxSelector-tripsearch','menu_open','class_picker_open');">
                      <div class="picker-inner localizationCosStrings" data-economy="Economy" data-premium-economy="Premium Economy" data-business="Business Class" data-first-class="First Class"> 
                       <span class="cos picker-label">Economy</span>
                       <span class="ui_icon caret-down open-close"></span>
                      </div>
                      <div class="picker-dropdown hidden">
                       <ul>
                        <li class="curoption"><span class="picker-label">Economy</span> <span class="ui_icon caret-up open-close"></span></li> 
                       </ul>
                       <ul class="options-container"></ul>
                      </div>
                     </div>
                     <div class="hrLine afterCos"></div>
                     <div class="travelerRow adultRow">
                      <div class="adults">
                       <span class="travelerCount hidden">1</span>
                       <span class="travelerLabel">1 adult (18-64)</span> 
                      </div>
                      <div class="adultCounter counter">
                       <span class="ui_icon minus-circle disabled" onclick="ta.trackEventOnPage('PaxSelector-tripsearch','SELECT','adult_picker_subtract');"></span>
                       <span class="ui_icon plus-circle enabled" onclick="ta.trackEventOnPage('PaxSelector-tripsearch','SELECT','adult_picker_add');"></span>
                      </div>
                     </div>
                     <div class="travelerRow">
                      <div class="seniors">
                       <span class="travelerCount hidden">0</span>
                       <span class="travelerLabel">0 seniors (65+)</span> 
                      </div>
                      <div class="seniorCounter counter">
                       <span class="ui_icon minus-circle disabled" onclick="ta.trackEventOnPage('PaxSelector-tripsearch','SELECT','senior_picker_subtract');"></span>
                       <span class="ui_icon plus-circle enabled" onclick="ta.trackEventOnPage('PaxSelector-tripsearch','SELECT','senior_picker_add');"></span>
                      </div>
                     </div>
                     <div class="travelerRow childrenRow">
                      <div class="children">
                       <span class="travelerCount hidden">0</span>
                       <span class="travelerLabel">0 children (0-17)</span> 
                      </div>
                      <div class="childrenCounter counter">
                       <span class="ui_icon minus-circle disabled" onclick="ta.trackEventOnPage('PaxSelector-tripsearch','SELECT','children_picker_subtract');"></span>
                       <span class="ui_icon plus-circle enabled" onclick="ta.trackEventOnPage('PaxSelector-tripsearch', 'SELECT', 'children_picker_add');"></span>
                      </div>
                     </div>
                     <div class="hrLine afterChildrenCounter"></div>
                     <div class="childrenAgesContainer">
                      <div class="ageContainer flightsAgeContainer_1" style="display:none;">
                       <div class="childLabel">
                        Age of child 1
                       </div> 
                       <div class="childAgePicker">
                        <div class="ui_select" data-input=".childrenAgeElt_1" onclick="require(['forms/select'], function(select) {new select.Select().init(this);}.bind(this));">
                         <div class="closed_text">
                          Age ? 
                         </div>
                         <div class="options hidden">
                          <div class="option default" selected data-value="-1">
                           Age ?
                          </div> 
                          <div class="separator"></div>
                          <div class="option" data-value="0">
                           &lt; 1
                          </div>
                          <div class="option" data-value="1">
                           1
                          </div>
                          <div class="option" data-value="2">
                           2
                          </div>
                          <div class="option" data-value="3">
                           3
                          </div>
                          <div class="option" data-value="4">
                           4
                          </div>
                          <div class="option" data-value="5">
                           5
                          </div>
                          <div class="option" data-value="6">
                           6
                          </div>
                          <div class="option" data-value="7">
                           7
                          </div>
                          <div class="option" data-value="8">
                           8
                          </div>
                          <div class="option" data-value="9">
                           9
                          </div>
                          <div class="option" data-value="10">
                           10
                          </div>
                          <div class="option" data-value="11">
                           11
                          </div>
                          <div class="option" data-value="12">
                           12
                          </div>
                          <div class="option" data-value="13">
                           13
                          </div>
                          <div class="option" data-value="14">
                           14
                          </div>
                          <div class="option" data-value="15">
                           15
                          </div>
                          <div class="option" data-value="16">
                           16
                          </div>
                          <div class="option" data-value="17">
                           17
                          </div>
                         </div>
                         <input type="hidden" name="childrenAgeElt_1" class="childrenAgeElt_1 childrenAgeHiddenInput" value="-1">
                        </div>
                       </div>
                      </div>
                      <div class="ageContainer flightsAgeContainer_2" style="display:none;">
                       <div class="childLabel">
                        Age of child 2
                       </div> 
                       <div class="childAgePicker">
                        <div class="ui_select" data-input=".childrenAgeElt_2" onclick="require(['forms/select'], function(select) {new select.Select().init(this);}.bind(this));">
                         <div class="closed_text">
                          Age ? 
                         </div>
                         <div class="options hidden">
                          <div class="option default" selected data-value="-1">
                           Age ?
                          </div> 
                          <div class="separator"></div>
                          <div class="option" data-value="0">
                           &lt; 1
                          </div>
                          <div class="option" data-value="1">
                           1
                          </div>
                          <div class="option" data-value="2">
                           2
                          </div>
                          <div class="option" data-value="3">
                           3
                          </div>
                          <div class="option" data-value="4">
                           4
                          </div>
                          <div class="option" data-value="5">
                           5
                          </div>
                          <div class="option" data-value="6">
                           6
                          </div>
                          <div class="option" data-value="7">
                           7
                          </div>
                          <div class="option" data-value="8">
                           8
                          </div>
                          <div class="option" data-value="9">
                           9
                          </div>
                          <div class="option" data-value="10">
                           10
                          </div>
                          <div class="option" data-value="11">
                           11
                          </div>
                          <div class="option" data-value="12">
                           12
                          </div>
                          <div class="option" data-value="13">
                           13
                          </div>
                          <div class="option" data-value="14">
                           14
                          </div>
                          <div class="option" data-value="15">
                           15
                          </div>
                          <div class="option" data-value="16">
                           16
                          </div>
                          <div class="option" data-value="17">
                           17
                          </div>
                         </div>
                         <input type="hidden" name="childrenAgeElt_2" class="childrenAgeElt_2 childrenAgeHiddenInput" value="-1">
                        </div>
                       </div>
                      </div>
                      <div class="ageContainer flightsAgeContainer_3" style="display:none;">
                       <div class="childLabel">
                        Age of child 3
                       </div> 
                       <div class="childAgePicker">
                        <div class="ui_select" data-input=".childrenAgeElt_3" onclick="require(['forms/select'], function(select) {new select.Select().init(this);}.bind(this));">
                         <div class="closed_text">
                          Age ? 
                         </div>
                         <div class="options hidden">
                          <div class="option default" selected data-value="-1">
                           Age ?
                          </div> 
                          <div class="separator"></div>
                          <div class="option" data-value="0">
                           &lt; 1
                          </div>
                          <div class="option" data-value="1">
                           1
                          </div>
                          <div class="option" data-value="2">
                           2
                          </div>
                          <div class="option" data-value="3">
                           3
                          </div>
                          <div class="option" data-value="4">
                           4
                          </div>
                          <div class="option" data-value="5">
                           5
                          </div>
                          <div class="option" data-value="6">
                           6
                          </div>
                          <div class="option" data-value="7">
                           7
                          </div>
                          <div class="option" data-value="8">
                           8
                          </div>
                          <div class="option" data-value="9">
                           9
                          </div>
                          <div class="option" data-value="10">
                           10
                          </div>
                          <div class="option" data-value="11">
                           11
                          </div>
                          <div class="option" data-value="12">
                           12
                          </div>
                          <div class="option" data-value="13">
                           13
                          </div>
                          <div class="option" data-value="14">
                           14
                          </div>
                          <div class="option" data-value="15">
                           15
                          </div>
                          <div class="option" data-value="16">
                           16
                          </div>
                          <div class="option" data-value="17">
                           17
                          </div>
                         </div>
                         <input type="hidden" name="childrenAgeElt_3" class="childrenAgeElt_3 childrenAgeHiddenInput" value="-1">
                        </div>
                       </div>
                      </div>
                      <div class="ageContainer flightsAgeContainer_4" style="display:none;">
                       <div class="childLabel">
                        Age of child 4
                       </div> 
                       <div class="childAgePicker">
                        <div class="ui_select" data-input=".childrenAgeElt_4" onclick="require(['forms/select'], function(select) {new select.Select().init(this);}.bind(this));">
                         <div class="closed_text">
                          Age ? 
                         </div>
                         <div class="options hidden">
                          <div class="option default" selected data-value="-1">
                           Age ?
                          </div> 
                          <div class="separator"></div>
                          <div class="option" data-value="0">
                           &lt; 1
                          </div>
                          <div class="option" data-value="1">
                           1
                          </div>
                          <div class="option" data-value="2">
                           2
                          </div>
                          <div class="option" data-value="3">
                           3
                          </div>
                          <div class="option" data-value="4">
                           4
                          </div>
                          <div class="option" data-value="5">
                           5
                          </div>
                          <div class="option" data-value="6">
                           6
                          </div>
                          <div class="option" data-value="7">
                           7
                          </div>
                          <div class="option" data-value="8">
                           8
                          </div>
                          <div class="option" data-value="9">
                           9
                          </div>
                          <div class="option" data-value="10">
                           10
                          </div>
                          <div class="option" data-value="11">
                           11
                          </div>
                          <div class="option" data-value="12">
                           12
                          </div>
                          <div class="option" data-value="13">
                           13
                          </div>
                          <div class="option" data-value="14">
                           14
                          </div>
                          <div class="option" data-value="15">
                           15
                          </div>
                          <div class="option" data-value="16">
                           16
                          </div>
                          <div class="option" data-value="17">
                           17
                          </div>
                         </div>
                         <input type="hidden" name="childrenAgeElt_4" class="childrenAgeElt_4 childrenAgeHiddenInput" value="-1">
                        </div>
                       </div>
                      </div>
                      <div class="ageContainer flightsAgeContainer_5" style="display:none;">
                       <div class="childLabel">
                        Age of child 5
                       </div> 
                       <div class="childAgePicker">
                        <div class="ui_select" data-input=".childrenAgeElt_5" onclick="require(['forms/select'], function(select) {new select.Select().init(this);}.bind(this));">
                         <div class="closed_text">
                          Age ? 
                         </div>
                         <div class="options hidden">
                          <div class="option default" selected data-value="-1">
                           Age ?
                          </div> 
                          <div class="separator"></div>
                          <div class="option" data-value="0">
                           &lt; 1
                          </div>
                          <div class="option" data-value="1">
                           1
                          </div>
                          <div class="option" data-value="2">
                           2
                          </div>
                          <div class="option" data-value="3">
                           3
                          </div>
                          <div class="option" data-value="4">
                           4
                          </div>
                          <div class="option" data-value="5">
                           5
                          </div>
                          <div class="option" data-value="6">
                           6
                          </div>
                          <div class="option" data-value="7">
                           7
                          </div>
                          <div class="option" data-value="8">
                           8
                          </div>
                          <div class="option" data-value="9">
                           9
                          </div>
                          <div class="option" data-value="10">
                           10
                          </div>
                          <div class="option" data-value="11">
                           11
                          </div>
                          <div class="option" data-value="12">
                           12
                          </div>
                          <div class="option" data-value="13">
                           13
                          </div>
                          <div class="option" data-value="14">
                           14
                          </div>
                          <div class="option" data-value="15">
                           15
                          </div>
                          <div class="option" data-value="16">
                           16
                          </div>
                          <div class="option" data-value="17">
                           17
                          </div>
                         </div>
                         <input type="hidden" name="childrenAgeElt_5" class="childrenAgeElt_5 childrenAgeHiddenInput" value="-1">
                        </div>
                       </div>
                      </div>
                     </div>
                     <div class="errorMsgContainer hidden">
                      <span class="errorMsg"></span>
                     </div>
                     <div class="alertMsgContainer hidden">
                      <span class="alertMsg"></span>
                     </div>
                     <div class="closeTextContainer">
                      <span class="ui_link closeText">Close</span> 
                     </div>
                    </div>
                   </div>
                  </div>
                 </div>
                 <div class="localizationStrings localizationPeopleStrings" data-people-0="0 People" data-people-1="1 Person" data-people-2="2 People" data-people-3="3 People" data-people-4="4 People" data-people-5="5 People" data-people-6="6 People" data-people-7="6+ People"></div> 
                 <div class="localizationStrings localizationMessages" data-no-infant-in-lap="Policies and pricing for traveling with infants may vary, so please check with the ticketing provider before booking." data-zero-adults="" data-over-max-travelers="TripAdvisor supports searches for a maximum of 6 travelers. Contact the airline or travel agency for larger parties.  "></div> 
                 <div class="localizationStrings localizationTravelerStrings" data-adults-0="0 adults (18-64)" data-adults-1="1 adult (18-64)" data-adults-2="2 adults (18-64)" data-adults-3="3 adults (18-64)" data-adults-4="4 adults (18-64)" data-adults-5="5 adults (18-64)" data-adults-6="6 adults (18-64)" data-seniors-0="0 seniors (65+)" data-seniors-1="1 senior (65+)" data-seniors-2="2 seniors (65+)" data-seniors-3="3 seniors (65+)" data-seniors-4="4 seniors (65+)" data-seniors-5="5 seniors (65+)" data-seniors-6="6 seniors (65+)" data-children-0="0 children (0-17)" data-children-1="1 child (0-17)" data-children-2="2 children (0-17)" data-children-3="3 children (0-17)" data-children-4="4 children (0-17)" data-children-5="5 children (0-17)"> 
                 </div>
                </div>
               </div>
               <div class="ui_column submit_wrap" onclick="widgetEvCall('handlers.doSearch',event,this);">
                <button class="form_submit searchBtn en_US en" tabindex="9" onfocus="widgetEvCall('handlers.closeCosPassengerOverlays',event,this);"><span class="ui_icon search submit_icon"></span><span class="submit_text">Find flights </span></button>
               </div>
              </div>
             </div>
             <div class="tabContent oneWay">
              <div class="ui_columns is_multiline trip_search rounded_lockup easyClear">
               <div class="prw_rup prw_flights_trip_search_typeahead ui_column is-12-tablet is-6-desktop owTypeahead" data-prwidget-name="flights_trip_search_typeahead" data-prwidget-init="handlers">
                <div class="grouper ui_columns ui_picker">
                 <div class="orig ui_column is-6 is-6-tablet map-pin-fill ui_icon pickerType ui_typeahead">
                  <input type="hidden" class="value" name="orig" value="CAI">
                  <input type="text" class="query " tabindex="4" value="Cairo, Egypt - Cairo Intl (CAI)" placeholder="City or Airport" data-clickedAlready="false">
                  <span class="input_highlight"></span>
                 </div>
                 <div class="dest ui_column is-6 is-6-tablet map-pin-fill ui_icon pickerType ui_typeahead">
                  <input type="hidden" class="value" name="dest" value="">
                  <input type="text" class="query " tabindex="5" value="" placeholder="City or Airport" data-clickedAlready="false">
                 </div>
                </div>
                <span class="data_holder hidden" data-noresultsmessage="No results found" data-ismobileweb=""></span>
               </div>
               <div class="ui_column is-6-tablet dp_column">
                <div class="prw_rup prw_datepickers_flights_single_date_datepicker" data-prwidget-name="datepickers_flights_single_date_datepicker" data-prwidget-init="handlers"> 
                 <div id="ow_ui_picker" class="ui_picker" onclick="(ta.prwidgets.getjs(this,'handlers')).handleClick()"> 
                  <span class="unified-picker" data-datetype="ONEWAYFLIGHT" data-emptytext="Departure" data-trackingcontext="oneWay|DATES" data-dateformat="date_medium_month" tabindex="6" onfocus="(ta.prwidgets.getjs(this,'handlers')).handleFocus(event)"> <span class="ui_icon calendar pickerType"></span> <span class="picker-inner"> <span class="picker-label target"> Apr 6 </span> </span> </span> 
                  <span class="ui_icon caret-down"></span> 
                 </div> 
                </div>
               </div>
               <div class="ui_column is-6-tablet cpp_column">
                <div class="prw_rup prw_flights_cos_passenger_picker" data-prwidget-name="flights_cos_passenger_picker" data-prwidget-init="handlers">
                 <div id="cos_ui_picker" class="ui_picker" onclick="widgetEvCall('handlers.containerClick', event, this)">
                  <div class="cosPassengerPicker" data-popover="" data-position="below" data-header="" data-element=".cosPassengerPopover" data-options="autoReposition closeOnDocClick highlightElement" data-move-source="true" data-move-padding="30" tabindex="8" onfocus="widgetEvCall('handlers.cosPassengerPickerFocus', event, this);" onclick="widgetEvCall('handlers.cosPassengerPickerClick', event, this);">
                   <span class="ui_icon friends pickerType"></span>
                   <span class="summaryContainer target"><span class="flightsTotalTravelers">1 Person</span>, <span class="selectedCos">Economy</span> </span>
                   <span class="ui_icon caret-down"></span>
                   <div class="prw_rup prw_flights_cos_passenger_picker cosPassengerPopover hidden">
                    <div class="popoverContents">
                     <div class="cosDropdown" onclick="ta.trackEventOnPage('PaxSelector-tripsearch','menu_open','class_picker_open');">
                      <div class="picker-inner localizationCosStrings" data-economy="Economy" data-premium-economy="Premium Economy" data-business="Business Class" data-first-class="First Class"> 
                       <span class="cos picker-label">Economy</span>
                       <span class="ui_icon caret-down open-close"></span>
                      </div>
                      <div class="picker-dropdown hidden">
                       <ul>
                        <li class="curoption"><span class="picker-label">Economy</span> <span class="ui_icon caret-up open-close"></span></li> 
                       </ul>
                       <ul class="options-container"></ul>
                      </div>
                     </div>
                     <div class="hrLine afterCos"></div>
                     <div class="travelerRow adultRow">
                      <div class="adults">
                       <span class="travelerCount hidden">1</span>
                       <span class="travelerLabel">1 adult (18-64)</span> 
                      </div>
                      <div class="adultCounter counter">
                       <span class="ui_icon minus-circle disabled" onclick="ta.trackEventOnPage('PaxSelector-tripsearch','SELECT','adult_picker_subtract');"></span>
                       <span class="ui_icon plus-circle enabled" onclick="ta.trackEventOnPage('PaxSelector-tripsearch','SELECT','adult_picker_add');"></span>
                      </div>
                     </div>
                     <div class="travelerRow">
                      <div class="seniors">
                       <span class="travelerCount hidden">0</span>
                       <span class="travelerLabel">0 seniors (65+)</span> 
                      </div>
                      <div class="seniorCounter counter">
                       <span class="ui_icon minus-circle disabled" onclick="ta.trackEventOnPage('PaxSelector-tripsearch','SELECT','senior_picker_subtract');"></span>
                       <span class="ui_icon plus-circle enabled" onclick="ta.trackEventOnPage('PaxSelector-tripsearch','SELECT','senior_picker_add');"></span>
                      </div>
                     </div>
                     <div class="travelerRow childrenRow">
                      <div class="children">
                       <span class="travelerCount hidden">0</span>
                       <span class="travelerLabel">0 children (0-17)</span> 
                      </div>
                      <div class="childrenCounter counter">
                       <span class="ui_icon minus-circle disabled" onclick="ta.trackEventOnPage('PaxSelector-tripsearch','SELECT','children_picker_subtract');"></span>
                       <span class="ui_icon plus-circle enabled" onclick="ta.trackEventOnPage('PaxSelector-tripsearch', 'SELECT', 'children_picker_add');"></span>
                      </div>
                     </div>
                     <div class="hrLine afterChildrenCounter"></div>
                     <div class="childrenAgesContainer">
                      <div class="ageContainer flightsAgeContainer_1" style="display:none;">
                       <div class="childLabel">
                        Age of child 1
                       </div> 
                       <div class="childAgePicker">
                        <div class="ui_select" data-input=".childrenAgeElt_1" onclick="require(['forms/select'], function(select) {new select.Select().init(this);}.bind(this));">
                         <div class="closed_text">
                          Age ? 
                         </div>
                         <div class="options hidden">
                          <div class="option default" selected data-value="-1">
                           Age ?
                          </div> 
                          <div class="separator"></div>
                          <div class="option" data-value="0">
                           &lt; 1
                          </div>
                          <div class="option" data-value="1">
                           1
                          </div>
                          <div class="option" data-value="2">
                           2
                          </div>
                          <div class="option" data-value="3">
                           3
                          </div>
                          <div class="option" data-value="4">
                           4
                          </div>
                          <div class="option" data-value="5">
                           5
                          </div>
                          <div class="option" data-value="6">
                           6
                          </div>
                          <div class="option" data-value="7">
                           7
                          </div>
                          <div class="option" data-value="8">
                           8
                          </div>
                          <div class="option" data-value="9">
                           9
                          </div>
                          <div class="option" data-value="10">
                           10
                          </div>
                          <div class="option" data-value="11">
                           11
                          </div>
                          <div class="option" data-value="12">
                           12
                          </div>
                          <div class="option" data-value="13">
                           13
                          </div>
                          <div class="option" data-value="14">
                           14
                          </div>
                          <div class="option" data-value="15">
                           15
                          </div>
                          <div class="option" data-value="16">
                           16
                          </div>
                          <div class="option" data-value="17">
                           17
                          </div>
                         </div>
                         <input type="hidden" name="childrenAgeElt_1" class="childrenAgeElt_1 childrenAgeHiddenInput" value="-1">
                        </div>
                       </div>
                      </div>
                      <div class="ageContainer flightsAgeContainer_2" style="display:none;">
                       <div class="childLabel">
                        Age of child 2
                       </div> 
                       <div class="childAgePicker">
                        <div class="ui_select" data-input=".childrenAgeElt_2" onclick="require(['forms/select'], function(select) {new select.Select().init(this);}.bind(this));">
                         <div class="closed_text">
                          Age ? 
                         </div>
                         <div class="options hidden">
                          <div class="option default" selected data-value="-1">
                           Age ?
                          </div> 
                          <div class="separator"></div>
                          <div class="option" data-value="0">
                           &lt; 1
                          </div>
                          <div class="option" data-value="1">
                           1
                          </div>
                          <div class="option" data-value="2">
                           2
                          </div>
                          <div class="option" data-value="3">
                           3
                          </div>
                          <div class="option" data-value="4">
                           4
                          </div>
                          <div class="option" data-value="5">
                           5
                          </div>
                          <div class="option" data-value="6">
                           6
                          </div>
                          <div class="option" data-value="7">
                           7
                          </div>
                          <div class="option" data-value="8">
                           8
                          </div>
                          <div class="option" data-value="9">
                           9
                          </div>
                          <div class="option" data-value="10">
                           10
                          </div>
                          <div class="option" data-value="11">
                           11
                          </div>
                          <div class="option" data-value="12">
                           12
                          </div>
                          <div class="option" data-value="13">
                           13
                          </div>
                          <div class="option" data-value="14">
                           14
                          </div>
                          <div class="option" data-value="15">
                           15
                          </div>
                          <div class="option" data-value="16">
                           16
                          </div>
                          <div class="option" data-value="17">
                           17
                          </div>
                         </div>
                         <input type="hidden" name="childrenAgeElt_2" class="childrenAgeElt_2 childrenAgeHiddenInput" value="-1">
                        </div>
                       </div>
                      </div>
                      <div class="ageContainer flightsAgeContainer_3" style="display:none;">
                       <div class="childLabel">
                        Age of child 3
                       </div> 
                       <div class="childAgePicker">
                        <div class="ui_select" data-input=".childrenAgeElt_3" onclick="require(['forms/select'], function(select) {new select.Select().init(this);}.bind(this));">
                         <div class="closed_text">
                          Age ? 
                         </div>
                         <div class="options hidden">
                          <div class="option default" selected data-value="-1">
                           Age ?
                          </div> 
                          <div class="separator"></div>
                          <div class="option" data-value="0">
                           &lt; 1
                          </div>
                          <div class="option" data-value="1">
                           1
                          </div>
                          <div class="option" data-value="2">
                           2
                          </div>
                          <div class="option" data-value="3">
                           3
                          </div>
                          <div class="option" data-value="4">
                           4
                          </div>
                          <div class="option" data-value="5">
                           5
                          </div>
                          <div class="option" data-value="6">
                           6
                          </div>
                          <div class="option" data-value="7">
                           7
                          </div>
                          <div class="option" data-value="8">
                           8
                          </div>
                          <div class="option" data-value="9">
                           9
                          </div>
                          <div class="option" data-value="10">
                           10
                          </div>
                          <div class="option" data-value="11">
                           11
                          </div>
                          <div class="option" data-value="12">
                           12
                          </div>
                          <div class="option" data-value="13">
                           13
                          </div>
                          <div class="option" data-value="14">
                           14
                          </div>
                          <div class="option" data-value="15">
                           15
                          </div>
                          <div class="option" data-value="16">
                           16
                          </div>
                          <div class="option" data-value="17">
                           17
                          </div>
                         </div>
                         <input type="hidden" name="childrenAgeElt_3" class="childrenAgeElt_3 childrenAgeHiddenInput" value="-1">
                        </div>
                       </div>
                      </div>
                      <div class="ageContainer flightsAgeContainer_4" style="display:none;">
                       <div class="childLabel">
                        Age of child 4
                       </div> 
                       <div class="childAgePicker">
                        <div class="ui_select" data-input=".childrenAgeElt_4" onclick="require(['forms/select'], function(select) {new select.Select().init(this);}.bind(this));">
                         <div class="closed_text">
                          Age ? 
                         </div>
                         <div class="options hidden">
                          <div class="option default" selected data-value="-1">
                           Age ?
                          </div> 
                          <div class="separator"></div>
                          <div class="option" data-value="0">
                           &lt; 1
                          </div>
                          <div class="option" data-value="1">
                           1
                          </div>
                          <div class="option" data-value="2">
                           2
                          </div>
                          <div class="option" data-value="3">
                           3
                          </div>
                          <div class="option" data-value="4">
                           4
                          </div>
                          <div class="option" data-value="5">
                           5
                          </div>
                          <div class="option" data-value="6">
                           6
                          </div>
                          <div class="option" data-value="7">
                           7
                          </div>
                          <div class="option" data-value="8">
                           8
                          </div>
                          <div class="option" data-value="9">
                           9
                          </div>
                          <div class="option" data-value="10">
                           10
                          </div>
                          <div class="option" data-value="11">
                           11
                          </div>
                          <div class="option" data-value="12">
                           12
                          </div>
                          <div class="option" data-value="13">
                           13
                          </div>
                          <div class="option" data-value="14">
                           14
                          </div>
                          <div class="option" data-value="15">
                           15
                          </div>
                          <div class="option" data-value="16">
                           16
                          </div>
                          <div class="option" data-value="17">
                           17
                          </div>
                         </div>
                         <input type="hidden" name="childrenAgeElt_4" class="childrenAgeElt_4 childrenAgeHiddenInput" value="-1">
                        </div>
                       </div>
                      </div>
                      <div class="ageContainer flightsAgeContainer_5" style="display:none;">
                       <div class="childLabel">
                        Age of child 5
                       </div> 
                       <div class="childAgePicker">
                        <div class="ui_select" data-input=".childrenAgeElt_5" onclick="require(['forms/select'], function(select) {new select.Select().init(this);}.bind(this));">
                         <div class="closed_text">
                          Age ? 
                         </div>
                         <div class="options hidden">
                          <div class="option default" selected data-value="-1">
                           Age ?
                          </div> 
                          <div class="separator"></div>
                          <div class="option" data-value="0">
                           &lt; 1
                          </div>
                          <div class="option" data-value="1">
                           1
                          </div>
                          <div class="option" data-value="2">
                           2
                          </div>
                          <div class="option" data-value="3">
                           3
                          </div>
                          <div class="option" data-value="4">
                           4
                          </div>
                          <div class="option" data-value="5">
                           5
                          </div>
                          <div class="option" data-value="6">
                           6
                          </div>
                          <div class="option" data-value="7">
                           7
                          </div>
                          <div class="option" data-value="8">
                           8
                          </div>
                          <div class="option" data-value="9">
                           9
                          </div>
                          <div class="option" data-value="10">
                           10
                          </div>
                          <div class="option" data-value="11">
                           11
                          </div>
                          <div class="option" data-value="12">
                           12
                          </div>
                          <div class="option" data-value="13">
                           13
                          </div>
                          <div class="option" data-value="14">
                           14
                          </div>
                          <div class="option" data-value="15">
                           15
                          </div>
                          <div class="option" data-value="16">
                           16
                          </div>
                          <div class="option" data-value="17">
                           17
                          </div>
                         </div>
                         <input type="hidden" name="childrenAgeElt_5" class="childrenAgeElt_5 childrenAgeHiddenInput" value="-1">
                        </div>
                       </div>
                      </div>
                     </div>
                     <div class="errorMsgContainer hidden">
                      <span class="errorMsg"></span>
                     </div>
                     <div class="alertMsgContainer hidden">
                      <span class="alertMsg"></span>
                     </div>
                     <div class="closeTextContainer">
                      <span class="ui_link closeText">Close</span> 
                     </div>
                    </div>
                   </div>
                  </div>
                 </div>
                 <div class="localizationStrings localizationPeopleStrings" data-people-0="0 People" data-people-1="1 Person" data-people-2="2 People" data-people-3="3 People" data-people-4="4 People" data-people-5="5 People" data-people-6="6 People" data-people-7="6+ People"></div> 
                 <div class="localizationStrings localizationMessages" data-no-infant-in-lap="Policies and pricing for traveling with infants may vary, so please check with the ticketing provider before booking." data-zero-adults="" data-over-max-travelers="TripAdvisor supports searches for a maximum of 6 travelers. Contact the airline or travel agency for larger parties.  "></div> 
                 <div class="localizationStrings localizationTravelerStrings" data-adults-0="0 adults (18-64)" data-adults-1="1 adult (18-64)" data-adults-2="2 adults (18-64)" data-adults-3="3 adults (18-64)" data-adults-4="4 adults (18-64)" data-adults-5="5 adults (18-64)" data-adults-6="6 adults (18-64)" data-seniors-0="0 seniors (65+)" data-seniors-1="1 senior (65+)" data-seniors-2="2 seniors (65+)" data-seniors-3="3 seniors (65+)" data-seniors-4="4 seniors (65+)" data-seniors-5="5 seniors (65+)" data-seniors-6="6 seniors (65+)" data-children-0="0 children (0-17)" data-children-1="1 child (0-17)" data-children-2="2 children (0-17)" data-children-3="3 children (0-17)" data-children-4="4 children (0-17)" data-children-5="5 children (0-17)"> 
                 </div>
                </div>
               </div>
               <div class="ui_column is-mobile submit_wrap" onclick="widgetEvCall('handlers.doSearch',event,this);">
                <button class="form_submit searchBtn en_US en" tabindex="9" onfocus="widgetEvCall('handlers.closeCosPassengerOverlays',event,this);"><span class="ui_icon search submit_icon"></span><span class="submit_text">Find flights </span></button>
               </div>
              </div>
             </div>
             <div class="tabContent multiCity">
              <div id="multiCityRow1" class="ui_columns mc_row trip_search rounded_lockup easyClear">
               <div class="prw_rup prw_flights_trip_search_typeahead ui_column is-12-tablet is-6-desktop mcTypeahead" data-prwidget-name="flights_trip_search_typeahead" data-prwidget-init="handlers">
                <div class="grouper ui_columns ui_picker">
                 <div class="orig ui_column is-6 is-6-tablet map-pin-fill ui_icon pickerType ui_typeahead">
                  <input type="hidden" class="value" name="orig" value="CAI">
                  <input type="text" class="query " tabindex="4" value="Cairo, Egypt - Cairo Intl (CAI)" placeholder="City or Airport" data-clickedAlready="false">
                  <span class="input_highlight"></span>
                 </div>
                 <div class="dest ui_column is-6 is-6-tablet map-pin-fill ui_icon pickerType ui_typeahead">
                  <input type="hidden" class="value" name="dest" value="">
                  <input type="text" class="query " tabindex="5" value="" placeholder="City or Airport" data-clickedAlready="false">
                 </div>
                </div>
                <span class="data_holder hidden" data-noresultsmessage="No results found" data-ismobileweb=""></span>
               </div>
               <div class="ui_column is-6-tablet dp_column">
                <div class="prw_rup prw_datepickers_flights_single_date_datepicker mcDatePicker" data-prwidget-name="datepickers_flights_single_date_datepicker" data-prwidget-init="handlers"> 
                 <div id="ow_ui_picker" class="ui_picker" onclick="(ta.prwidgets.getjs(this,'handlers')).handleClick()"> 
                  <span class="unified-picker" data-datetype="ONEWAYFLIGHT" data-emptytext="Departure" data-trackingcontext="oneWay|DATES" data-dateformat="date_medium_month" tabindex="6" onfocus="(ta.prwidgets.getjs(this,'handlers')).handleFocus(event)"> <span class="ui_icon calendar pickerType"></span> <span class="picker-inner"> <span class="picker-label target"> Apr 6 </span> </span> </span> 
                  <span class="ui_icon caret-down"></span> 
                 </div> 
                </div>
               </div>
              </div>
              <div id="multiCityRow2" class="ui_columns mc_row trip_search rounded_lockup easyClear">
               <div class="prw_rup prw_flights_trip_search_typeahead ui_column is-12-tablet is-6-desktop mcTypeahead" data-prwidget-name="flights_trip_search_typeahead" data-prwidget-init="handlers">
                <div class="grouper ui_columns ui_picker">
                 <div class="orig ui_column is-6 is-6-tablet map-pin-fill ui_icon pickerType ui_typeahead">
                  <input type="hidden" class="value" name="orig" value="CAI">
                  <input type="text" class="query " tabindex="4" value="Cairo, Egypt - Cairo Intl (CAI)" placeholder="City or Airport" data-clickedAlready="false">
                  <span class="input_highlight"></span>
                 </div>
                 <div class="dest ui_column is-6 is-6-tablet map-pin-fill ui_icon pickerType ui_typeahead">
                  <input type="hidden" class="value" name="dest" value="">
                  <input type="text" class="query " tabindex="5" value="" placeholder="City or Airport" data-clickedAlready="false">
                 </div>
                </div>
                <span class="data_holder hidden" data-noresultsmessage="No results found" data-ismobileweb=""></span>
               </div>
               <div class="ui_column is-6-tablet dp_column">
                <div class="prw_rup prw_datepickers_flights_single_date_datepicker mcDatePicker leg1" data-prwidget-name="datepickers_flights_single_date_datepicker" data-prwidget-init="handlers"> 
                 <div id="ow_ui_picker" class="ui_picker" onclick="(ta.prwidgets.getjs(this,'handlers')).handleClick()"> 
                  <span class="unified-picker" data-datetype="ONEWAYFLIGHT" data-emptytext="Departure" data-trackingcontext="oneWay|DATES" data-dateformat="date_medium_month" tabindex="6" onfocus="(ta.prwidgets.getjs(this,'handlers')).handleFocus(event)"> <span class="ui_icon calendar pickerType"></span> <span class="picker-inner"> <span class="picker-label target"> Apr 6 </span> </span> </span> 
                  <span class="ui_icon caret-down"></span> 
                 </div> 
                </div>
               </div>
              </div>
              <div id="multiCityRow3" class="ui_columns mc_row trip_search rounded_lockup easyClear hidden">
               <div class="prw_rup prw_flights_trip_search_typeahead ui_column is-12-tablet is-6-desktop mcTypeahead" data-prwidget-name="flights_trip_search_typeahead" data-prwidget-init="handlers">
                <div class="grouper ui_columns ui_picker">
                 <div class="orig ui_column is-6 is-6-tablet map-pin-fill ui_icon pickerType ui_typeahead">
                  <input type="hidden" class="value" name="orig" value="CAI">
                  <input type="text" class="query " tabindex="4" value="Cairo, Egypt - Cairo Intl (CAI)" placeholder="City or Airport" data-clickedAlready="false">
                  <span class="input_highlight"></span>
                 </div>
                 <div class="dest ui_column is-6 is-6-tablet map-pin-fill ui_icon pickerType ui_typeahead">
                  <input type="hidden" class="value" name="dest" value="">
                  <input type="text" class="query " tabindex="5" value="" placeholder="City or Airport" data-clickedAlready="false">
                 </div>
                </div>
                <span class="data_holder hidden" data-noresultsmessage="No results found" data-ismobileweb=""></span>
               </div>
               <div class="ui_column is-6-tablet dp_column">
                <div class="prw_rup prw_datepickers_flights_single_date_datepicker mcDatePicker leg2" data-prwidget-name="datepickers_flights_single_date_datepicker" data-prwidget-init="handlers"> 
                 <div id="ow_ui_picker" class="ui_picker" onclick="(ta.prwidgets.getjs(this,'handlers')).handleClick()"> 
                  <span class="unified-picker" data-datetype="ONEWAYFLIGHT" data-emptytext="Departure" data-trackingcontext="oneWay|DATES" data-dateformat="date_medium_month" tabindex="6" onfocus="(ta.prwidgets.getjs(this,'handlers')).handleFocus(event)"> <span class="ui_icon calendar pickerType"></span> <span class="picker-inner"> <span class="picker-label target"> Apr 6 </span> </span> </span> 
                  <span class="ui_icon caret-down"></span> 
                 </div> 
                </div>
               </div>
              </div>
              <div id="multiCityRow4" class="ui_columns mc_row trip_search rounded_lockup easyClear hidden">
               <div class="prw_rup prw_flights_trip_search_typeahead ui_column is-12-tablet is-6-desktop mcTypeahead" data-prwidget-name="flights_trip_search_typeahead" data-prwidget-init="handlers">
                <div class="grouper ui_columns ui_picker">
                 <div class="orig ui_column is-6 is-6-tablet map-pin-fill ui_icon pickerType ui_typeahead">
                  <input type="hidden" class="value" name="orig" value="CAI">
                  <input type="text" class="query " tabindex="4" value="Cairo, Egypt - Cairo Intl (CAI)" placeholder="City or Airport" data-clickedAlready="false">
                  <span class="input_highlight"></span>
                 </div>
                 <div class="dest ui_column is-6 is-6-tablet map-pin-fill ui_icon pickerType ui_typeahead">
                  <input type="hidden" class="value" name="dest" value="">
                  <input type="text" class="query " tabindex="5" value="" placeholder="City or Airport" data-clickedAlready="false">
                 </div>
                </div>
                <span class="data_holder hidden" data-noresultsmessage="No results found" data-ismobileweb=""></span>
               </div>
               <div class="ui_column is-6-tablet dp_column">
                <div class="prw_rup prw_datepickers_flights_single_date_datepicker mcDatePicker leg3" data-prwidget-name="datepickers_flights_single_date_datepicker" data-prwidget-init="handlers"> 
                 <div id="ow_ui_picker" class="ui_picker" onclick="(ta.prwidgets.getjs(this,'handlers')).handleClick()"> 
                  <span class="unified-picker" data-datetype="ONEWAYFLIGHT" data-emptytext="Departure" data-trackingcontext="oneWay|DATES" data-dateformat="date_medium_month" tabindex="6" onfocus="(ta.prwidgets.getjs(this,'handlers')).handleFocus(event)"> <span class="ui_icon calendar pickerType"></span> <span class="picker-inner"> <span class="picker-label target"> Apr 6 </span> </span> </span> 
                  <span class="ui_icon caret-down"></span> 
                 </div> 
                </div>
               </div>
              </div>
              <div class="ui_columns trip_search rounded_lockup easyClear mcBottomRow">
               <div class="addRemFlightColumn ui_column">
                <span class="addFlight"><span class="addRemFlightSymbol">+</span><span class="addRemFlightText">Add</span> </span>
                <span class="removeFlight"><span class="addRemFlightSymbol">-</span><span class="addRemFlightText">Remove</span> </span>
               </div>
               <div class="ui_column is-6-tablet cpp_column">
                <div class="prw_rup prw_flights_cos_passenger_picker" data-prwidget-name="flights_cos_passenger_picker" data-prwidget-init="handlers">
                 <div id="cos_ui_picker" class="ui_picker" onclick="widgetEvCall('handlers.containerClick', event, this)">
                  <div class="cosPassengerPicker" data-popover="" data-position="below" data-header="" data-element=".cosPassengerPopover" data-options="autoReposition closeOnDocClick highlightElement" data-move-source="true" data-move-padding="30" tabindex="8" onfocus="widgetEvCall('handlers.cosPassengerPickerFocus', event, this);" onclick="widgetEvCall('handlers.cosPassengerPickerClick', event, this);">
                   <span class="ui_icon friends pickerType"></span>
                   <span class="summaryContainer target"><span class="flightsTotalTravelers">1 Person</span>, <span class="selectedCos">Economy</span> </span>
                   <span class="ui_icon caret-down"></span>
                   <div class="prw_rup prw_flights_cos_passenger_picker cosPassengerPopover hidden">
                    <div class="popoverContents">
                     <div class="cosDropdown" onclick="ta.trackEventOnPage('PaxSelector-tripsearch','menu_open','class_picker_open');">
                      <div class="picker-inner localizationCosStrings" data-economy="Economy" data-premium-economy="Premium Economy" data-business="Business Class" data-first-class="First Class"> 
                       <span class="cos picker-label">Economy</span>
                       <span class="ui_icon caret-down open-close"></span>
                      </div>
                      <div class="picker-dropdown hidden">
                       <ul>
                        <li class="curoption"><span class="picker-label">Economy</span> <span class="ui_icon caret-up open-close"></span></li> 
                       </ul>
                       <ul class="options-container"></ul>
                      </div>
                     </div>
                     <div class="hrLine afterCos"></div>
                     <div class="travelerRow adultRow">
                      <div class="adults">
                       <span class="travelerCount hidden">1</span>
                       <span class="travelerLabel">1 adult (18-64)</span> 
                      </div>
                      <div class="adultCounter counter">
                       <span class="ui_icon minus-circle disabled" onclick="ta.trackEventOnPage('PaxSelector-tripsearch','SELECT','adult_picker_subtract');"></span>
                       <span class="ui_icon plus-circle enabled" onclick="ta.trackEventOnPage('PaxSelector-tripsearch','SELECT','adult_picker_add');"></span>
                      </div>
                     </div>
                     <div class="travelerRow">
                      <div class="seniors">
                       <span class="travelerCount hidden">0</span>
                       <span class="travelerLabel">0 seniors (65+)</span> 
                      </div>
                      <div class="seniorCounter counter">
                       <span class="ui_icon minus-circle disabled" onclick="ta.trackEventOnPage('PaxSelector-tripsearch','SELECT','senior_picker_subtract');"></span>
                       <span class="ui_icon plus-circle enabled" onclick="ta.trackEventOnPage('PaxSelector-tripsearch','SELECT','senior_picker_add');"></span>
                      </div>
                     </div>
                     <div class="travelerRow childrenRow">
                      <div class="children">
                       <span class="travelerCount hidden">0</span>
                       <span class="travelerLabel">0 children (0-17)</span> 
                      </div>
                      <div class="childrenCounter counter">
                       <span class="ui_icon minus-circle disabled" onclick="ta.trackEventOnPage('PaxSelector-tripsearch','SELECT','children_picker_subtract');"></span>
                       <span class="ui_icon plus-circle enabled" onclick="ta.trackEventOnPage('PaxSelector-tripsearch', 'SELECT', 'children_picker_add');"></span>
                      </div>
                     </div>
                     <div class="hrLine afterChildrenCounter"></div>
                     <div class="childrenAgesContainer">
                      <div class="ageContainer flightsAgeContainer_1" style="display:none;">
                       <div class="childLabel">
                        Age of child 1
                       </div> 
                       <div class="childAgePicker">
                        <div class="ui_select" data-input=".childrenAgeElt_1" onclick="require(['forms/select'], function(select) {new select.Select().init(this);}.bind(this));">
                         <div class="closed_text">
                          Age ? 
                         </div>
                         <div class="options hidden">
                          <div class="option default" selected data-value="-1">
                           Age ?
                          </div> 
                          <div class="separator"></div>
                          <div class="option" data-value="0">
                           &lt; 1
                          </div>
                          <div class="option" data-value="1">
                           1
                          </div>
                          <div class="option" data-value="2">
                           2
                          </div>
                          <div class="option" data-value="3">
                           3
                          </div>
                          <div class="option" data-value="4">
                           4
                          </div>
                          <div class="option" data-value="5">
                           5
                          </div>
                          <div class="option" data-value="6">
                           6
                          </div>
                          <div class="option" data-value="7">
                           7
                          </div>
                          <div class="option" data-value="8">
                           8
                          </div>
                          <div class="option" data-value="9">
                           9
                          </div>
                          <div class="option" data-value="10">
                           10
                          </div>
                          <div class="option" data-value="11">
                           11
                          </div>
                          <div class="option" data-value="12">
                           12
                          </div>
                          <div class="option" data-value="13">
                           13
                          </div>
                          <div class="option" data-value="14">
                           14
                          </div>
                          <div class="option" data-value="15">
                           15
                          </div>
                          <div class="option" data-value="16">
                           16
                          </div>
                          <div class="option" data-value="17">
                           17
                          </div>
                         </div>
                         <input type="hidden" name="childrenAgeElt_1" class="childrenAgeElt_1 childrenAgeHiddenInput" value="-1">
                        </div>
                       </div>
                      </div>
                      <div class="ageContainer flightsAgeContainer_2" style="display:none;">
                       <div class="childLabel">
                        Age of child 2
                       </div> 
                       <div class="childAgePicker">
                        <div class="ui_select" data-input=".childrenAgeElt_2" onclick="require(['forms/select'], function(select) {new select.Select().init(this);}.bind(this));">
                         <div class="closed_text">
                          Age ? 
                         </div>
                         <div class="options hidden">
                          <div class="option default" selected data-value="-1">
                           Age ?
                          </div> 
                          <div class="separator"></div>
                          <div class="option" data-value="0">
                           &lt; 1
                          </div>
                          <div class="option" data-value="1">
                           1
                          </div>
                          <div class="option" data-value="2">
                           2
                          </div>
                          <div class="option" data-value="3">
                           3
                          </div>
                          <div class="option" data-value="4">
                           4
                          </div>
                          <div class="option" data-value="5">
                           5
                          </div>
                          <div class="option" data-value="6">
                           6
                          </div>
                          <div class="option" data-value="7">
                           7
                          </div>
                          <div class="option" data-value="8">
                           8
                          </div>
                          <div class="option" data-value="9">
                           9
                          </div>
                          <div class="option" data-value="10">
                           10
                          </div>
                          <div class="option" data-value="11">
                           11
                          </div>
                          <div class="option" data-value="12">
                           12
                          </div>
                          <div class="option" data-value="13">
                           13
                          </div>
                          <div class="option" data-value="14">
                           14
                          </div>
                          <div class="option" data-value="15">
                           15
                          </div>
                          <div class="option" data-value="16">
                           16
                          </div>
                          <div class="option" data-value="17">
                           17
                          </div>
                         </div>
                         <input type="hidden" name="childrenAgeElt_2" class="childrenAgeElt_2 childrenAgeHiddenInput" value="-1">
                        </div>
                       </div>
                      </div>
                      <div class="ageContainer flightsAgeContainer_3" style="display:none;">
                       <div class="childLabel">
                        Age of child 3
                       </div> 
                       <div class="childAgePicker">
                        <div class="ui_select" data-input=".childrenAgeElt_3" onclick="require(['forms/select'], function(select) {new select.Select().init(this);}.bind(this));">
                         <div class="closed_text">
                          Age ? 
                         </div>
                         <div class="options hidden">
                          <div class="option default" selected data-value="-1">
                           Age ?
                          </div> 
                          <div class="separator"></div>
                          <div class="option" data-value="0">
                           &lt; 1
                          </div>
                          <div class="option" data-value="1">
                           1
                          </div>
                          <div class="option" data-value="2">
                           2
                          </div>
                          <div class="option" data-value="3">
                           3
                          </div>
                          <div class="option" data-value="4">
                           4
                          </div>
                          <div class="option" data-value="5">
                           5
                          </div>
                          <div class="option" data-value="6">
                           6
                          </div>
                          <div class="option" data-value="7">
                           7
                          </div>
                          <div class="option" data-value="8">
                           8
                          </div>
                          <div class="option" data-value="9">
                           9
                          </div>
                          <div class="option" data-value="10">
                           10
                          </div>
                          <div class="option" data-value="11">
                           11
                          </div>
                          <div class="option" data-value="12">
                           12
                          </div>
                          <div class="option" data-value="13">
                           13
                          </div>
                          <div class="option" data-value="14">
                           14
                          </div>
                          <div class="option" data-value="15">
                           15
                          </div>
                          <div class="option" data-value="16">
                           16
                          </div>
                          <div class="option" data-value="17">
                           17
                          </div>
                         </div>
                         <input type="hidden" name="childrenAgeElt_3" class="childrenAgeElt_3 childrenAgeHiddenInput" value="-1">
                        </div>
                       </div>
                      </div>
                      <div class="ageContainer flightsAgeContainer_4" style="display:none;">
                       <div class="childLabel">
                        Age of child 4
                       </div> 
                       <div class="childAgePicker">
                        <div class="ui_select" data-input=".childrenAgeElt_4" onclick="require(['forms/select'], function(select) {new select.Select().init(this);}.bind(this));">
                         <div class="closed_text">
                          Age ? 
                         </div>
                         <div class="options hidden">
                          <div class="option default" selected data-value="-1">
                           Age ?
                          </div> 
                          <div class="separator"></div>
                          <div class="option" data-value="0">
                           &lt; 1
                          </div>
                          <div class="option" data-value="1">
                           1
                          </div>
                          <div class="option" data-value="2">
                           2
                          </div>
                          <div class="option" data-value="3">
                           3
                          </div>
                          <div class="option" data-value="4">
                           4
                          </div>
                          <div class="option" data-value="5">
                           5
                          </div>
                          <div class="option" data-value="6">
                           6
                          </div>
                          <div class="option" data-value="7">
                           7
                          </div>
                          <div class="option" data-value="8">
                           8
                          </div>
                          <div class="option" data-value="9">
                           9
                          </div>
                          <div class="option" data-value="10">
                           10
                          </div>
                          <div class="option" data-value="11">
                           11
                          </div>
                          <div class="option" data-value="12">
                           12
                          </div>
                          <div class="option" data-value="13">
                           13
                          </div>
                          <div class="option" data-value="14">
                           14
                          </div>
                          <div class="option" data-value="15">
                           15
                          </div>
                          <div class="option" data-value="16">
                           16
                          </div>
                          <div class="option" data-value="17">
                           17
                          </div>
                         </div>
                         <input type="hidden" name="childrenAgeElt_4" class="childrenAgeElt_4 childrenAgeHiddenInput" value="-1">
                        </div>
                       </div>
                      </div>
                      <div class="ageContainer flightsAgeContainer_5" style="display:none;">
                       <div class="childLabel">
                        Age of child 5
                       </div> 
                       <div class="childAgePicker">
                        <div class="ui_select" data-input=".childrenAgeElt_5" onclick="require(['forms/select'], function(select) {new select.Select().init(this);}.bind(this));">
                         <div class="closed_text">
                          Age ? 
                         </div>
                         <div class="options hidden">
                          <div class="option default" selected data-value="-1">
                           Age ?
                          </div> 
                          <div class="separator"></div>
                          <div class="option" data-value="0">
                           &lt; 1
                          </div>
                          <div class="option" data-value="1">
                           1
                          </div>
                          <div class="option" data-value="2">
                           2
                          </div>
                          <div class="option" data-value="3">
                           3
                          </div>
                          <div class="option" data-value="4">
                           4
                          </div>
                          <div class="option" data-value="5">
                           5
                          </div>
                          <div class="option" data-value="6">
                           6
                          </div>
                          <div class="option" data-value="7">
                           7
                          </div>
                          <div class="option" data-value="8">
                           8
                          </div>
                          <div class="option" data-value="9">
                           9
                          </div>
                          <div class="option" data-value="10">
                           10
                          </div>
                          <div class="option" data-value="11">
                           11
                          </div>
                          <div class="option" data-value="12">
                           12
                          </div>
                          <div class="option" data-value="13">
                           13
                          </div>
                          <div class="option" data-value="14">
                           14
                          </div>
                          <div class="option" data-value="15">
                           15
                          </div>
                          <div class="option" data-value="16">
                           16
                          </div>
                          <div class="option" data-value="17">
                           17
                          </div>
                         </div>
                         <input type="hidden" name="childrenAgeElt_5" class="childrenAgeElt_5 childrenAgeHiddenInput" value="-1">
                        </div>
                       </div>
                      </div>
                     </div>
                     <div class="errorMsgContainer hidden">
                      <span class="errorMsg"></span>
                     </div>
                     <div class="alertMsgContainer hidden">
                      <span class="alertMsg"></span>
                     </div>
                     <div class="closeTextContainer">
                      <span class="ui_link closeText">Close</span> 
                     </div>
                    </div>
                   </div>
                  </div>
                 </div>
                 <div class="localizationStrings localizationPeopleStrings" data-people-0="0 People" data-people-1="1 Person" data-people-2="2 People" data-people-3="3 People" data-people-4="4 People" data-people-5="5 People" data-people-6="6 People" data-people-7="6+ People"></div> 
                 <div class="localizationStrings localizationMessages" data-no-infant-in-lap="Policies and pricing for traveling with infants may vary, so please check with the ticketing provider before booking." data-zero-adults="" data-over-max-travelers="TripAdvisor supports searches for a maximum of 6 travelers. Contact the airline or travel agency for larger parties.  "></div> 
                 <div class="localizationStrings localizationTravelerStrings" data-adults-0="0 adults (18-64)" data-adults-1="1 adult (18-64)" data-adults-2="2 adults (18-64)" data-adults-3="3 adults (18-64)" data-adults-4="4 adults (18-64)" data-adults-5="5 adults (18-64)" data-adults-6="6 adults (18-64)" data-seniors-0="0 seniors (65+)" data-seniors-1="1 senior (65+)" data-seniors-2="2 seniors (65+)" data-seniors-3="3 seniors (65+)" data-seniors-4="4 seniors (65+)" data-seniors-5="5 seniors (65+)" data-seniors-6="6 seniors (65+)" data-children-0="0 children (0-17)" data-children-1="1 child (0-17)" data-children-2="2 children (0-17)" data-children-3="3 children (0-17)" data-children-4="4 children (0-17)" data-children-5="5 children (0-17)"> 
                 </div>
                </div>
               </div>
               <div class="ui_column is-mobile submit_wrap" onclick="widgetEvCall('handlers.doSearch',event,this);">
                <span class="form_submit searchBtn en_US en" tabindex="37" onfocus="widgetEvCall('handlers.closeCosPassengerOverlays',event,this);"><span class="ui_icon search"></span><span class="submit_text">Find flights </span></span>
               </div>
              </div>
             </div></span>
            <p class="control formBelow"></p>
            <div class="optionsContainer ui_columns">
             <div class="additionalOptions ui_column ">
              <div class="ui_columns is-multiline is-narrow">
               <div class="ui_column nonstop">
                <div class="ui_checkbox">
                 <input type="checkbox" id="nonStopOnly" onclick="ta.trackEventOnPage('TripSearch','SELECT','FL_TS_NONSTOP');">
                 <label for="nonStopOnly">Prefer nonstop</label> 
                </div>
               </div>
               <div class="ui_column nearby">
                <div class="ui_checkbox">
                 <input type="checkbox" id="includeNearby" onclick="ta.trackEventOnPage('TripSearch','SELECT','FLT_TS_NEARBY');">
                 <label for="includeNearby">Include nearby airports</label> 
                </div>
               </div>
               <div class="airwatch ui_column" data-awsecuritytoken="TNI1625!ACJHRA6EWDcXjL+r0v90QD3WCwf6nWkYurQH+aZzhPbOLL+nn/h6WhAiBXZFxi3pYitm0ybllHhQp7aH4EyTPZNWr+LZ/aC+t2W1P4AbLYA6z6Z/Z/pBqeracfwHdkzONxs9C6Hov+q2wt8So1NakCkO25z0jtUuN00jh9sfYL4u" data-aw-checkbox-pid="40064">
                <div class="label ui_checkbox">
                 <input type="checkbox" id="aw-checkbox" onclick="ta.trackEventOnPage('TripSearch','SELECT','FL_TS_PRICEDROP');">
                 <label for="aw-checkbox" data-loggedin-label="Add price drop alert">Add price drop alert:</label>
                </div>
                <div class="aw_email_container">
                 <input id="awEmailInput" class="aw-email ui_column ui_input_text" type="text" onfocus="(ta.prwidgets.getjs(this,'handlers')).onAwInputClick();" placeholder="Enter your email address"> 
                 <div class="input_highlight"></div>
                </div>
               </div>
              </div>
              <div class="providers">
               <div class="prw_rup prw_flights_logo_checkbox_searchform" data-prwidget-name="flights_logo_checkbox_searchform" data-prwidget-init="handlers"></div>
              </div>
             </div>
            </div>
           </div>
           <script>require(['ta/Core/TA.Store'], function(taStore) {taStore.store('chromeTabUnder', false);});</script>
          </div>
         </div>
        </div>
       </div>
      </div>
     </div>
    </div>
   </div>
   <div class="ui_container">
    <!-- PLACEMENT homepage_shelves:flights -->
    <div id="taplc_homepage_shelves_flights_0" class="ppr_rup ppr_priv_homepage_shelves" data-placement-name="homepage_shelves:flights">
     <!--trkP:ShelfCoverPages--> 
     <!--trkV:SCP-1.0--> 
     <div class="travel_info" style="display:none;"></div>
     <div class="homepage_shelves_widget">
      <div class="prw_rup prw_homepage_messaging_flights" data-prwidget-name="homepage_messaging_flights" data-prwidget-init="">
       <!--trkN:1--> 
       <!--trkS:445--> 
       <!--etk--> 
       <div class="brandHeader is-hidden-mobile"></div>
       <div id="brand_messaging" class="ui_columns is-hidden-mobile" data-rownumber="">
        <div class="ui_column is-4">
         <div class="iconAbove">
          <div class="iconWrap">
           <img src="https://static.tacdn.com/img2/branding/homepage/messaging/icon_reviews_2x.png" class="msgIcon" height="48" width="106"> 
          </div>
          <div class="msgHeader">
           See the latest reviews
          </div>
          <div class="msgCopy">
            Read airline reviews from our global traveler&nbsp;community
          </div>
         </div>
        </div>
        <div class="ui_column is-4">
         <div class="iconAbove">
          <div class="iconWrap">
           <img src="https://static.tacdn.com/img2/branding/homepage/messaging/icon_search_prices_tl_2x.png" class="msgIcon" height="47" width="114">
          </div>
          <div class="msgHeader">
           The lowest flight&nbsp;prices
          </div>
          <div class="msgCopy">
           Find the best flight deals from hundreds of sites with just one&nbsp;search
          </div>
         </div>
        </div>
        <div class="ui_column is-4">
         <div class="iconAbove">
          <div class="iconWrap">
           <img src="https://static.tacdn.com/img2/branding/homepage/messaging/icon_flyscore_tl_2x.png" class="msgIcon" height="48" width="133">
          </div>
          <div class="msgHeader">
           FlyScore
          </div>
          <div class="msgCopy">
           Use FlyScore to compare flights, then book the one that is right for&nbsp;you
          </div> 
         </div>
        </div>
       </div>
       <!--etk--> 
      </div>
     </div>
     <div class="homepage_shelves_widget">
      <div class="prw_rup prw_shelves_shelf_widget" data-prwidget-name="shelves_shelf_widget" data-prwidget-init="handlers">
       <!--trkN:2--> 
       <!--trkS:440--> 
       <!--etk--> 
       <div class="shelf_container popular_destinations rebrand shelf_row_2" data-track-label="popular_destinations" data-shelf-id="440" data-rownumber="2" data-tpp="Home">
        <div class="shelf_header">
         <div class="shelf_title" data-tpp="Home" data-tpatt="2" data-tpid="440">
          <div class="shelf_title_container"> 
           <span class="ui_header h2 shelfData" data-tpp="Home" data-tpatt="2" data-tpid="440">Flights to top destinations</span> 
          </div>
         </div>
        </div>
        <div class="shelf_item_container ui_columns is-mobile is-multiline">
         <div class="prw_rup prw_flights_destination_card ui_column is-3-tablet is-6-mobile" data-prwidget-name="flights_destination_card" data-prwidget-init="handlers">
          <div class="destCardContainer" data-shelfindex="1" data-destcode="HRG" data-fare="EGP&nbsp;2,843" data-daterange="20180901_20180907">
           <div class="card">
            <img src="https://media-cdn.tripadvisor.com/media/photo-s/03/9b/2f/9a/hurghada.jpg" class="destImage">
            <a class="cardInfo" href="/Flights-g297549-Hurghada_Red_Sea_and_Sinai-Cheap_Discount_Airfares.html" onclick="(ta.prwidgets.getjs(this,'handlers')).trackClickEvent('1', 'HRG', 'EGP&nbsp;2,843', '20180901_20180907', this)"><span class="destName">Hurghada</span></a>
           </div>
           <a class="fare" href="/Flights-g297549-Hurghada_Red_Sea_and_Sinai-Cheap_Discount_Airfares.html">From EGP&nbsp;2,843</a> 
          </div>
         </div>
         <div class="prw_rup prw_flights_destination_card ui_column is-3-tablet is-6-mobile" data-prwidget-name="flights_destination_card" data-prwidget-init="handlers">
          <div class="destCardContainer" data-shelfindex="2" data-destcode="SSH" data-fare="EGP&nbsp;3,209" data-daterange="20180414_20180421">
           <div class="card">
            <img src="https://media-cdn.tripadvisor.com/media/photo-s/03/9b/2e/10/sharm-el-sheikh.jpg" class="destImage">
            <a class="cardInfo" href="/Flights-g297555-Sharm_El_Sheikh_South_Sinai_Red_Sea_and_Sinai-Cheap_Discount_Airfares.html" onclick="(ta.prwidgets.getjs(this,'handlers')).trackClickEvent('2', 'SSH', 'EGP&nbsp;3,209', '20180414_20180421', this)"><span class="destName">Sharm El Sheikh</span></a>
           </div>
           <a class="fare" href="/Flights-g297555-Sharm_El_Sheikh_South_Sinai_Red_Sea_and_Sinai-Cheap_Discount_Airfares.html">From EGP&nbsp;3,209</a> 
          </div>
         </div>
         <div class="prw_rup prw_flights_destination_card ui_column is-3-tablet is-6-mobile" data-prwidget-name="flights_destination_card" data-prwidget-init="handlers">
          <div class="destCardContainer" data-shelfindex="3" data-destcode="LXR" data-fare="EGP&nbsp;3,228" data-daterange="20180405_20180412">
           <div class="card">
            <img src="https://media-cdn.tripadvisor.com/media/photo-s/01/32/6c/be/luxor.jpg" class="destImage">
            <a class="cardInfo" href="/Flights-g294205-Luxor_Nile_River_Valley-Cheap_Discount_Airfares.html" onclick="(ta.prwidgets.getjs(this,'handlers')).trackClickEvent('3', 'LXR', 'EGP&nbsp;3,228', '20180405_20180412', this)"><span class="destName">Luxor</span></a>
           </div>
           <a class="fare" href="/Flights-g294205-Luxor_Nile_River_Valley-Cheap_Discount_Airfares.html">From EGP&nbsp;3,228</a> 
          </div>
         </div>
         <div class="prw_rup prw_flights_destination_card ui_column is-3-tablet is-6-mobile" data-prwidget-name="flights_destination_card" data-prwidget-init="handlers">
          <div class="destCardContainer" data-shelfindex="4" data-destcode="DXB" data-fare="EGP&nbsp;4,697" data-daterange="20180414_20180419">
           <div class="card">
            <img src="https://media-cdn.tripadvisor.com/media/photo-s/0e/4c/aa/9b/the-dubai-food-festival.jpg" class="destImage">
            <a class="cardInfo" href="/Flights-g295424-Dubai_Emirate_of_Dubai-Cheap_Discount_Airfares.html" onclick="(ta.prwidgets.getjs(this,'handlers')).trackClickEvent('4', 'DXB', 'EGP&nbsp;4,697', '20180414_20180419', this)"><span class="destName">Dubai</span></a>
           </div>
           <a class="fare" href="/Flights-g295424-Dubai_Emirate_of_Dubai-Cheap_Discount_Airfares.html">From EGP&nbsp;4,697</a> 
          </div>
         </div>
        </div>
       </div>
       <!--etk--> 
      </div>
     </div>
     <div class="homepage_shelves_widget">
      <div class="prw_rup prw_shelves_shelf_widget" data-prwidget-name="shelves_shelf_widget" data-prwidget-init="handlers">
       <!--trkN:3--> 
       <!--trkS:446--> 
       <!--etk--> 
       <div class="shelf_container flights_airline_reviews rebrand shelf_row_3" data-track-label="flights_airline_reviews" data-shelf-id="446" data-rownumber="3" data-tpp="Home">
        <div class="shelf_header">
         <div class="shelf_title" data-tpp="Home" data-tpatt="3" data-tpid="446">
          <div class="shelf_title_container"> 
           <a href="/Airlines" data-params="dXJ4Xy9BaXJsaW5lc194Z20=" class="ui_link ui_header h2" data-tpp="Home" data-tpact="shelf_title_click" data-tpatt="3" data-tpid="446" onclick="(ta.prwidgets.getjs(this,'handlers')).shelfSeeAllClick(event, this);">Airline reviews</a>
          </div>
          <div>
           <a href="/Airlines" data-params="dXJ4Xy9BaXJsaW5lc194Z20=" class="ui_link see_all" data-tpp="Home" data-tpact="shelf_title_click" data-tpatt="3" data-tpid="446" onclick="(ta.prwidgets.getjs(this,'handlers')).shelfSeeAllClick(event, this);">See all</a>
          </div>
         </div>
        </div>
        <div class="shelf_item_container ui_columns is-mobile is-multiline">
         <div class="prw_rup prw_airlines_airline_pop_shelf_card ui_column is-3-tablet is-6-mobile" data-prwidget-name="airlines_airline_pop_shelf_card" data-prwidget-init="handlers">
          <div class="popularAirlineContainer" onclick="(ta.prwidgets.getjs(this,'handlers')).trackClickEvent('AA', this)">
           <div class="airlineCard">
            <img src="https://media-cdn.tripadvisor.com/media/photo-o/0e/cd/51/76/american-airlines.jpg" class="airlineImage">
            <a class="linkWrap" href="/Airline_Review-d8729020-Reviews-Cheap-Flights-American-Airlines"></a>
           </div>
           <div class="airlineData" data-iata="AA">
            <div class="airlineSummary">
             <a href="/Airline_Review-d8729020-Reviews-Cheap-Flights-American-Airlines">
              <div class="airlineName">
               American Airlines
              </div></a>
             <a class="detailsLink" href="/Airline_Review-d8729020-Reviews-Cheap-Flights-American-Airlines">
              <div class="airlineRating">
               <div class="prw_rup prw_common_bubble_rating" data-prwidget-name="common_bubble_rating" data-prwidget-init="">
                <span class="ui_bubble_rating bubble_35" style="font-size:14px;" alt="3.5 of 5 bubbles"></span>
               </div>
              </div>
              <div class="airlineReviews">
               31,912 reviews
              </div></a>
            </div>
           </div>
          </div>
         </div>
         <div class="prw_rup prw_airlines_airline_pop_shelf_card ui_column is-3-tablet is-6-mobile" data-prwidget-name="airlines_airline_pop_shelf_card" data-prwidget-init="handlers">
          <div class="popularAirlineContainer" onclick="(ta.prwidgets.getjs(this,'handlers')).trackClickEvent('DL', this)">
           <div class="airlineCard">
            <img src="https://media-cdn.tripadvisor.com/media/photo-o/0e/cd/51/aa/delta-air-lines.jpg" class="airlineImage">
            <a class="linkWrap" href="/Airline_Review-d8729060-Reviews-Cheap-Flights-Delta-Air-Lines"></a>
           </div>
           <div class="airlineData" data-iata="DL">
            <div class="airlineSummary">
             <a href="/Airline_Review-d8729060-Reviews-Cheap-Flights-Delta-Air-Lines">
              <div class="airlineName">
               Delta Air Lines
              </div></a>
             <a class="detailsLink" href="/Airline_Review-d8729060-Reviews-Cheap-Flights-Delta-Air-Lines">
              <div class="airlineRating">
               <div class="prw_rup prw_common_bubble_rating" data-prwidget-name="common_bubble_rating" data-prwidget-init="">
                <span class="ui_bubble_rating bubble_40" style="font-size:14px;" alt="4 of 5 bubbles"></span>
               </div>
              </div>
              <div class="airlineReviews">
               27,024 reviews
              </div></a>
            </div>
           </div>
          </div>
         </div>
         <div class="prw_rup prw_airlines_airline_pop_shelf_card ui_column is-3-tablet is-6-mobile" data-prwidget-name="airlines_airline_pop_shelf_card" data-prwidget-init="handlers">
          <div class="popularAirlineContainer" onclick="(ta.prwidgets.getjs(this,'handlers')).trackClickEvent('UA', this)">
           <div class="airlineCard">
            <img src="https://media-cdn.tripadvisor.com/media/photo-o/0e/cd/52/6b/united-airlines.jpg" class="airlineImage">
            <a class="linkWrap" href="/Airline_Review-d8729177-Reviews-Cheap-Flights-United-Airlines"></a>
           </div>
           <div class="airlineData" data-iata="UA">
            <div class="airlineSummary">
             <a href="/Airline_Review-d8729177-Reviews-Cheap-Flights-United-Airlines">
              <div class="airlineName">
               United Airlines
              </div></a>
             <a class="detailsLink" href="/Airline_Review-d8729177-Reviews-Cheap-Flights-United-Airlines">
              <div class="airlineRating">
               <div class="prw_rup prw_common_bubble_rating" data-prwidget-name="common_bubble_rating" data-prwidget-init="">
                <span class="ui_bubble_rating bubble_30" style="font-size:14px;" alt="3 of 5 bubbles"></span>
               </div>
              </div>
              <div class="airlineReviews">
               22,904 reviews
              </div></a>
            </div>
           </div>
          </div>
         </div>
         <div class="prw_rup prw_airlines_airline_pop_shelf_card ui_column is-3-tablet is-6-mobile" data-prwidget-name="airlines_airline_pop_shelf_card" data-prwidget-init="handlers">
          <div class="popularAirlineContainer" onclick="(ta.prwidgets.getjs(this,'handlers')).trackClickEvent('B6', this)">
           <div class="airlineCard">
            <img src="https://media-cdn.tripadvisor.com/media/photo-o/0e/cd/51/e3/jetblue-airways.jpg" class="airlineImage">
            <a class="linkWrap" href="/Airline_Review-d8729099-Reviews-Cheap-Flights-JetBlue"></a>
           </div>
           <div class="airlineData" data-iata="B6">
            <div class="airlineSummary">
             <a href="/Airline_Review-d8729099-Reviews-Cheap-Flights-JetBlue">
              <div class="airlineName">
               JetBlue
              </div></a>
             <a class="detailsLink" href="/Airline_Review-d8729099-Reviews-Cheap-Flights-JetBlue">
              <div class="airlineRating">
               <div class="prw_rup prw_common_bubble_rating" data-prwidget-name="common_bubble_rating" data-prwidget-init="">
                <span class="ui_bubble_rating bubble_40" style="font-size:14px;" alt="4 of 5 bubbles"></span>
               </div>
              </div>
              <div class="airlineReviews">
               8,013 reviews
              </div></a>
            </div>
           </div>
          </div>
         </div>
        </div>
       </div>
       <!--etk--> 
      </div>
     </div>
     <!--trkSG:32--> 
     <!--etk--> 
     <!--trkSY:1--> 
     <!--etk--> 
     <!--trkSS:1--> 
     <!--etk--> 
     <!--etk--> 
     <!--etk--> 
    </div>
    <h1 class="ui_header h2">Find cheap flights and airline tickets</h1> 
   </div> 
  </div>
  <div class="footer">
   <div class="global_footer">
    <!-- PLACEMENT global_footer -->
    <div id="taplc_global_footer_0" class="ppr_rup ppr_priv_global_footer" data-placement-name="global_footer">
     <div class="foot  ">
      <div class="ui_container">
       <div class="ui_columns is-multiline is-mobile">
        <div class="ui_column bottom_on_mobile is-7-tablet is-12-mobile">
         <div class="logo_slogan">
          <img class="logo_svg " src="https://static.tacdn.com/img2/branding/rebrand/TA_logo_primary.svg" alt="TripAdvisor">
          <span class="footer-tag-line">know better <span class="ui_icon ui_single_bubble_rating"></span> book better <span class="ui_icon ui_single_bubble_rating"></span> go better </span>
         </div>
         <div class="legal_section">
          © 2018 TripAdvisor LLC All rights reserved. 
          <div class="prw_rup prw_homepage_tripadvisor_horizontal_footer_links" data-prwidget-name="homepage_tripadvisor_horizontal_footer_links" data-prwidget-init="handlers">
           <a href="https://tripadvisor.mediaroom.com/us-terms-of-use" class="ui_link footer_link" data-track-action="terms_of_use">Terms of Use</a> | 
           <a href="https://tripadvisor.mediaroom.com/us-privacy-policy" class="ui_link footer_link" data-track-action="privacy_policy">Privacy Policy</a> | 
           <a href="/SiteIndex" class="ui_link footer_link" data-track-action="site_map">Site Map</a>
          </div>
          <div class="disclaimer is-hidden-mobile">
           * TripAdvisor LLC is not a booking agent and does not charge any service fees to users of our site... (
           <span id="TERMS" class="ui_link" onclick="ta.plc_global_footer_0_handlers.getFullDisclaimerText(this)">more</span>) 
          </div>
          <div class="external_disclaimer is-hidden-mobile">
           TripAdvisor LLC is not responsible for content on external web sites. Taxes, fees not included for deals content.
          </div> 
         </div>
        </div>
        <div class="ui_column is-2-tablet is-12-mobile">
         <div class="footer_section">
          <div class="prw_rup prw_homepage_tripadvisor_footer_links" data-prwidget-name="homepage_tripadvisor_footer_links" data-prwidget-init="handlers">
           <div class="ftrLinkHeader">
            EXPLORE
           </div>
           <div class="footerLinks" onclick="(ta.prwidgets.getjs(this,'handlers')).checkForPid(event);">
            <a class="footerLink ui_link" href="https://tripadvisor.mediaroom.com/us-about-us" data-track-action="about_us">About Us</a>
            <span class="footerLink ui_link js_click" data-id="help_center" data-url="/uvpages/helpCenterOverlay.html" data-track-action="help_center">Help Center</span>
           </div>
          </div>
         </div>
        </div>
        <div class="ui_column top_on_mobile is-3-tablet is-12-mobile">
         <div class="footer_section section_with_border_separator_mobile">
          <div class="prw_rup prw_homepage_footer_pickers" data-prwidget-name="homepage_footer_pickers" data-prwidget-init="handlers">
           <div class="ftrHeader">
            CURRENCY/REGION
           </div>
           <div class="unified-picker" onclick="(ta.prwidgets.getjs(this,'handlers')).showCurrency(event, this)" data-sg-overlay="above right" data-header="Currency">
            <span class="picker-inner"><span class="picker-label"><span class="currency_symbol">EGP</span><span>EGP</span></span><span class="ui_icon caret-down open-close"></span><span class="ui_icon caret-up open-close hidden"></span></span>
           </div>
           <div class="unified-picker" onclick="(ta.prwidgets.getjs(this,'handlers')).showPos(event, this)" data-sg-overlay="above right" data-overlay="point_of_sale_picker" data-header="Region">
            <span class="picker-inner"><span class="picker-label"><img class="flag" src="https://static.tacdn.com/img2/flags/flag.gif" alt="United States" title="United States" width="16" height="11"><span>United States</span><span class="point_of_sale_data hidden" data-page-feature="" data-locale-codes="" data-current-locale="en_US"></span></span><span class="ui_icon caret-down open-close"></span><span class="ui_icon caret-up open-close hidden"></span></span>
           </div>
          </div>
         </div>
        </div>
       </div>
      </div>
     </div>
    </div>
    <!-- PLACEMENT qualtrics_survey -->
    <div id="taplc_qualtrics_survey_0" class="ppr_rup ppr_priv_qualtrics_survey" data-placement-name="qualtrics_survey"></div>
    <!-- PLACEMENT browser_mode_tracking -->
    <div id="taplc_browser_mode_tracking_0" class="ppr_rup ppr_priv_browser_mode_tracking" data-placement-name="browser_mode_tracking"></div>
   </div>
  </div>
  <script type="text/javascript" data-rup="bootstrap">require(["ta/rollupAmdShim"],function(a){a.install(["pre_rollup_globals_shim"],["page-model"])});if(window.requirejs&&requirejs.taConfig){requirejs.taConfig({deferred:{},name:"bootstrap",files:{js3:{src:{pre_rollup_globals_shim:1}}},_:{baseUrl:"/"}})};
define("pre_rollup_globals_shim",["page-model"],function(o){var _=o.session,e=o.DUST_GLOBAL;!function(n){n.CDNHOST=_.cdnHost,n.cdnHost=_.cdnHost,n.cookieDomain=_.cookieDomain,n.pageServlet=_.pageServlet,n.MEDIA_HTTP_BASE=_.MEDIA_HTTP_BASE,n.POINT_OF_SALE=e.LOCALE,n.IS_DEBUG=e.DEBUG,n.JS_SECURITY_TOKEN=o.JS_SECURITY_TOKEN}(window)});
</script>
  <script type="text/javascript" data-rup="desktop-calendar-templates-dust-en_US">define('desktop-calendar-templates-dust-en_US',['dust'],function(dust){(function(){dust.register("en_UScalendars_desktop_stay-dates_calendar",e);function e(i,h){return i.write('<div class="dsdc-wrapper').exists(h.get(["incomplete"],false),h,{block:d},null).write(" ").exists(h.get(["declutterControl"],false),h,{block:c},null).write('">').notexists(h.get(["declutterControl"],false),h,{block:b},null).write('<div class="dsdc-next ui_icon single-chevron-right-circle"></div><div class="dsdc-prev ui_icon single-chevron-left-circle"></div><div class="dsdc-clear"></div><div class="dsdc-months-holder showBorder"><div class="dsdc-months">').section(h.get(["months"],false),h,{block:a},null).write("</div></div>").exists(h.get(["showClearButton"],false),h,{block:g},null).exists(h.get(["declutterControl"],false),h,{block:f},null).write("</div>")}function d(i,h){return i.write(" dsdc-active-calendar")}function c(i,h){return i.write("declutter-control")}function b(i,h){return i.write('<div class="dsdc-hsx-close-header">').reference(h.get(["calendarTitle"],false),h,"h",["s"]).write("</div>")}function a(i,h){return i.partial("en_UScalendars_desktop_stay-dates_month",h,{month:h.getPath(true,[])})}function g(i,h){return i.write('<div class="clearDatesBox">Search without specific dates </div>')}function f(i,h){return i.write('<div class="dsdc-close-x">Close &nbsp;<span class="ui_icon times"></span> </div>')}return e})();
(function(){dust.register("en_UScalendars_desktop_stay-dates_month",i);function i(k,j){return k.write('<span class="dsdc-month"><span class="dsdc-month-title">').reference(j.getPath(false,["month","header"]),j,"h").write("</span>").section(j.getPath(false,["month","dayLabels"]),j,{block:h},null).section(j.getPath(false,["month","days"]),j,{block:g},null).write("</span>")}function h(k,j){return k.write('<span class="dsdc-cell dsdc-day-label">').reference(j.getPath(true,[]),j,"h").write("</span>")}function g(k,j){return k.write('<span class="dsdc-cell dsdc-day').notexists(j.get(["date"],false),j,{block:f},null).exists(j.get(["today"],false),j,{block:e},null).exists(j.get(["selected"],false),j,{block:d},null).exists(j.get(["start"],false),j,{block:c},null).exists(j.get(["end"],false),j,{block:b},null).write('"').exists(j.get(["date"],false),j,{block:a},null).write(">").reference(j.get(["label"],false),j,"h",["s"]).write("</span>")}function f(k,j){return k.write(" dsdc-disabled")}function e(k,j){return k.write(" dsdc-today")}function d(k,j){return k.write(" dsdc-inrange")}function c(k,j){return k.write(" dsdc-startrange")}function b(k,j){return k.write(" dsdc-endrange")}function a(k,j){return k.write(' data-date="').reference(j.get(["date"],false),j,"h").write('"')}return i})();
;});</script>
  <script type="text/javascript" data-rup="saves-desktop-dropdown-test-dust-en_US">define('saves-desktop-dropdown-test-dust-en_US',['dust'],function(dust){(function(){dust.register("en_USsaves_masthead_dropdown_test2_string",c);function c(e,d){return e.helper("lte",d,{"else":b,block:a},{key:d.get(["numOfItems"],false),value:20})}function b(e,d){return e.write("You have 20+ recently viewed locations that you can view here. ")}function a(e,d){return e.write("You have ").reference(d.get(["numOfItems"],false),d,"h").write(" recently viewed places that you can view here. ")}return c})();
;});</script>
  <script type="text/javascript" data-rup="desktop-rooms-guests-dust-en_US">define('desktop-rooms-guests-dust-en_US',['dust'],function(dust){(function(){dust.register("en_USrooms-guests_desktop_dropdown",c);function c(e,d){return e.write('<span class="unified-picker ').reference(d.get(["topClass"],false),d,"h").write('">').exists(d.get(["titleClass"],false),d,{block:b},null).write('<span class="picker-inner"><span class="picker-label"></span><span class="ui_icon caret-down open-close"></span></span><span class="picker-dropdown hidden"><ul><li class="curoption"><span class="picker-label"></span><span class="ui_icon caret-up open-close"></span></li></ul><ul class="options-container">').helper("range",d,{block:a},{begin:d.get(["min"],false),end:d.get(["max"],false)}).write("</ul></span></span>")}function b(e,d){return e.write('<span class="').reference(d.get(["titleClass"],false),d,"h").write('"></span>')}function a(e,d){return e.write('<li class="option" data-val="').reference(d.get(["$val"],false),d,"h").write('"></li>')}return c})();
(function(){dust.register("en_USrooms-guests_desktop_ticker",a);function a(c,b){return c.write('<div class="picker ').reference(b.get(["topClass"],false),b,"h").write('"><span class="ui_selector"><span class="ui_icon minus-circle"></span><span class="ui_icon plus-circle"></span></span><span class="picker-label"></span></div>')}return a})();
;});</script>
  <!-- PLACEMENT footer_js_globals -->
  <div id="taplc_footer_js_globals_0" class="ppr_rup ppr_priv_footer_js_globals" data-placement-name="footer_js_globals"> 
   <!-- PLACEMENT footer_js_globals --> 
   <script>
    
    var jsGlobalMonths =     new Array("January","February","March","April","May","June","July","August","September","October","November","December");
  
    var jsGlobalMonthsAbbrev =     new Array("Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec");
  
    var jsGlobalDayMonthYearAbbrev =     new Array("{0} Jan {1}","{0} Feb {1}","{0} Mar {1}","{0} Apr {1}","{0} May {1}","{0} Jun {1}","{0} Jul {1}","{0} Aug {1}","{0} Sep {1}","{0} Oct {1}","{0} Nov {1}","{0} Dec {1}");
  
    var jsGlobalDaysAbbrev =     new Array("Sun","Mon","Tue","Wed","Thu","Fri","Sat");
  
    var jsGlobalDaysShort =     new Array("S","M","T","W","T","F","S");
  
    var jsGlobalDaysFull =     new Array("Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday");
  
  var sInvalidDates = "The dates you entered are invalid. Please correct your dates and search again.";
  var sSelectDeparture = "Please select a departure airport.";

    var DATE_FORMAT_MMM_YYYY = "MMM YYYY";

  var DATE_PICKER_SLASHES_NOY_FORMAT = "MMM d";
  var DATE_PICKER_CLASSIC_FORMAT = "MM/dd/yyyy";
  var DATE_PICKER_SHORT_FORMAT = "MM/dd";
  var DATE_PICKER_META_FORMAT = "EEE, MMM d";
  var DATE_PICKER_DAY_AND_SLASHES_FORMAT = "EEE MM/dd/yyyy";

    var jsGlobalDayOffset = 1 - 1; 
            var DATE_FORMAT = { pattern: /(\d{1,2})\/(\d{1,2})\/(\d{2,4})/, month: 1, date: 2, year: 3 };
    var formatDate = function(d, m, y) {return [++m,d,y].join("/");};
  
      var cal_month_header = function(month, year) {return cal_months[month]+"&nbsp;"+year;};
      window.crPageServlet = "";
    </script> 
   <script type="text/javascript" crossorigin="anonymous" src="https://static.tacdn.com/js-webpack/dist/EGP/vendor-prod-v2400072430a.js"></script> 
   <script type="text/javascript" crossorigin="anonymous" src="https://static.tacdn.com/js-webpack/dist/EGP/i18n/formatters-prod-en-US-v24188820426a.js"></script> 
   <script type="text/javascript" crossorigin="anonymous" src="https://static.tacdn.com/js-webpack/dist/EGP/app-prod-v21729221102a.js"></script> 
   <script type="text/javascript">if(typeof define !== 'undefined')define('ta-i18n',[],function(){return ta.i18n})</script> 
   <script type="text/javascript">
  require(['ta/Core/TA.Store'], function(taStore) {
          taStore.store('typeahead.typeahead2_mixed_ui', true);
      
          taStore.store('typeahead.typeahead2_geo_segmented_ui', true);
      
    taStore.store('typeahead.geoArea', ' area');     taStore.store('typeahead.worldwide', 'Worldwide');     taStore.store('typeahead.noResultsFound', 'No results found.'); 
          taStore.store('typeahead.flight_enabled', true);
    
              taStore.store('typeahead.localAirports', []);
    
              taStore.store('typeahead.recentHistoryList', []);
              taStore.store('typeahead.popularDestinations', [{"lookbackServlet":null,"autobroadened":"false","normalized_name":"istanbul","title":"Destinations","type":"GEO","is_vr":true,"url":"\/Tourism-g293974-Istanbul-Vacations.html","urls":[{"url_type":"geo","name":"Istanbul Tourism","fallback_url":"\/Tourism-g293974-Istanbul-Vacations.html","type":"GEO","url":"\/Tourism-g293974-Istanbul-Vacations.html"},{"url_type":"vr","name":"Istanbul Vacation Rentals","fallback_url":"\/VacationRentals-g293974-Reviews-Istanbul-Vacation_Rentals.html","type":"VACATION_RENTAL","url":"\/VacationRentals-g293974-Reviews-Istanbul-Vacation_Rentals.html"},{"url_type":"eat","name":"Istanbul Restaurants","fallback_url":"\/Restaurants-g293974-Istanbul.html","type":"EATERY","url":"\/Restaurants-g293974-Istanbul.html"},{"url_type":"attr","name":"Istanbul Attractions","fallback_url":"\/Attractions-g293974-Activities-Istanbul.html","type":"ATTRACTION","url":"\/Attractions-g293974-Activities-Istanbul.html"},{"url_type":"hotel","name":"Istanbul Hotels","fallback_url":"\/Hotels-g293974-Istanbul-Hotels.html","type":"HOTEL","url":"\/Hotels-g293974-Istanbul-Hotels.html"},{"url_type":"flights_to","name":"Flights to Istanbul","fallback_url":"\/Flights-g293974-Istanbul-Cheap_Discount_Airfares.html","type":"FLIGHTS_TO","url":"\/Flights-g293974-Istanbul-Cheap_Discount_Airfares.html"},{"url_type":"nbrhd","name":"Istanbul Neighborhoods","fallback_url":"\/NeighborhoodList-g293974-Istanbul.html","type":"NEIGHBORHOOD","url":"\/NeighborhoodList-g293974-Istanbul.html"},{"url_type":"tg","name":"Istanbul Travel Guides","fallback_url":"\/Travel_Guide-g293974-Istanbul.html","type":"TRAVEL_GUIDE","url":"\/Travel_Guide-g293974-Istanbul.html"}],"is_broad":false,"scope":"global","name":"Istanbul, Turkey, Europe","data_type":"LOCATION","details":{"parent_name":"Turkey","grandparent_name":"Europe","rac_enabled":true,"highlighted_name":"Istanbul","name":"Istanbul","parent_ids":[293969,4,1],"geo_name":"Turkey, Europe"},"value":293974,"coords":"41.00986,28.95707"},{"lookbackServlet":null,"autobroadened":"false","normalized_name":"rome","title":"Destinations","type":"GEO","is_vr":true,"url":"\/Tourism-g187791-Rome_Lazio-Vacations.html","urls":[{"url_type":"geo","name":"Rome Tourism","fallback_url":"\/Tourism-g187791-Rome_Lazio-Vacations.html","type":"GEO","url":"\/Tourism-g187791-Rome_Lazio-Vacations.html"},{"url_type":"vr","name":"Rome Vacation Rentals","fallback_url":"\/VacationRentals-g187791-Reviews-Rome_Lazio-Vacation_Rentals.html","type":"VACATION_RENTAL","url":"\/VacationRentals-g187791-Reviews-Rome_Lazio-Vacation_Rentals.html"},{"url_type":"eat","name":"Rome Restaurants","fallback_url":"\/Restaurants-g187791-Rome_Lazio.html","type":"EATERY","url":"\/Restaurants-g187791-Rome_Lazio.html"},{"url_type":"attr","name":"Rome Attractions","fallback_url":"\/Attractions-g187791-Activities-Rome_Lazio.html","type":"ATTRACTION","url":"\/Attractions-g187791-Activities-Rome_Lazio.html"},{"url_type":"hotel","name":"Rome Hotels","fallback_url":"\/Hotels-g187791-Rome_Lazio-Hotels.html","type":"HOTEL","url":"\/Hotels-g187791-Rome_Lazio-Hotels.html"},{"url_type":"flights_to","name":"Flights to Rome","fallback_url":"\/Flights-g187791-Rome_Lazio-Cheap_Discount_Airfares.html","type":"FLIGHTS_TO","url":"\/Flights-g187791-Rome_Lazio-Cheap_Discount_Airfares.html"},{"url_type":"nbrhd","name":"Rome Neighborhoods","fallback_url":"\/NeighborhoodList-g187791-Rome_Lazio.html","type":"NEIGHBORHOOD","url":"\/NeighborhoodList-g187791-Rome_Lazio.html"},{"url_type":"tg","name":"Rome Travel Guides","fallback_url":"\/Travel_Guide-g187791-Rome_Lazio.html","type":"TRAVEL_GUIDE","url":"\/Travel_Guide-g187791-Rome_Lazio.html"}],"is_broad":false,"scope":"global","name":"Rome, Lazio, Italy","data_type":"LOCATION","details":{"parent_name":"Italy","grandparent_name":"Europe","rac_enabled":true,"highlighted_name":"Rome","name":"Rome","parent_ids":[187789,187768,4,1],"geo_name":"Lazio, Italy"},"value":187791,"coords":"41.893623,12.495978"},{"lookbackServlet":null,"autobroadened":"false","normalized_name":"london","title":"Destinations","type":"GEO","is_vr":true,"url":"\/Tourism-g186338-London_England-Vacations.html","urls":[{"url_type":"geo","name":"London Tourism","fallback_url":"\/Tourism-g186338-London_England-Vacations.html","type":"GEO","url":"\/Tourism-g186338-London_England-Vacations.html"},{"url_type":"vr","name":"London Vacation Rentals","fallback_url":"\/VacationRentals-g186338-Reviews-London_England-Vacation_Rentals.html","type":"VACATION_RENTAL","url":"\/VacationRentals-g186338-Reviews-London_England-Vacation_Rentals.html"},{"url_type":"eat","name":"London Restaurants","fallback_url":"\/Restaurants-g186338-London_England.html","type":"EATERY","url":"\/Restaurants-g186338-London_England.html"},{"url_type":"attr","name":"London Attractions","fallback_url":"\/Attractions-g186338-Activities-London_England.html","type":"ATTRACTION","url":"\/Attractions-g186338-Activities-London_England.html"},{"url_type":"hotel","name":"London Hotels","fallback_url":"\/Hotels-g186338-London_England-Hotels.html","type":"HOTEL","url":"\/Hotels-g186338-London_England-Hotels.html"},{"url_type":"flights_to","name":"Flights to London","fallback_url":"\/Flights-g186338-London_England-Cheap_Discount_Airfares.html","type":"FLIGHTS_TO","url":"\/Flights-g186338-London_England-Cheap_Discount_Airfares.html"},{"url_type":"nbrhd","name":"London Neighborhoods","fallback_url":"\/NeighborhoodList-g186338-London_England.html","type":"NEIGHBORHOOD","url":"\/NeighborhoodList-g186338-London_England.html"},{"url_type":"tg","name":"London Travel Guides","fallback_url":"\/Travel_Guide-g186338-London_England.html","type":"TRAVEL_GUIDE","url":"\/Travel_Guide-g186338-London_England.html"}],"is_broad":false,"scope":"global","name":"London, England, United Kingdom","data_type":"LOCATION","details":{"parent_name":"England","grandparent_name":"United Kingdom","rac_enabled":false,"highlighted_name":"London","name":"London","parent_ids":[186217,186216,4,1],"geo_name":"England, United Kingdom"},"value":186338,"coords":"51.51924,-0.096654"},{"lookbackServlet":null,"autobroadened":"false","normalized_name":"beijing","title":"Destinations","type":"GEO","is_vr":true,"url":"\/Tourism-g294212-Beijing-Vacations.html","urls":[{"url_type":"geo","name":"Beijing Tourism","fallback_url":"\/Tourism-g294212-Beijing-Vacations.html","type":"GEO","url":"\/Tourism-g294212-Beijing-Vacations.html"},{"url_type":"vr","name":"Beijing Vacation Rentals","fallback_url":"\/VacationRentals-g294212-Reviews-Beijing-Vacation_Rentals.html","type":"VACATION_RENTAL","url":"\/VacationRentals-g294212-Reviews-Beijing-Vacation_Rentals.html"},{"url_type":"eat","name":"Beijing Restaurants","fallback_url":"\/Restaurants-g294212-Beijing.html","type":"EATERY","url":"\/Restaurants-g294212-Beijing.html"},{"url_type":"attr","name":"Beijing Attractions","fallback_url":"\/Attractions-g294212-Activities-Beijing.html","type":"ATTRACTION","url":"\/Attractions-g294212-Activities-Beijing.html"},{"url_type":"hotel","name":"Beijing Hotels","fallback_url":"\/Hotels-g294212-Beijing-Hotels.html","type":"HOTEL","url":"\/Hotels-g294212-Beijing-Hotels.html"},{"url_type":"flights_to","name":"Flights to Beijing","fallback_url":"\/Flights-g294212-Beijing-Cheap_Discount_Airfares.html","type":"FLIGHTS_TO","url":"\/Flights-g294212-Beijing-Cheap_Discount_Airfares.html"},{"url_type":"nbrhd","name":"Beijing Neighborhoods","fallback_url":"\/NeighborhoodList-g294212-Beijing.html","type":"NEIGHBORHOOD","url":null},{"url_type":"tg","name":"Beijing Travel Guides","fallback_url":"\/Travel_Guide-g294212-Beijing.html","type":"TRAVEL_GUIDE","url":"\/Travel_Guide-g294212-Beijing.html"}],"is_broad":false,"scope":"global","name":"Beijing, China, Asia","data_type":"LOCATION","details":{"parent_name":"China","grandparent_name":"Asia","rac_enabled":false,"highlighted_name":"Beijing","name":"Beijing","parent_ids":[294211,2,1],"geo_name":"China, Asia"},"value":294212,"coords":"39.909336,116.39452"},{"lookbackServlet":null,"autobroadened":"false","normalized_name":"prague","title":"Destinations","type":"GEO","is_vr":true,"url":"\/Tourism-g274707-Prague_Bohemia-Vacations.html","urls":[{"url_type":"geo","name":"Prague Tourism","fallback_url":"\/Tourism-g274707-Prague_Bohemia-Vacations.html","type":"GEO","url":"\/Tourism-g274707-Prague_Bohemia-Vacations.html"},{"url_type":"vr","name":"Prague Vacation Rentals","fallback_url":"\/VacationRentals-g274707-Reviews-Prague_Bohemia-Vacation_Rentals.html","type":"VACATION_RENTAL","url":"\/VacationRentals-g274707-Reviews-Prague_Bohemia-Vacation_Rentals.html"},{"url_type":"eat","name":"Prague Restaurants","fallback_url":"\/Restaurants-g274707-Prague_Bohemia.html","type":"EATERY","url":"\/Restaurants-g274707-Prague_Bohemia.html"},{"url_type":"attr","name":"Prague Attractions","fallback_url":"\/Attractions-g274707-Activities-Prague_Bohemia.html","type":"ATTRACTION","url":"\/Attractions-g274707-Activities-Prague_Bohemia.html"},{"url_type":"hotel","name":"Prague Hotels","fallback_url":"\/Hotels-g274707-Prague_Bohemia-Hotels.html","type":"HOTEL","url":"\/Hotels-g274707-Prague_Bohemia-Hotels.html"},{"url_type":"flights_to","name":"Flights to Prague","fallback_url":"\/Flights-g274707-Prague_Bohemia-Cheap_Discount_Airfares.html","type":"FLIGHTS_TO","url":"\/Flights-g274707-Prague_Bohemia-Cheap_Discount_Airfares.html"},{"url_type":"nbrhd","name":"Prague Neighborhoods","fallback_url":"\/NeighborhoodList-g274707-Prague_Bohemia.html","type":"NEIGHBORHOOD","url":"\/NeighborhoodList-g274707-Prague_Bohemia.html"},{"url_type":"tg","name":"Prague Travel Guides","fallback_url":"\/Travel_Guide-g274707-Prague_Bohemia.html","type":"TRAVEL_GUIDE","url":"\/Travel_Guide-g274707-Prague_Bohemia.html"}],"is_broad":false,"scope":"global","name":"Prague, Czech Republic, Europe","data_type":"LOCATION","details":{"parent_name":"Czech Republic","grandparent_name":"Europe","rac_enabled":false,"highlighted_name":"Prague","name":"Prague","parent_ids":[274685,274684,4,1],"geo_name":"Czech Republic, Europe"},"value":274707,"coords":"50.076847,14.427817"}]);
    
        taStore.store('typeahead.restaurant', "Restaurant");         taStore.store('typeahead.attraction', "Attraction");         taStore.store('typeahead.hotel', "Hotel");                       taStore.store('typeahead.restaurant_list', "Restaurants");       taStore.store('typeahead.attraction_list', "Attractions");       taStore.store('typeahead.things_to_do', "Things to Do");                 taStore.store('typeahead.hotel_list', "Hotels");                 taStore.store('typeahead.flight_list', "Flights");                   taStore.store('typeahead.vacation_rental_list', "Vacation Rentals");     taStore.store('typeahead.scoped.static_local_label', '% area');     taStore.store('typeahead.scoped.result_title_text', 'Start typing, or try one of these suggestions...');     taStore.store('typeahead.scoped.poi_overview_geo', '<span class="poi_overview_item">Overview</span> of %');     taStore.store('typeahead.scoped.poi_hotels_geo', '<span class="poi_overview_item">Hotels</span> in %');     taStore.store('typeahead.scoped.poi_hotels_geo_near', '<span class="poi_overview_item">Hotels</span> near %');     taStore.store('typeahead.scoped.poi_vr_geo', '<span class="poi_overview_item">Vacation Rentals</span> in %');     taStore.store('typeahead.scoped.poi_vr_geo_near', '<span class="poi_overview_item">Vacation Rentals</span> near %');     taStore.store('typeahead.scoped.poi_attractions_geo', '<span class="poi_overview_item">Things to Do</span> in %');     taStore.store('typeahead.scoped.poi_eat_geo', '<span class="poi_overview_item">Restaurants</span> in %');     taStore.store('typeahead.scoped.poi_flights_geo', '<span class="poi_overview_item">Flights</span> to %');     taStore.store('typeahead.scoped.poi_nbrhd_geo', '<span class="poi_overview_item">Neighborhoods</span> in %');     taStore.store('typeahead.scoped.poi_travel_guides_geo', '<span class="poi_overview_item">Travel Guides</span> in %');     taStore.store('typeahead.scoped.overview', 'Overview');     taStore.store('typeahead.scoped.neighborhoods', 'Neighborhoods');     taStore.store('typeahead.scoped.travel_guides', 'Travel Guides');     taStore.store('typeahead.scoped.geo_area_template', '% area');     taStore.store('typeahead.searchMore', 'Find more results for "%"');
    taStore.store('typeahead.history', 'Recently viewed');     taStore.store('typeahead.history.all_caps', 'RECENTLY VIEWED');     taStore.store('typeahead.popular_destinations', 'POPULAR DESTINATIONS'); 
      });
</script> 
   <script type="text/javascript">
  require(['ta/Core/TA.Store'], function(taStore) {
        taStore.store('rgPicker.nRooms',   [
      '0 room',
      '1 room',
      '2 rooms',
      '3 rooms',
      '4 rooms',
      '5 rooms',
      '6 rooms',
      '7 rooms',
      '8 rooms'    ]
);  
          taStore.store("rgPicker.nGuests",   [
      '0 guest',
      '1 guest',
      '2 guests',
      '3 guests',
      '4 guests',
      '5 guests',
      '6 guests',
      '7 guests',
      '8 guests',
      '9 guests',
      '10 guests',
      '11 guests',
      '12 guests',
      '13 guests',
      '14 guests',
      '15 guests',
      '16 guests',
      '17 guests',
      '18 guests',
      '19 guests',
      '20 guests',
      '21 guests',
      '22 guests',
      '23 guests',
      '24 guests',
      '25 guests',
      '26 guests',
      '27 guests',
      '28 guests',
      '29 guests',
      '30 guests',
      '31 guests',
      '32 guests',
      '33 guests',
      '34 guests',
      '35 guests',
      '36 guests',
      '37 guests',
      '38 guests',
      '39 guests',
      '40 guests',
      '41 guests',
      '42 guests',
      '43 guests',
      '44 guests',
      '45 guests',
      '46 guests',
      '47 guests',
      '48 guests',
      '49 guests',
      '50 guests',
      '51 guests',
      '52 guests',
      '53 guests',
      '54 guests',
      '55 guests',
      '56 guests',
      '57 guests',
      '58 guests',
      '59 guests',
      '60 guests',
      '61 guests',
      '62 guests',
      '63 guests',
      '64 guests'    ]
);     
    taStore.store("rgPicker.nAdults",   [
      '0 adult',
      '1 adult',
      '2 adults',
      '3 adults',
      '4 adults',
      '5 adults',
      '6 adults',
      '7 adults',
      '8 adults',
      '9 adults',
      '10 adults',
      '11 adults',
      '12 adults',
      '13 adults',
      '14 adults',
      '15 adults',
      '16 adults',
      '17 adults',
      '18 adults',
      '19 adults',
      '20 adults',
      '21 adults',
      '22 adults',
      '23 adults',
      '24 adults',
      '25 adults',
      '26 adults',
      '27 adults',
      '28 adults',
      '29 adults',
      '30 adults',
      '31 adults',
      '32 adults'    ]
);           taStore.store("rgPicker.nChildren",   [
      '0 children',
      '1 child',
      '2 children',
      '3 children',
      '4 children',
      '5 children',
      '6 children',
      '7 children',
      '8 children',
      '9 children',
      '10 children',
      '11 children',
      '12 children',
      '13 children',
      '14 children',
      '15 children',
      '16 children',
      '17 children',
      '18 children',
      '19 children',
      '20 children',
      '21 children',
      '22 children',
      '23 children',
      '24 children',
      '25 children',
      '26 children',
      '27 children',
      '28 children',
      '29 children',
      '30 children',
      '31 children',
      '32 children'    ]
);       taStore.store("rgPicker.nGuestsForChildren",   [
      '0 guest',
      '1 guest',
      '2 guests',
      '3 guests',
      '4 guests',
      '5 guests',
      '6 guests',
      '7 guests',
      '8 guests',
      '9 guests',
      '10 guests',
      '11 guests',
      '12 guests',
      '13 guests',
      '14 guests',
      '15 guests',
      '16 guests',
      '17 guests',
      '18 guests',
      '19 guests',
      '20 guests',
      '21 guests',
      '22 guests',
      '23 guests',
      '24 guests',
      '25 guests',
      '26 guests',
      '27 guests',
      '28 guests',
      '29 guests',
      '30 guests',
      '31 guests',
      '32 guests',
      '33 guests',
      '34 guests',
      '35 guests',
      '36 guests',
      '37 guests',
      '38 guests',
      '39 guests',
      '40 guests',
      '41 guests',
      '42 guests',
      '43 guests',
      '44 guests',
      '45 guests',
      '46 guests',
      '47 guests',
      '48 guests',
      '49 guests',
      '50 guests',
      '51 guests',
      '52 guests',
      '53 guests',
      '54 guests',
      '55 guests',
      '56 guests',
      '57 guests',
      '58 guests',
      '59 guests',
      '60 guests',
      '61 guests',
      '62 guests',
      '63 guests',
      '64 guests'    ]
);       taStore.store("rgPicker.nChildIndex",   [
      'Child 0',
      'Child 1',
      'Child 2',
      'Child 3',
      'Child 4',
      'Child 5',
      'Child 6',
      'Child 7',
      'Child 8',
      'Child 9',
      'Child 10',
      'Child 11',
      'Child 12',
      'Child 13',
      'Child 14',
      'Child 15',
      'Child 16',
      'Child 17',
      'Child 18',
      'Child 19',
      'Child 20',
      'Child 21',
      'Child 22',
      'Child 23',
      'Child 24',
      'Child 25',
      'Child 26',
      'Child 27',
      'Child 28',
      'Child 29',
      'Child 30',
      'Child 31',
      'Child 32'    ]
);       taStore.store("rgPicker.nAgeOfChildIndex",   [
      'Age of child 0',
      'Age of child 1',
      'Age of child 2',
      'Age of child 3',
      'Age of child 4',
      'Age of child 5',
      'Age of child 6',
      'Age of child 7',
      'Age of child 8',
      'Age of child 9',
      'Age of child 10',
      'Age of child 11',
      'Age of child 12',
      'Age of child 13',
      'Age of child 14',
      'Age of child 15',
      'Age of child 16',
      'Age of child 17',
      'Age of child 18',
      'Age of child 19',
      'Age of child 20',
      'Age of child 21',
      'Age of child 22',
      'Age of child 23',
      'Age of child 24',
      'Age of child 25',
      'Age of child 26',
      'Age of child 27',
      'Age of child 28',
      'Age of child 29',
      'Age of child 30',
      'Age of child 31',
      'Age of child 32'    ]
);     
                  taStore.store("rgPicker.nTravelers",   [
      '0 Travelers',
      '1 Traveler',
      '2 Travelers',
      '3 Travelers',
      '4 Travelers',
      '5 Travelers',
      '6 Travelers',
      '7 Travelers',
      '8 Travelers',
      '9 Travelers'    ]
);       taStore.store("rgPicker.ageBand.1",   [
      '0 Adults',
      '1 Adult',
      '2 Adults',
      '3 Adults',
      '4 Adults',
      '5 Adults',
      '6 Adults',
      '7 Adults',
      '8 Adults',
      '9 Adults'    ]
);       taStore.store("rgPicker.ageBand.2",   [
      '0 Children',
      '1 Child',
      '2 Children',
      '3 Children',
      '4 Children',
      '5 Children',
      '6 Children',
      '7 Children',
      '8 Children',
      '9 Children'    ]
);       taStore.store("rgPicker.ageBand.3",   [
      '0 Infants',
      '1 Infant',
      '2 Infants',
      '3 Infants',
      '4 Infants',
      '5 Infants',
      '6 Infants',
      '7 Infants',
      '8 Infants',
      '9 Infants'    ]
);       taStore.store("rgPicker.ageBand.4",   [
      '0 Youths',
      '1 Youth',
      '2 Youths',
      '3 Youths',
      '4 Youths',
      '5 Youths',
      '6 Youths',
      '7 Youths',
      '8 Youths',
      '9 Youths'    ]
);       taStore.store("rgPicker.ageBand.5",   [
      '0 Seniors',
      '1 Senior',
      '2 Seniors',
      '3 Seniors',
      '4 Seniors',
      '5 Seniors',
      '6 Seniors',
      '7 Seniors',
      '8 Seniors',
      '9 Seniors'    ]
);     
      taStore.store('rooms_guests_picker_update_da', 'Update');
     taStore.store("best_prices_with_dates_21f3", 'Best prices for \074span class=\"dateHeader inDate\"\076checkIn\074/span\076 - \074span class=\"dateHeader outDate\"\076checkOut\074/span\076');
  });
</script> 
   <script type="text/javascript">
    require(['ta/Core/TA.Store'], function(taStore) {
            ta.store('metaDatePickerEnabled', true);
                                var common_skip_dates = "Search without specific dates";
        ta.store('multiDP.skipDates', "Search without specific dates");         ta.store('multiDP.inDate', "");
        ta.store('multiDP.outDate', "");

                            ta.store('multiDP.minCheckInDate', '');
        
        ta.store('multiDP.multiNightsText', "2 nights");         ta.store('multiDP.singleNightText', "1 night");         ta.store('calendar.preDateText', "mm/dd/yyyy"); 
        ta.store('multiDP.adultsCount', "2");
        ta.store('multiDP.singleAdultsText', "1 guest");         ta.store('multiDP.multiAdultsText', "2 guests");         ta.store('multiDP.enterDatesText', "Enter dates");                 ta.store('multiDP.isMondayFirstDayOfWeek', false);
        ta.store('multiDP.dateSeparator', " - ");
                ta.store('multiDP.dateRangeEllipsis', "Searching %%%...");
        ta.store('multiDP.abbrevMonthList', ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"]); 
                          ta.store('multiDP.checkIn', "mm/dd/yyyy");           ta.store('multiDP.checkOut', "mm/dd/yyyy");           });

  var jsDesktopBackboneAsset = ["https://static.tacdn.com/js3/desktop_modules_modbone-c-v22156541998a.js"];
</script> 
  </div>
  <!-- PLACEMENT facebook_autologin -->
  <div id="taplc_facebook_autologin_0" class="ppr_rup ppr_priv_facebook_autologin" data-placement-name="facebook_autologin">
   <div id="fb_autologin_data" class="hidden" data-load-fb-js="true" data-facebook-js-url="//connect.facebook.net/en_US/sdk.js" data-facebook-connect-app-id="162729813767876" data-facebook-api-version="v2.5" data-fb-auto-login="true" data-fb-fetch-access-token=""></div>
  </div>
  <script type="text/javascript">window.ta=window.ta||{};ta.pageModuleName='servlets/homerebranded';
ta.pageModuleName='servlets/homerebranded';
define('ta/page',[ta.pageModuleName], function(module) {
 ta.page = module;
 ta.page.init(
  JSON.parse('{\"calendar\":{\"demandLoadAssets\":true,\"thaiOffset\":false,\"didCreateDefaultDates\":false,\"calendarPopupDirection\":\"\",\"popCheckInFirst\":true,\"supportsPrePopWithDefaultDates\":false,\"supportsPrePopWithNoDates\":false,\"calendarTitle\":\"Select dates to view deals\",\"popCalendarType\":\"doNot\",\"calendarStyle\":{\"clientKey\":\"control\",\"assets\":{\"cssRollup\":\"responsive_calendars_control\",\"dustRollup\":\"responsive-calendar-templates-dust\",\"calendarTemplate\":\"calendars\/responsive_stay-dates\/calendar.dust\",\"monthTemplate\":\"calendars\/responsive_stay-dates\/month.dust\",\"cssAssets\":[\"src\/build\/styleguide\/ui_popovers\/ui_popover\",\"src\/build\/styleguide\/ui_inline_popup\/ui_inline_popup\",\"src\/build\/styleguide\/ui_icons\/single-chevron-left-circle\",\"src\/build\/styleguide\/ui_icons\/single-chevron-right-circle\",\"src\/build\/calendars\/responsive\/stay-dates-classic\"]}},\"moveIntoView\":true,\"hasMetaMarketingDefaultDates\":false,\"maxEnabledDaysOut\":\"\",\"qualtricsSurveyEnabled\":false,\"inlinePopupCalendarEnabled\":false,\"defaultDatesRefreshLocalStorage\":false,\"defaultDatesLocalStorageTTL\":0},\"remarketingOptions\":{\"pixelServlet\":\"PageMoniker\",\"pixelList\":\"criteo_pixel,crosswise_pixel,drawbridge_pixel,facebook_dat_lead_pixel,facebook_dat_pixel,facebook_flights,facebook_wca_pixel,google_clickout_audience_pixel,google_clickout_conversion_pixel,google_conversion_flights,google_pixel,google_remarketing_flights,intent_media_flights,stm_nan_pixel,tapad_pixel\",\"clickoutPixelsEnabled\":true,\"shouldInitFlightsEvents\":true,\"pixelContext\":{\"servlet\":\"CheapFlightsHome\",\"userUnique\":\"7adad73ed6a047fb72b8345fc3ef5b5703c6e311\"},\"ibPixelsEnabled\":true,\"pixelsEnabled\":true,\"cacheMobileClickoutResponse\":false},\"travelerInfo\":{\"classOfService\":0,\"seniors\":0,\"adults\":1,\"childAges\":[]},\"pageDates\":{\"ONEWAYFLIGHT\":\"2018-04-06\",\"RETURN\":\"2018-04-13\",\"DEPARTURE\":\"2018-04-06\"}}')
  );
return ta.page;});
if (require) {require(['ta/rollupAmdShim'], function(rollupAmdShim) { rollupAmdShim.install(); });}
else {if (window.ta&&ta.rollupAmdShim) {ta.rollupAmdShim.install([],[]);}
}
define('overlays/options/autosize', ['vanillajs', 'api-mod'], function(vanilla, api) {
'use strict';
return function(padding){
return function(){
var autosize = function (){
var el = api.find('.autosize', this.container);
if (el){
var vH = Math.max(document.documentElement.clientHeight, window.innerHeight || 0) - padding;
var oH = api.getSize(this.container).y;
if (oH > vH){
var eH = api.getSize(el).y;
this.container.style.height = vH + 'px';
var h = (eH + vH - oH) + 'px';
var css = document.createElement('style');
css.type = 'text/css';
css.innerHTML = this.container.className
.split(' ')
.map(function(c){ return '.' + c; })
.join('') + ' .autosize { height: ' + h + '; }';
document.head.appendChild(css);
}
}
};
this.on('show', autosize);
};
};
});
require(['ta/p13n/placements'], function(placements) {
var define = placements.define.bind(placements,'shopping_cart_simple_flyout','handlers',['handlers']);
define(
[
'placement',
'lib/jquery-amd',
'overlays/Overlay',
'overlays/options/autosize',
'overlays/options/autoReposition',
'overlays/options/centerArrowOnSrcElement',
'overlays/options/closeOnChildClick',
'overlays/options/closeOnEscape',
'overlays/position',
'overlays/styles/popover',
'ta/Core/TA.Record'
], 
function(
  placement,
  $,
  Overlay,
  Autosize,
  AutoReposition,
  CenterArrowOnSrcElement,
  CloseOnChildClick,
  CloseOnEscape,
  Position,
  Popover,
  taRecord
) {
  'use strict';

  function SimpleFlyout(targetElement, header, body, cookieId, pageProperty) {
    var overlay = undefined;
  
    function _showAlert() {
    
      if (overlay) {
        return;
      }

      overlay = new Overlay(
        targetElement,
        [
          Popover(targetElement, 'below', '', header.html(), body.html()),
          Autosize(0),
          AutoReposition,
          CloseOnEscape,
          CloseOnChildClick,
          Position.below([8, -20]),
          CenterArrowOnSrcElement(targetElement)
        ]);

      if (overlay) {
        overlay.on('hide', function() {
          taRecord.trackEventOnPage(pageProperty, 'close');
        });

        overlay.show();

        // bounce the cart
        $(targetElement).addClass('animated');

        // request to mark session as seen.
        if (cookieId) {
          $.get('/AttractionCommerceAjax?a=' + cookieId);
        }
      }
    }

    this.show = _showAlert;
  }

  var content = $('.scream_overlay');
  var flyout = new SimpleFlyout($('.shopping-cart-link').get(0), $('.scream_header'), $('.scream_body'), content.attr('data-cookieId'), content.attr('data-pageProperty'));
  $(document).ready(flyout.show);
  return {};
});

});require(['ta/p13n/placements'], function(placements) {
var define = placements.define.bind(placements,'vr_srp_listings','handlers',['handlers']);
define(['placement',
  'lib/jquery-amd',
  'utils/ajax',
  'ta/util/Error',
  'utils/localstorage'
], function (placement,
             $,
             ajax,
             taError,
             localStorage
) {
  var ABANDONED_CART_INFO = "abandonedCart";
  var _placement = $('#' + placement.id);

  var addAbandonedCartCell = function () {
    var abandonedCart = localStorage.get(ABANDONED_CART_INFO);
    if (abandonedCart) {
      ajax({
        url: '/MetaPlacementAjax',
        data:
            {
              /* MetaPlacementAjax parameters */
              placementName: 'vr_abandoned_cart_cell',
              skipLocation: true,
              assets: false,
              packagePrivateAssets: true,
              wrap: true,
              /* AbandonedCartCellRenderer parameters */
              metaReferer: placement.servletName,
              geo: placement.location_id, // UrlArg.LOCATION_ID
              locationId: abandonedCart.locationId, // UrlArg.LOCATIONID
              checkIn: abandonedCart.checkIn, // UrlArg.CHECK_IN
              checkOut: abandonedCart.checkOut, // UrlArg.CHECK_OUT
              inquiryAdults: abandonedCart.inquiryAdults, // VacationRentalsAjax.PARAM_ADULTS
              numOfKids: abandonedCart.numOfKids // VRDetailUtil.PARAM_N_KIDS
            },
        type: 'POST',
        evalScripts: false,
        success: function (data) {
          if (data.indexOf("vr_listing") < 0) {
            return;
          }
          var duplicateListing = $("#vrListing_" + abandonedCart.locationId);
          if (duplicateListing) {
            duplicateListing.closest(".vr_listing").remove();
          }
          _placement.find(".vr_listing:eq(1)").after(data);
        },
        error: function(e) {
          taError.record(e, 'Failed to retrieve abandoned cart cell');
        }
      });
    }
  };

  addAbandonedCartCell();

  return {
  };

});});if (require) {require(['ta/rollupAmdShim'], function(rollupAmdShim) { rollupAmdShim.install([], ["ta"]); });
}
else {if (window.ta&&ta.rollupAmdShim) {ta.rollupAmdShim.install([],["ta"]);}
}
define('overlays/styles/tooltip', ['vanillajs', 'api-mod', 'overlays/utils'], function(vanilla, api, util){
'use strict';
function buildDOM( dir, style, elementType ){
this.container = api.createElement( elementType||'span', {
'class': 'ui_overlay ui_tooltip arrow_' + util.getArrowDir(dir, this.sourceElement, this.domParent) + ' ' + style
});
this.arrow = api.createElement( 'div', {
'class': 'arrow'
});
this.container.appendChild( this.arrow );
this.inner = api.createElement( 'div', {
'class': 'body_text'
});
this.container.appendChild( this.inner );
this.contentElement = this.inner;
}
var Tooltip = function( elmt, dir, options, content, elementType ){
if (elmt) {
options = options || elmt.getAttribute( 'data-tooltip' );
elementType = elementType || elmt.getAttribute( 'data-elementtype' );
}
return function(){
buildDOM.call( this, dir, options, elementType );
this.updateContent( content );
};
};
return Tooltip;
});
require(['ta/prwidgets'], function(widgets) {
var define = widgets.define.bind(widgets,'flights_cos_passenger_picker','handlers',['handlers']);
/*
 * Private js for flights_cos_passenger_picker widget
 */
define(['widget',
    'ta',
    'ta/page',
    'lib/jquery-amd',
    'api-mod',
    'forms/select',
    'overlays/uiOverlay',
    'overlays/Overlay',
    'overlays/styles/dropdown',
    'overlays/styles/tooltip',
    'overlays/position',
    'overlays/options/matchWidth',
    'overlays/options/closeOnDocClick',
    'overlays/options/closeOnLegacyOverlay',
    'overlays/options/closeOnTargetEvent',
    'overlays/options/autoReposition',
    'overlays/options/highlightElement',
    'ta/Core/TA.Store',
    "utils/browserutils",
    'mixins/flight-traveler-info/FlightTravelerInfo',
    "ta/Core/TA.Record"],
  function (widget, ta, taPage, $, api, select, uiOverlay, Overlay,
            Dropdown,
            Tooltip,
            Position,
            MatchWidth,
            CloseOnDocClick,
            CloseOnLegacyOverlay,
            CloseOnTargetEvent,
            AutoReposition,
            hl,
            taStore,
            browserUtils,
            FlightTravelerInfo,
            taRecord) {
    'use strict';

    // Constants
    var TRAVELER_TYPE_ADULTS = 'ADULTS',
      TRAVELER_TYPE_SENIORS = 'SENIORS',
      TRAVELER_TYPE_CHILDREN = 'CHILDREN',
      TRAVELER_COUNT_SELECTOR_ADULTS = '.travelerRow .adults .travelerCount',
      TRAVELER_COUNT_SELECTOR_SENIORS = '.travelerRow .seniors .travelerCount',
      TRAVELER_COUNT_SELECTOR_CHILDREN = '.travelerRow .children .travelerCount',
      MAX_TRAVELER_NUMBERS_ADULTS = 6,
      MAX_TRAVELER_NUMBERS_SENIORS = 6,
      MAX_TRAVELER_NUMBERS_CHILDREN = 5,
      MIN_TRAVELER_NUMBERS_ADULTS = 1,
      MIN_TRAVELER_NUMBERS_SENIORS = 0,
      MIN_TRAVELER_NUMBERS_CHILDREN = 0,
      ICON_SELECTOR_ADULTS_PLUS_CIRCLE = '.travelerRow .adultCounter .plus-circle',
      ICON_SELECTOR_ADULTS_MINUS_CIRCLE = '.travelerRow .adultCounter .minus-circle',
      ICON_SELECTOR_SENIORS_PLUS_CIRCLE = '.travelerRow .seniorCounter .plus-circle',
      ICON_SELECTOR_SENIORS_MINUS_CIRCLE = '.travelerRow .seniorCounter .minus-circle',
      ICON_SELECTOR_CHILDREN_PLUS_CIRCLE = '.travelerRow .childrenCounter .plus-circle',
      ICON_SELECTOR_CHILDREN_MINUS_CIRCLE = '.travelerRow .childrenCounter .minus-circle',
      ACTIVE_CLASS_ENABLED = 'enabled',
      ACTIVE_CLASS_DISABLED = 'disabled',
      COS_PAX_DETAILS_EVENT = 'cosPax:getDetails',
      COS_PAX_EXTERNAL_UPDATE_EVENT = 'cosPax:externalUpdate',
      CLASS_ERROR = 'error',
      CLASS_CONTAINS_INFANT = 'containsInfant',
      COS_OPTION_VALUES = [0, 3, 1, 2], // In order - [Economy, Premium Economy, Business, First]
      MAX_TRAVELER_TOTAL = 6;

    // Global widget variables
    var _widgetElement = widget.element,
      _widgetDiv = widget.element,
      peopleStrings = [],
      _cosPassengerPicker = _widgetElement.querySelector('.cosPassengerPicker'),
      _popoverElmt = $(_widgetElement).find(".popoverContents"),
      _cosPaxUiOverlayElmt,
      _pickerSummaryElmt = $(_widgetElement).find(".summaryContainer"),
      _cosPickerElmt = _widgetElement.getElementsByClassName('cosDropdown')[0],
      _cosOverlay,
      _cosOptionLabels = {},
      _childErrorCount = 0,
      _adultSeniorError = false,
      _inLapInfantCount = 0,
      _totalTravelersElmt = $(_pickerSummaryElmt).find('.flightsTotalTravelers'),
      _inLightbox =  _widgetElement.classList.contains('inLightbox'),
      _travelerLabel = [],
      _selectedCosNum = taPage.travelerInfo.getClassOfService()
    ;

    /**
     * Update the element's color to error-color(red)
     * @private elmt wrapped in jQuery
     */
    function _showErrorColor(elmt) {
      elmt.addClass(CLASS_ERROR);
    }

    /**
     * Get the alert/error message
     * @param {String} attr
     * @returns {jQuery}
     * @private
     */
    function _getMsg(attr) {
      return $(_widgetElement)
        .find('.localizationMessages')
        .attr(attr);
    }

    function _showAlertMsg(attr) {
      var msg = _getMsg(attr),
        msgContainer = _popoverElmt.find('.alertMsgContainer');

      msgContainer.find('.alertMsg').text(msg);
      msgContainer.removeClass('hidden');
    }

    function _showErrorMsg(attr) {
      var msg = _getMsg(attr),
        errorMsgContainer = _popoverElmt.find('.errorMsgContainer');

      errorMsgContainer.find('.errorMsg').text(msg);
      errorMsgContainer.removeClass('hidden');
    }

    /**
     * Change the element's error-color back to its original color
     * @private elmt wrapped in jQuery
     */
    function _removeMsg(containerClass) {
      var msgContainer = _popoverElmt.find('.' + containerClass);
      msgContainer.addClass('hidden');
    }

    function _removeErrorColor(elmt) {
      elmt.removeClass(CLASS_ERROR);
    }

    /**
     * Utility function to check if it's a JSON object
     * @param {obj}
     * @returns boolean
     * @private
     */
    function _isJsonObject(obj) {
      return obj.constructor === {}.constructor;
    }

    function _findSelector(selector) {
      return _widgetElement.querySelector(selector);
    }

    function _getMinusIconSelector(travelerType) {
      switch (travelerType) {
        case TRAVELER_TYPE_ADULTS:
          return ICON_SELECTOR_ADULTS_MINUS_CIRCLE;
        case TRAVELER_TYPE_SENIORS:
          return ICON_SELECTOR_SENIORS_MINUS_CIRCLE;
        case TRAVELER_TYPE_CHILDREN:
          return ICON_SELECTOR_CHILDREN_MINUS_CIRCLE;
      }
    }

    function _getPlusIconSelector(travelerType) {
      switch (travelerType) {
        case TRAVELER_TYPE_ADULTS:
          return ICON_SELECTOR_ADULTS_PLUS_CIRCLE;
        case TRAVELER_TYPE_SENIORS:
          return ICON_SELECTOR_SENIORS_PLUS_CIRCLE;
        case TRAVELER_TYPE_CHILDREN:
          return ICON_SELECTOR_CHILDREN_PLUS_CIRCLE;
      }
    }

    function _getMinTravlerNumbers(travelerType) {
      switch (travelerType) {
        case TRAVELER_TYPE_ADULTS:
          return MIN_TRAVELER_NUMBERS_ADULTS;
        case TRAVELER_TYPE_SENIORS:
          return MIN_TRAVELER_NUMBERS_SENIORS;
        case TRAVELER_TYPE_CHILDREN:
          return MIN_TRAVELER_NUMBERS_CHILDREN;
      }
    }

    function _updateMinAdultsRequired() {
      var elmt,
        count;

      if (taPage.travelerInfo.getSeniors() > MIN_TRAVELER_NUMBERS_SENIORS) {
        MIN_TRAVELER_NUMBERS_ADULTS = 0;
      } else if (MIN_TRAVELER_NUMBERS_ADULTS !== 1) {
        MIN_TRAVELER_NUMBERS_ADULTS = 1;
      }

      elmt = _popoverElmt.find(TRAVELER_COUNT_SELECTOR_ADULTS);
      count = parseInt(elmt.text());

      _updateIconColor(count, TRAVELER_TYPE_ADULTS);
    }

    function _getMaxTravelerNumbers(travelerType) {
      switch (travelerType) {
        case TRAVELER_TYPE_ADULTS:
          return MAX_TRAVELER_NUMBERS_ADULTS;
        case TRAVELER_TYPE_SENIORS:
          return MAX_TRAVELER_NUMBERS_SENIORS;
        case TRAVELER_TYPE_CHILDREN:
          return MAX_TRAVELER_NUMBERS_CHILDREN;
      }
    }

    // Can take a jQuery selection or 1-based index (which will be turned into a selector)
    function _getChildAge(childAgeInputElmt) {
      // If an index is provided, translate to a selection
      if (typeof childAgeInputElmt === "number") {
        var idx = childAgeInputElmt;

        // Return here on out of bounds indices
        if (idx < 1 || idx > 5) {
          return false;
        }

        // The hidden input field has a class containing the index, so look up by that class
        childAgeInputElmt = _popoverElmt.find(".childrenAgeElt_" + idx);
      }

      return parseInt(childAgeInputElmt.val());
    }
    // Age <= 2 -- means infant in-lap search
    // Can take a jQuery selection or 1-based index (which will be turned into a selector)
    function _isInLapInfant(childAgeInputElmt) {
      var currAgeVal = _getChildAge(childAgeInputElmt);
      return currAgeVal >= 0 && currAgeVal <= 2;
    }

    // Returns the number of children that are currently on the list
    // Used for helping in recalculating number of infants on page load
    function _getNumChildren() {
      return parseInt(_popoverElmt.find(".childrenRow .children .travelerCount").text());
    }

    // Helper to apply or remove the CLASS_CONTAINS_INFANT class from an element (can also supply a 1-indexed child number)
    // This label is used when calculating number of infants to remember if an element was an infant or not before the change
    function _modifyInfantClass(ele, setTo) {
        if (typeof ele === "number") {
          ele = _popoverElmt.find(".flightsAgeContainer_" + ele + " .childLabel");
        }

        if (setTo) {
          ele.addClass(CLASS_CONTAINS_INFANT);
        } else {
          ele.removeClass(CLASS_CONTAINS_INFANT);
        }
    }

    // Used on page load to update infant count based on cached information
    function _recalculateNumInfants() {
      // Reset the count before recalculating
      _inLapInfantCount = 0;

      // For each child, check if it's an infant and update count accordingly
      for (var i = 1; i <= _getNumChildren(); i++) {
        if (_isInLapInfant(i)) {
          _inLapInfantCount++;
          _modifyInfantClass(i, true);
        } else {
          _modifyInfantClass(i, false);
        }
      }

      // The infant warning is dependent on the number of infants, so update that
      _updateInfantWarning();
    }

    function _isInvalidAge(childAgeInputElmt) {
      var currAgeVal = parseInt(childAgeInputElmt.val());
      return currAgeVal < 0;
    }

    function _displayChildAges(selector, childrenCount) {
      var i,
        elmt,
        currAgeInputElmt,
        childAgeLabelElmt;

      if (TRAVELER_COUNT_SELECTOR_CHILDREN !== selector) {
        return;
      }

      for (i = 1; i < 6; i++) {
        _popoverElmt.find('.flightsAgeContainer_' + i)
          .css('display', 'none');
      }

      _childErrorCount = 0;

      for (i = 1; i <= childrenCount; i++) {
        elmt = _popoverElmt.find('.flightsAgeContainer_' + i);
        elmt.removeAttr('style');
        elmt.removeClass('hidden');
        currAgeInputElmt = elmt.find('.childrenAgeElt_' + i);
        childAgeLabelElmt = elmt.find('.childLabel');

        if (_isInvalidAge(currAgeInputElmt)) {
          _showErrorColor(childAgeLabelElmt);
          _childErrorCount++;
        }
      }
    }

    function _updateTotalTravelerNumber() {
      var totalNumber = 0;

      _popoverElmt.find('.travelerRow .travelerCount')
        .each(function (idx) {
          var count = parseInt($(this).text());
          totalNumber += count;
        });

      if (totalNumber <= MAX_TRAVELER_TOTAL) {
        _totalTravelersElmt.html(peopleStrings[totalNumber]);
        _removeMsg('errorMsgContainer');

        if (!_hasError()) {
          _removeErrorColor(_totalTravelersElmt);
        }
      } else {
        _totalTravelersElmt.html(peopleStrings[7]);
        _showErrorMsg('data-over-max-travelers');
        _showErrorColor(_totalTravelersElmt);
      }
    }

    // Set the global var corresponding to the total number of travelers for the respective traveler category
    function _updateTravelerNumberVar(travelerType, count, increaseFlag) {
      switch (travelerType) {
        case TRAVELER_TYPE_ADULTS:
          taPage.travelerInfo.setAdults(count);
          break;
        case TRAVELER_TYPE_SENIORS:
          taPage.travelerInfo.setSeniors(count);
          break;
        case TRAVELER_TYPE_CHILDREN:
          if (increaseFlag) {
            taPage.travelerInfo.addChildAge(_getChildAge(count)); // add a new child age if user clicked + icon
          } else {
            taPage.travelerInfo.removeLastChild(); // remove last child age if user clicked - icon
          }
          return;
      }
      _validateAdults();
    }

    function _validateAdults() {
      var adultsElmt = _popoverElmt.find('.travelerRow .adults');
      var seniorsElmt = _popoverElmt.find('.travelerRow .seniors');
      // Show error if both, total number of adults and seniors are 0
      if(0 === taPage.travelerInfo.getAdults() && 0 === taPage.travelerInfo.getSeniors()) {
        _showErrorColor(adultsElmt);
        _showErrorColor(seniorsElmt);
        _adultSeniorError = true;
      } else {
        _removeErrorColor(adultsElmt);
        _removeErrorColor(seniorsElmt);
        _adultSeniorError = false;
      }
    }

    function _updateIconColorHelper(iconSelector, addClass, removeClass) {
      _popoverElmt.find(iconSelector)
        .removeClass(removeClass);

      _popoverElmt.find(iconSelector)
        .addClass(addClass);
    }

    function _updateIconColor(count, travelerType) {
      var travelerMinusIconSelector = _getMinusIconSelector(travelerType),
        travelerPlusIconSelector = _getPlusIconSelector(travelerType);

      if (count <= _getMinTravlerNumbers(travelerType)) {
        _updateIconColorHelper(travelerMinusIconSelector, ACTIVE_CLASS_DISABLED, ACTIVE_CLASS_ENABLED);
        _updateIconColorHelper(travelerPlusIconSelector, ACTIVE_CLASS_ENABLED, ACTIVE_CLASS_DISABLED);
      } else if (count === _getMaxTravelerNumbers(travelerType)) {
        _updateIconColorHelper(travelerPlusIconSelector, ACTIVE_CLASS_DISABLED, ACTIVE_CLASS_ENABLED);
        _updateIconColorHelper(travelerMinusIconSelector, ACTIVE_CLASS_ENABLED, ACTIVE_CLASS_DISABLED);
      } else {
        _updateIconColorHelper(travelerPlusIconSelector, ACTIVE_CLASS_ENABLED, ACTIVE_CLASS_DISABLED);
        _updateIconColorHelper(travelerMinusIconSelector, ACTIVE_CLASS_ENABLED, ACTIVE_CLASS_DISABLED);
      }
    }

    function _updateTravelerLabel(labelElmt, count, travelerType) {
      labelElmt.html(_travelerLabel[travelerType][count]);
    }

    function _setTravelerNumber(elmt, travelerType, count) {
      elmt.html(count);
      _updateTravelerLabel(elmt.siblings('.travelerLabel'), count, travelerType);
      _updateIconColor(count, travelerType);
    }

    function _increaseTravelerNumber(selector, travelerType) {
      var elmt = _popoverElmt.find(selector),
        count = parseInt(elmt.text());

      if (count >= _getMaxTravelerNumbers(travelerType)) {
        return;
      }

      count++;
      _setTravelerNumber(elmt, travelerType, count);
      _updateTravelerNumberVar(travelerType, count, true); // pass the increase flag
      _displayChildAges(selector, count);
      _updateTotalTravelerNumber();

      if (travelerType === TRAVELER_TYPE_SENIORS) {
        _updateMinAdultsRequired();
      } else if (travelerType === TRAVELER_TYPE_CHILDREN) {
        // If the thing we just added was already set as an in-lap infant, account for that
        // This indexing works after count++ because child ages are 1-indexed
        if (_isInLapInfant(count)) {
          _inLapInfantCount++;
          _updateInfantWarning();
        }
      }
    }

    function _decreaseTravelerNumber(selector, travelerType) {
      var elmt = _popoverElmt.find(selector),
        count = parseInt(elmt.text());

      if (count <= _getMinTravlerNumbers(travelerType)) {
        return;
      }

      count--;
      elmt.html(count);

      _updateTravelerNumberVar(travelerType, count, false); // pass false for the increaseFlag
      _displayChildAges(selector, count);
      _updateTotalTravelerNumber();
      _updateTravelerLabel(elmt.siblings('.travelerLabel'), count, travelerType);

      if (travelerType === TRAVELER_TYPE_SENIORS) {
        _updateMinAdultsRequired();
      } else if (travelerType === TRAVELER_TYPE_CHILDREN) {
        // If the thing we just removed was already set as an in-lap infant, account for that
        // One is added to the count because we want to check the thing which was just removed, not the current last item
        if (_isInLapInfant(count + 1)) {
          _inLapInfantCount--;
          _updateInfantWarning();
        }
      }

      _updateIconColor(count, travelerType);
    }

    function _initializePeopleStrings() {
      var peopleStringsElem = _findSelector('.localizationPeopleStrings'),
        nextAttribute = peopleStringsElem.getAttribute('data-people-0'),
        i = 1;

      while (nextAttribute) {
        peopleStrings.push(nextAttribute);
        nextAttribute = peopleStringsElem.getAttribute('data-people-' + i++);
      }
    }

    function _initializePopoverLocalizationStr() {
      var cosStringsElem = $(_cosPickerElmt).find('.localizationCosStrings'),
        cosStrList = cosStringsElem[0] ? cosStringsElem[0].attributes : null,
        i;

      if (!cosStrList || !cosStrList.length) {
        return;
      }

      // Build COS labels
      for (i = 1; i < cosStrList.length; i++) {
        _cosOptionLabels[cosStrList[i].nodeValue] = COS_OPTION_VALUES[i - 1];
      }

      _travelerLabel[TRAVELER_TYPE_ADULTS] = _initializeTravelerStrings('adults');
      _travelerLabel[TRAVELER_TYPE_SENIORS] = _initializeTravelerStrings('seniors');
      _travelerLabel[TRAVELER_TYPE_CHILDREN] = _initializeTravelerStrings('children');
    }

    function _initializeTravelerStrings(travelerType) {
      var travelerStrings = [],
        prefix = 'data-' + travelerType +'-',
        travelerStringsElem = _findSelector('.localizationTravelerStrings'),
        nextAttribute = travelerStringsElem.getAttribute(prefix + '0'),
        i = 1;
      while (nextAttribute) {
        travelerStrings.push(nextAttribute);
        nextAttribute = travelerStringsElem.getAttribute(prefix + i++);
      }
      return travelerStrings;
    }

    function _initializeTravelerInfoValues() {
      if(!taPage || !taPage.travelerInfo) return;

      //Update global vars
      _updateTotalTravelerNumber();
      _updateMinAdultsRequired();

      //Update colors
      _updateIconColor(taPage.travelerInfo.getAdults(), TRAVELER_TYPE_ADULTS);
      _updateIconColor(taPage.travelerInfo.getSeniors(), TRAVELER_TYPE_SENIORS);
      _updateIconColor(taPage.travelerInfo.getNumChildren(), TRAVELER_TYPE_CHILDREN);
    }

    // Watch on the HIDDEN input fields since they don't trigger the "change" event
    function _watchHiddenInput(selector, callback) {
      var inputElmt = _popoverElmt.find(selector),
        inputVal = inputElmt.val();
      setInterval(function () {
        if (inputElmt.val() != inputVal) {
          inputVal = inputElmt.val();
          callback(inputElmt);
        }
      }, 100);
    }

    function _childAgeChanged(elmt) {
      if (!elmt || 0 === elmt.length) {
        return;
      }

      var clsList = elmt[0].classList,
        childAgeEltClass = $.grep(clsList, function (clsName, i) {
          return clsName.match(/childrenAgeElt/g);
        })[0],
        childIdx = parseInt(childAgeEltClass[childAgeEltClass.length - 1]) - 1,
        newVal = parseInt(elmt.val()),
        childAgeLabelElmt = elmt.closest('.ageContainer').find('.childLabel'),
        isInvalidAge = _isInvalidAge(elmt),
        isInLapInfant = _isInLapInfant(elmt);

      taPage.travelerInfo.changeChildAge(childIdx, newVal);

      if (isInvalidAge && !childAgeLabelElmt.hasClass(CLASS_ERROR)) {
        _showErrorColor(childAgeLabelElmt);
        _childErrorCount++;
      } else if (!isInvalidAge && childAgeLabelElmt.hasClass(CLASS_ERROR)) {
        _removeErrorColor(childAgeLabelElmt);
        _childErrorCount--;
      }

      // We don't support infant-in-lap searches
      if (isInLapInfant && !childAgeLabelElmt.hasClass(CLASS_CONTAINS_INFANT)) {
        _inLapInfantCount++;
        _modifyInfantClass(childAgeLabelElmt, true);
      } else if (!isInLapInfant && childAgeLabelElmt.hasClass(CLASS_CONTAINS_INFANT)) {
        _inLapInfantCount--;
        _modifyInfantClass(childAgeLabelElmt, false);
      }

      _updateInfantWarning();

      // If there's no error when child age is changed, remove the error color from _totalTravelersElmt
      if (!_hasError()) {
        _removeErrorColor(_totalTravelersElmt);
      }

      _triggerCosPaxEvent();
    }

    function _updateInfantWarning() {
      if (_inLapInfantCount <= 0) {
          _removeMsg('alertMsgContainer');
      } else {
          _showAlertMsg('data-no-infant-in-lap');
      }
    }

    function _togglePicker(parent) {
      // this is an overlay...
      var willShow;
      if (parent && parent.isOpen) {
        willShow = !parent.isOpen();
      } else {
        var $dropdown = $('.picker-dropdown', parent);
        willShow = $dropdown.hasClass('hidden');
      }
      _showPicker(willShow, parent);
    }

    function _showPicker(show, parent) {
      var $currentlyOpenDD = $('.picker-dropdown:not(.hidden)', _widgetDiv);

      if (parent.isOpen) {
        $currentlyOpenDD.addClass('hidden');
        if (show) {
          parent.show();
        } else {
          parent.hide();
        }
      } else {
        var $dropdown = $('.picker-dropdown', parent);
        if (!$currentlyOpenDD.is($dropdown)) {
          $currentlyOpenDD.addClass('hidden');
        }

        $dropdown.toggleClass('hidden', !show);
      }
    }

    function _pickerClick(pickerElement, overlay) {
      if (!overlay) {
        overlay = _setupDropdown(pickerElement);
      }

      _togglePicker(overlay);

      return overlay;
    }

    function _setupDropdown(pickerElement) {
      var dropdown = null;
      var content = api.find('.picker-dropdown', pickerElement);
      api.removeClass(content, 'hidden');

      var size = api.getSize(pickerElement);

      dropdown = new Overlay(
        pickerElement,
        Dropdown(pickerElement, 'below', [_widgetDiv.className], content, null, 'div'),
        Position.below([0, -(size.y || 36)]),
        MatchWidth && MatchWidth(pickerElement),
        CloseOnDocClick,
        CloseOnLegacyOverlay,
        CloseOnTargetEvent(window, ['date_bar_docked', 'date_bar_undocked']),
        AutoReposition
      );

      api.removeClass(dropdown.contentElement, 'hidden');
      dropdown.container.onclick = function () {
        _togglePicker(dropdown);
      };

      return dropdown;
    }

    // Fill Class of Service Options
    function _fillCosOptions() {
      _fillPickerOptions(_cosPickerElmt, _cosOptionLabels, 'cos');
    }

    /**
     * Build picker options
     * @param labels
     * @param optionsParent
     * @param prop
     * @private
     */
    function _fillPickerOptions(parent, labels, prop) {
      var optionsParent = api.find(' .picker-dropdown .options-container', parent),
        isLabelsJSONObject = _isJsonObject(labels),
        $option,
        obj,
        i,
        optionLabel;

      $(optionsParent).empty();
      for (i in labels) {
        optionLabel = isLabelsJSONObject ? i : labels[i];
        $option = $('<li class="option">' + optionLabel + '</li>');
        obj = {};
        obj[prop] = isLabelsJSONObject ? labels[i] : i;
        _addPickerListener($option.get(0), obj);
        optionsParent.appendChild($option.get(0));
      }
    }

    function _addPickerListener(option, values) {
      api.addEvent(option, 'click', function () {
        if (values.hasOwnProperty('cos')) {
          _updateCos(values.cos, true);
        }
      });
    }

    function _updateCos(newCos, updatePageTravelerInfo) {

      // Only set cosLabel to new one if it is changed
      if (newCos === _selectedCosNum) {
        return;
      }

      _selectedCosNum = newCos;
      _setCosLabel(newCos);
      if (updatePageTravelerInfo) {
        taPage.travelerInfo.setClassOfService(newCos);
      }
      _triggerCosPaxEvent();

      // fire event for the LCB handlers, unfortunately vanilla JS can't receive jQuery event
      var event = document.createEvent('CustomEvent');
      if (_inLightbox) {
        event.initCustomEvent('lb_cosChange', true, true, {cos: newCos});
      } else {
        event.initCustomEvent('cosChange', true, true, {cos: newCos});
      }
      document.dispatchEvent(event);
    }

    function _setCosLabel(cos) {
      var i,
        label = '';

      for (i in _cosOptionLabels) {
        if (_cosOptionLabels[i] === cos) {
          label = i;
          break;
        }
      }

      if (!label) {
        return;
      }

      $('.picker-inner .picker-label', _cosPickerElmt).html(label);
      $('.picker-dropdown .picker-label', _cosOverlay ? _cosOverlay.container : _cosPickerElmt).html(label);

      // Update the summary COS from target
      _pickerSummaryElmt.find('.selectedCos').text(label);
    }

    function _hideOnClose(evnt) {
      if (_childErrorCount > 0 || _adultSeniorError) {
        return;
      }

      $('.ui_close_x', _cosPaxUiOverlayElmt).click();
    }

    /**
     * Returns a callback function to be invoked on 'click' event performed on one of the minus/plus icons
     * @param: increase or decrease function (based on weather plus is clicked or minus)
     * @param Traveler count selector
     * @param Traveler type
     */
    function makeOnClick(incOrDecFunc, travCountSelector, travType) {
      return function (evnt) {
        incOrDecFunc(travCountSelector, travType);
        _triggerCosPaxEvent();
      };
    }

    function _registerPopoverEvents() {
      var clicks = {},
        iconSelector;

      if (!_popoverElmt) {
        return;
      }

      clicks[ICON_SELECTOR_ADULTS_MINUS_CIRCLE] = [_decreaseTravelerNumber, TRAVELER_COUNT_SELECTOR_ADULTS, TRAVELER_TYPE_ADULTS];
      clicks[ICON_SELECTOR_ADULTS_PLUS_CIRCLE] = [_increaseTravelerNumber, TRAVELER_COUNT_SELECTOR_ADULTS, TRAVELER_TYPE_ADULTS];
      clicks[ICON_SELECTOR_SENIORS_MINUS_CIRCLE] = [_decreaseTravelerNumber, TRAVELER_COUNT_SELECTOR_SENIORS, TRAVELER_TYPE_SENIORS];
      clicks[ICON_SELECTOR_SENIORS_PLUS_CIRCLE] = [_increaseTravelerNumber, TRAVELER_COUNT_SELECTOR_SENIORS, TRAVELER_TYPE_SENIORS];
      clicks[ICON_SELECTOR_CHILDREN_MINUS_CIRCLE] = [_decreaseTravelerNumber, TRAVELER_COUNT_SELECTOR_CHILDREN, TRAVELER_TYPE_CHILDREN];
      clicks[ICON_SELECTOR_CHILDREN_PLUS_CIRCLE] = [_increaseTravelerNumber, TRAVELER_COUNT_SELECTOR_CHILDREN, TRAVELER_TYPE_CHILDREN];

      // Plus / Minus
      for (iconSelector in clicks) {
        _popoverElmt.find(iconSelector).on('click', makeOnClick.apply(this, clicks[iconSelector]));
      }

      // COS Dropdown/Picker
      _popoverElmt.find('.cosDropdown').on('click', function (evnt) {
        _cosOverlay = _pickerClick(_cosPickerElmt, _cosOverlay);
      });

      // Close Text
      _popoverElmt.find('.closeText').on('click', _hideOnClose);

      // Children Select Options (ui_select) - Watch for a change in Age
      for (var i = 1; i <= MAX_TRAVELER_NUMBERS_CHILDREN; i++) {
        _watchHiddenInput('.childrenAgeElt_' + i, _childAgeChanged);
      }
    }

    function _closeAnyOpenDatePicker() {
      var datePicker = document.querySelector('.ui_overlay.date_picker_modal');
      if (datePicker) {
        var ui_close = datePicker.querySelector('.ui_close_x');
        ui_close.click();
      }
    }

    // Create uiOverlay and register popover events
    function _openCosPassengerPicker(evnt) {
      // whenever the cos-pax picker opens, close any date picker that's open
      _closeAnyOpenDatePicker();
      $(_cosPassengerPicker).on('focus', _closeAnyOpenDatePicker);

      taRecord.trackEventOnPage('PaxSelector-home', 'menu_open', "class_and_pax_picker_open");

      // Create the main UI overlay
      uiOverlay(evnt, _cosPassengerPicker);
      _cosPaxUiOverlayElmt = _popoverElmt.closest('.ui_overlay');

      // UI Overlay comes with a close icon, HIDE THAT - we have a custom close button
      $('.ui_close_x', _cosPaxUiOverlayElmt).hide();
    }

    //Open the picker when clicked, if focus events aren't enough (tablets or old IE)
    function _cosPassengerPickerClick(evnt, elmt) {
      if (browserUtils.Platform.ios || browserUtils.Platform.android || (browserUtils.ie && browserUtils.version < 11)) {
        _openCosPassengerPicker(evnt);
      }
    }

    function _containerClick(evnt, elmt) {
      if (evnt && evnt.target === elmt) {
        _cosPassengerPicker.focus();
      }
    }

    //Open the picker when it receives focus
    function _cosPassengerPickerFocus(evnt, elmt) {
      //Tablet browsers should use click events rather than focus ones
      if (browserUtils.Platform.ios || browserUtils.Platform.android) return;

      _openCosPassengerPicker(evnt);
    }

    // Trigger the event
    function _triggerCosPaxEvent() {
      $('body').trigger(COS_PAX_DETAILS_EVENT, _getCosPaxDetailsObj());
    }

    /**
     * Returns true if COS & Pax widget has any error
     * @returns {boolean}
     * @private
     */
    function _hasError() {
      return _childErrorCount > 0 || _adultSeniorError || taPage.travelerInfo.getTotalTravelers() > MAX_TRAVELER_TOTAL;
    }

    function _getCosPaxDetailsObj() {
      return {
        adult: taPage.travelerInfo.getAdults(),
        senior: taPage.travelerInfo.getSeniors(),
        children: taPage.travelerInfo.getNumChildren(),
        childrenAge: taPage.travelerInfo.getChildAges(),
        cos: taPage.travelerInfo.getClassOfService(),
        hasError: _hasError()
      };
    }

    function _onTravelerInfoChanged() {
      var childAges = taPage.travelerInfo.getChildAges();
      _updateCos(taPage.travelerInfo.getClassOfService());
      _setTravelerNumber(_popoverElmt.find(TRAVELER_COUNT_SELECTOR_ADULTS), TRAVELER_TYPE_ADULTS, taPage.travelerInfo.getAdults());
      _setTravelerNumber(_popoverElmt.find(TRAVELER_COUNT_SELECTOR_SENIORS), TRAVELER_TYPE_SENIORS, taPage.travelerInfo.getSeniors());
      _setTravelerNumber(_popoverElmt.find(TRAVELER_COUNT_SELECTOR_CHILDREN), TRAVELER_TYPE_CHILDREN, childAges.length);
      _validateAdults();
      _displayChildAges(TRAVELER_COUNT_SELECTOR_CHILDREN, childAges.length);
      _updateTotalTravelerNumber();
      _updateMinAdultsRequired();

      _inLapInfantCount = 0;
      for (var i = 1; i <= childAges.length; i++) {
        var ageSelect = _popoverElmt[0].querySelector('.flightsAgeContainer_' + i + ' .ui_select');
        new select.Select().init(ageSelect).selectValueAndClose(childAges[i-1]);
      }
    }

    function _init() {
      if (!(widget && widget.element)) {
        return;
      }

      // Initialize the localization strings used in COS & Pax popover
      _initializePopoverLocalizationStr();

      // Register events
      _registerPopoverEvents(_popoverElmt);

      // Fill Class of Service Options
      _fillCosOptions();

      _initializePeopleStrings();
      _initializeTravelerInfoValues();
      _triggerCosPaxEvent();

      _recalculateNumInfants();

      $('body').on(COS_PAX_EXTERNAL_UPDATE_EVENT, _onTravelerInfoChanged);
    }

    _init();

    return {
      containerClick: _containerClick,
      cosPassengerPickerClick: _cosPassengerPickerClick,
      cosPassengerPickerFocus: _cosPassengerPickerFocus
    };
  });});
define('flights/flight_search_results/FlightSearchForm', ['ta/Core/TA.Event', 'ta/util/Date', 'lib/jquery-amd', 'ta/Core/TA.Store', 'ta/Core/TA.LocalStorage'],
function (taEvent, taDate, $, taStore, taLocalStorage) {
"use strict";
var FORM_CONTROL_IDS = {
FLIGHTS_ADULTS_NUMBERS: 'FLIGHTS_ADULTS_NUMBERS',
FLIGHTS_SENIORS_NUMBERS: 'FLIGHTS_SENIORS_NUMBERS',
FLIGHTS_CHILDREN_NUMBERS: 'FLIGHTS_CHILDREN_NUMBERS',
FLIGHTS_ADULTS_NUMBERS_LABEL: 'FLIGHTS_ADULTS_NUMBERS_LABEL',
FLIGHTS_SENIORS_NUMBERS_LABEL: 'FLIGHTS_SENIORS_NUMBERS_LABEL',
FLIGHTS_CHILDREN_NUMBERS_LABEL: 'FLIGHTS_CHILDREN_NUMBERS_LABEL',
FLIGHTS_TOTAL_TRAVELERS: 'FLIGHTS_TOTAL_TRAVELERS'
};
var MAX_TRAVELER_NUMBERS = {
FLIGHTS_ADULTS_NUMBERS: 6,
FLIGHTS_SENIORS_NUMBERS: 6,
FLIGHTS_CHILDREN_NUMBERS: 5
};
var TRIP_TYPES = {
ROUND_TRIP: 'roundTrip',
ONE_WAY: 'oneWay',
MULTI_CITY: 'multiCity'
};
var FlightSearchFormController = function () {
this.peopleStrings = [];
this.messages;
this.metaLang;
this.errors = {};
this.travelerPopup = false;
this.hideErrors = false;
this.lastDate = null;
var that = this;
var _canUseLocalStore = function () {
return taLocalStorage.enabled;
};
var _findSelector = function (selector) {
return that.widget.element.querySelector(selector);
};
var _findSelectorJquery = function (selector) {
return $(that.widget.element).find(selector);
};
var _hideCalendar = function () {
if (window.calendar && window.calendar.flyout) {
window.calendar.flyout.hide(false);
}
};
var _typeahead = function (event, elem, typeAheadSelect, tripType) {
var autocompleters = [];
var elemSel = $(elem);
if (elemSel.hasClass('ghostText')) {
elem.value = '';
elemSel.removeClass('ghostText');
}
_hideCalendar();
if (tripType === TRIP_TYPES.MULTI_CITY) {
var num = parseInt((elem.id).split('_')[1]);
if ((_findSelector('#mc_' + num + '_airportFromCode').value === '') && (_findSelector('#mc_' + (num - 1) + '_airportToCode').value !== '')) {
_findSelector('#mc_' + num + '_airportFrom').value = _findSelector('#mc_' + (num - 1) + '_airportTo').value;
_findSelector('#mc_' + num + '_airportFromCode').value = _findSelector('#mc_' + (num - 1) + '_airportToCode').value;
}
}
var _hideAc = function (e, c) {
autocompleters.forEach(function (ac) {
if (ac.choices === c) {
ac.fx.start(0);
}
});
};
var options = {
onShow: function () {
},
onHide: _hideAc
};
taEvent.call('ta.widgets.typeahead.factory.ne', event, elem, undefined, typeAheadSelect, options, autocompleters);
};
var _verifyChildrenAges = function () {
var foundError = false;
$(that.widgetElement).find('.singleChildAge').removeClass('ageError');
_findSelectorJquery('#FLIGHTS_CHILDREN_AGE_DISCLAIMER').removeClass('error');
var childrenNumber = parseInt(_findSelector('#' + FORM_CONTROL_IDS.FLIGHTS_CHILDREN_NUMBERS_LABEL).innerHTML, 10);
for (var i = 1; i <= childrenNumber; i++) {
var age = _findSelector('#FLIGHTS_CHILD_AGE_' + i).innerHTML;
if (age === '&lt; 1') {
age = 0;
}
age = parseInt(age, 10);
if (isNaN(age)) {
_findSelectorJquery('#FLIGHTS_AGE_SELECTOR_' + i).addClass('ageError');
foundError = true;
}
}
if (foundError) {
_findSelectorJquery('#FLIGHTS_CHILDREN_AGE_DISCLAIMER').addClass('error');
}
return !foundError;
};
var _handleSelectChange = function (elem) {
var elemSel = $(elem);
if (elemSel.children('select').length === 0 ||
elemSel.children('.selectValue').length === 0 ||
elemSel.children('.selectValueHidden').length === 0) {
return;
}
var select = elemSel.children('select')[0];
var value = elemSel.children('.selectValue')[0];
var hiddenValue = elemSel.children('.selectValueHidden')[0];
value.innerHTML = select.options[select.selectedIndex].text;
if (hiddenValue) {
hiddenValue.value = select.options[select.selectedIndex].text;
_verifyChildrenAges();
}
};
var _enableSearchButton = function () {
_findSelector('#CHECK_FARES_BUTTON').addEventListener('click', that.searchCallback);
};
var _disableSearchButton = function () {
_findSelector('#CHECK_FARES_BUTTON').removeEventListener('click', that.searchCallback);
};
var _hideTravelersMessage = function () {
var elem = _findSelector('#FLIGHTS_MESSAGE_BOX');
if (!elem) {
return;
}
elem.removeAttribute('class');
$(elem).hide();
};
var _displayTravelersMessage = function (message) {
var elem = _findSelectorJquery('#FLIGHTS_MESSAGE_BOX');
if (!elem) {
return;
}
elem.html(message.message);
elem.addClass(message.type);
elem.show();
};
var _hasInfant = function () {
var childrenNumber = parseInt(_findSelector('#' + FORM_CONTROL_IDS.FLIGHTS_CHILDREN_NUMBERS_LABEL).innerHTML, 10);
for (var i = 1; i <= childrenNumber; i++) {
var age = _findSelector('#FLIGHTS_CHILD_AGE_' + i).innerHTML;
if (age === '&lt; 1') {
age = 0;
}
age = parseInt(age, 10);
if (!isNaN(age) && age <= 3) {
return true;
}
}
return false;
};
var _verifyTravelerRules = function () {
var foundError = false;
var adultsNumber = parseInt(_findSelector('#' + FORM_CONTROL_IDS.FLIGHTS_ADULTS_NUMBERS_LABEL).innerHTML, 10);
var seniorsNumber = parseInt(_findSelector('#' + FORM_CONTROL_IDS.FLIGHTS_SENIORS_NUMBERS_LABEL).innerHTML, 10);
var childrenNumber = parseInt(_findSelector('#' + FORM_CONTROL_IDS.FLIGHTS_CHILDREN_NUMBERS_LABEL).innerHTML, 10);
_hideTravelersMessage();
var widgetSel = $(that.widgetElement);
widgetSel.find('.totalTravelers').removeClass('totalTravelersError');
widgetSel.find('.adultLabel').removeClass('travelerLabelError');
widgetSel.find('.adultCounter').removeClass('counterContainerError');
if (adultsNumber + seniorsNumber + childrenNumber === 0) {
widgetSel.find('.totalTravelers').addClass('totalTravelersError');
foundError = true;
} else if (adultsNumber + seniorsNumber === 0 && childrenNumber > 0) {
_displayTravelersMessage(that.messages.zeroAdults);
widgetSel.find('.adultLabel').addClass('travelerLabelError');
widgetSel.find('.adultCounter').addClass('counterContainerError');
foundError = true;
} else if (adultsNumber + seniorsNumber + childrenNumber > 6) {
_displayTravelersMessage(that.messages.overMaxTravelers);
widgetSel.find('.totalTravelers').addClass('totalTravelersError');
foundError = true;
} else if (adultsNumber + seniorsNumber > 0 && childrenNumber > 0 && _hasInfant()) {
_displayTravelersMessage(that.messages.noInfantInLap);
}
return !foundError;
};
var _checkTravelerErrors = function () {
var rulesOK = _verifyTravelerRules();
var ageOK = _verifyChildrenAges();
if (rulesOK && ageOK) {
_enableSearchButton();
return true;
}
_disableSearchButton();
return false;
};
var _inHierarchy = function (elem, classname) {
return $(elem).parents('.' + classname).length > 0;
};
var _hideTravelerPopupFromOutside = function (event) {
if (!_inHierarchy(event.target, 'travelersLander') && !_inHierarchy(event.target, 'travelersPopup')) {
_hideTravelerPopup();
}
};
var _hideTravelerPopup = function () {
if (_checkTravelerErrors() && that.travelerPopup) {
document.removeEventListener('click', _hideTravelerPopupFromOutside);
var popup = _findSelector('#FLIGHTS_TRAVELERS_POPUP');
popup.hide();
popup.removeEventListener('click', _verifyTravelerRules);
_findSelectorJquery('#FLIGHTS_TRAVELERS_LANDER').css('border-bottom', '');
that.travelerPopup = false;
_enableSearchButton();
}
};
var _showTravelerPopup = function () {
if (!that.travelerPopup) {
var popup = _findSelector('#FLIGHTS_TRAVELERS_POPUP');
popup.show();
popup.addEventListener('click', _verifyTravelerRules);
_findSelectorJquery('#FLIGHTS_TRAVELERS_LANDER').css('border-bottom', '0');
that.travelerPopup = true;
_disableSearchButton();
document.addEventListener('click', _hideTravelerPopupFromOutside);
} else {
_hideTravelerPopup();
}
};
var _displayChildAges = function (id, numberOfChildren) {
if (id !== FORM_CONTROL_IDS.FLIGHTS_CHILDREN_NUMBERS) {
return;
}
for (var i = 1; i <= 5; i++) {
_findSelectorJquery('#FLIGHTS_AGE_CONTAINER_' + i).css('display', 'none');
}
for (i = 1; i <= numberOfChildren; i++) {
_findSelector('#FLIGHTS_AGE_CONTAINER_' + i).erase('style');
}
if (numberOfChildren === 0) {
_findSelectorJquery('#FLIGHTS_CHILDREN_AGE_DISCLAIMER').css('display', 'none');
} else {
_findSelectorJquery('#FLIGHTS_CHILDREN_AGE_DISCLAIMER').attr('style', '');
}
};
var _updateTotalTravelerNumber = function () {
var totalNumber = 0;
var hiddenTravelerNumbers = _findSelector('#FLIGHTS_TRAVELERS_SELECTOR').querySelectorAll('.hiddenTravelerNumber');
Array.prototype.forEach.call(hiddenTravelerNumbers, function (elem) {
totalNumber += elem.value.toInt();
});
if (totalNumber < 7) {
_findSelector('#' + FORM_CONTROL_IDS.FLIGHTS_TOTAL_TRAVELERS).innerHTML = that.peopleStrings[totalNumber];
} else {
_findSelector('#' + FORM_CONTROL_IDS.FLIGHTS_TOTAL_TRAVELERS).innerHTML = that.peopleStrings[7];
}
};
var _increaseTravelerNumber = function (id) {
var elem = _findSelector('#' + id);
if (elem.value < MAX_TRAVELER_NUMBERS[id]) {
elem.value++;
}
_findSelector('#' + id + '_LABEL').innerHTML = elem.value;
_displayChildAges(id, elem.value);
_updateTotalTravelerNumber();
};
var _decreaseTravelerNumber = function (id) {
var elem = _findSelector('#' + id);
if (elem.value > 0) {
elem.value--;
}
_findSelector('#' + id + '_LABEL').innerHTML = elem.value;
_displayChildAges(id, elem.value);
_updateTotalTravelerNumber();
};
var _clearErrors = function () {
_findSelectorJquery('#FLIGHTS_SEARCH_FORM').find('input.error').removeClass('error');
_findSelectorJquery('#FLIGHTS_ERROR' + ' .msg').html('');
_findSelectorJquery('#FLIGHTS_ERROR').hide();
that.errors = {};
};
var _showError = function (elem, message) {
$(elem).addClass('error');
if (that.errors[message]) {
return;
}
that.errors[message] = true;
if (that.metaLang[message]) {
message = that.metaLang[message];
var msg = _findSelector('#' + 'FLIGHTS_ERROR' + ' .msg').innerHTML;
if (msg !== '') {
msg += '<br />';
}
msg += message;
_findSelectorJquery('#FLIGHTS_ERROR').show();
_findSelector('#' + 'FLIGHTS_ERROR' + ' .msg').innerHTML = msg;
}
};
var _keepTravelerParams = function () {
var popup = _findSelector('#FLIGHTS_TRAVELERS_POPUP');
if (_canUseLocalStore() && popup) {
try {
taLocalStorage.set('travelerInfoTimestamp', new Date().getTime());
taLocalStorage.set('adultsNumbers', _findSelector('#' + FORM_CONTROL_IDS.FLIGHTS_ADULTS_NUMBERS).value);
taLocalStorage.set('seniorsNumbers', _findSelector('#' + FORM_CONTROL_IDS.FLIGHTS_SENIORS_NUMBERS).value);
taLocalStorage.set('childrenNumbers', _findSelector('#' + FORM_CONTROL_IDS.FLIGHTS_CHILDREN_NUMBERS).value);
var ageContainers = popup.querySelectorAll('.ageContainer');
for (var i = 0; i < ageContainers.length; i++) {
taLocalStorage.set('childAgeSelectIndex' + i, ageContainers[i].querySelector('select').selectedIndex);
taLocalStorage.set('childAgeValue' + i, ageContainers[i].querySelector('.childAgeValue').innerHTML);
taLocalStorage.set('childAgeValueHidden' + i, ageContainers[i].querySelector('.childAgeValueHidden').value);
}
} catch (e) {
}
}
};
var _restoreAdultTravelers = function () {
var adults = taLocalStorage.get('adultsNumbers');
_findSelector('#' + FORM_CONTROL_IDS.FLIGHTS_ADULTS_NUMBERS).value = adults;
_findSelector('#' + FORM_CONTROL_IDS.FLIGHTS_ADULTS_NUMBERS_LABEL).innerHTML = adults;
};
var _restoreSeniorTravelers = function () {
var seniors = taLocalStorage.get('seniorsNumbers');
_findSelector('#' + FORM_CONTROL_IDS.FLIGHTS_SENIORS_NUMBERS).value = seniors;
_findSelector('#' + FORM_CONTROL_IDS.FLIGHTS_SENIORS_NUMBERS_LABEL).innerHTML = seniors;
};
var _restoreChildTravelers = function (popup) {
var children = taLocalStorage.get('childrenNumbers');
_findSelector('#' + FORM_CONTROL_IDS.FLIGHTS_CHILDREN_NUMBERS).value = children;
_findSelector('#' + FORM_CONTROL_IDS.FLIGHTS_CHILDREN_NUMBERS_LABEL).innerHTML = children;
var ageContainers = popup.querySelectorAll('.ageContainer');
for (var i = 0; i < ageContainers.length; i++) {
ageContainers[i].querySelector('select').selectedIndex = taLocalStorage.get('childAgeSelectIndex' + i);
ageContainers[i].querySelector('.childAgeValue').innerHTML = taLocalStorage.get('childAgeValue' + i);
ageContainers[i].querySelector('.childAgeValueHidden').value = taLocalStorage.get('childAgeValueHidden' + i);
}
};
var _restoreTravelerParams = function () {
var popup = _findSelector('#FLIGHTS_TRAVELERS_POPUP');
if (_canUseLocalStore() && popup) {
try {
if (taLocalStorage.get('adultsNumbers') !== null) {
_restoreAdultTravelers();
}
if (taLocalStorage.get('seniorsNumbers') !== null) {
_restoreSeniorTravelers();
}
if (taLocalStorage.get('childrenNumbers') !== null) {
_restoreChildTravelers(popup);
}
_updateTotalTravelerNumber();
} catch (e) {
}
}
};
var _formatDateMetaUrl = function (date) {
return (date.getFullYear() * 10000 + ((date.getMonth() + 1) * 100 + date.getDate())).toString();
};
var _adjustForThaiCalendarOffset = function (year) {
if (taStore.retrieve('thai_buddhist_era_year') && year >= (new Date().getFullYear() + taDate.THAI_BUDDHIST_YEAR_OFFSET)) {
year -= taDate.THAI_BUDDHIST_YEAR_OFFSET;
}
return year;
};
var _addThaiCalendarOffsetIfNecessary = function (year) {
if (taStore.retrieve('thai_buddhist_era_year')) {
_adjustForThaiCalendarOffset(year);
year += taDate.THAI_BUDDHIST_YEAR_OFFSET;
}
return year;
};
var _buildDate = function (month, day) {
var regex = /[\/]/;
var monthYear = _findSelector('#' + month).value.split(regex);
monthYear[1] = _adjustForThaiCalendarOffset(monthYear[1]);
return taDate.create(monthYear[1], monthYear[0] - 1, _findSelector('#' + day).value);
};
var _getTravelersUrlParams = function () {
var urlParams = {};
var count = 0;
var adultsNumber = parseInt(_findSelector('#' + FORM_CONTROL_IDS.FLIGHTS_ADULTS_NUMBERS_LABEL).innerHTML, 10);
var seniorsNumber = parseInt(_findSelector('#' + FORM_CONTROL_IDS.FLIGHTS_SENIORS_NUMBERS_LABEL).innerHTML, 10);
var childrenNumber = parseInt(_findSelector('#' + FORM_CONTROL_IDS.FLIGHTS_CHILDREN_NUMBERS_LABEL).innerHTML, 10);
for (var i = 0; i < adultsNumber; i++) {
urlParams['pax' + count] = 'a';
count++;
}
for (i = 0; i < seniorsNumber; i++) {
urlParams['pax' + count] = 's';
count++;
}
for (i = 1; i <= childrenNumber; i++) {
var age = _findSelector('#' + 'FLIGHTS_CHILD_AGE_' + i).innerHTML;
if (age === '&lt; 1') {
age = 0;
}
urlParams['pax' + count] = age;
count++;
}
urlParams['travelers'] = count;
return urlParams;
};
var _getLastDate = function () {
if (!that.lastDate) {
var endDate = new Date();
taDate.normalize(endDate);
endDate.setTime(endDate.getTime() + 28512000000);
if (taStore.retrieve('thai_buddhist_era_year')) {
var dayOfMonth = endDate.getDate();
var month = endDate.getMonth();
var year = _addThaiCalendarOffsetIfNecessary(endDate.getFullYear());
endDate = new Date(year, month, dayOfMonth);
}
that.lastDate = endDate;
}
return that.lastDate;
};
var _buildQueryString = function (servlet, params) {
var url = servlet;
var first = true;
$.each(params, function (key, value) {
if (!first) {
url += '&';
} else {
first = false;
}
url += key + '=' + value;
});
return url;
};
var _initializePeopleStrings = function () {
var peopleStringsElem = that.widgetElement.querySelector('.localizationPeopleStrings');
var nextAttribute = peopleStringsElem.getAttribute('data-people-0');
var i = 1;
while (nextAttribute) {
that.peopleStrings.push(nextAttribute);
nextAttribute = peopleStringsElem.getAttribute('data-people-' + i);
i++;
}
};
var _initializeMessages = function () {
var messagesElem = that.widgetElement.querySelector('.localizationMessages');
var infantMessage = messagesElem.getAttribute('data-no-infant-in-lap');
var zeroAdults = messagesElem.getAttribute('data-zero-adults');
var overMaxTravelers = messagesElem.getAttribute('data-over-max-travelers');
that.messages = {
'noInfantInLap': {'message': infantMessage, 'type': 'info'},
'zeroAdults': {'message': zeroAdults, 'type': 'error'},
'overMaxTravelers': {'message': overMaxTravelers, 'type': 'error'}
};
};
var _initializeMetaLang = function () {
var metaLangElem = that.widgetElement.querySelector('.localizationMetaLang');
that.metaLang = {
dateFuture: metaLangElem.getAttribute('data-date-future'),
dateRelative: metaLangElem.getAttribute('data-date-relative'),
dateFar: metaLangElem.getAttribute('data-date-far'),
dateMissing: metaLangElem.getAttribute('data-date-missing'),
airport: metaLangElem.getAttribute('data-airport'),
airportsSame: metaLangElem.getAttribute('data-airports-same'),
checkEmail: metaLangElem.getAttribute('data-enter-valid-email')
};
};
var _checkDate = function (status, cal, month, day) {
cal = _findSelector('#' + cal);
var visibleDate = cal.innerHTML;
var date;
var r = visibleDate.match(DATE_FORMAT.pattern);
if (r) {
var nd = parseInt(r[DATE_FORMAT.date].replace(/^0/, ''), 10);
var nm = parseInt(r[DATE_FORMAT.month].replace(/^0/, ''), 10);
var ny = parseInt(r[DATE_FORMAT.year].replace(/^0/, ''), 10);
if (nd > 0 && nd < 32 && nm > 0 && nm < 13) {
if (nd < 10) {
nd = '0' + nd;
}
if (nm < 10) {
nm = '0' + nm;
}
if (ny < 100) {
ny += 2000;
}
_findSelector('#' + day).value = nd;
_findSelector('#' + month).value = nm + "/" + ny;
date = taDate.create(ny, nm - 1, nd);
}
} else {
if (!cal.innerHTML || DATE_FORMAT.pattern.exec(cal.value) === null) {
if (!that.hideErrors) {
_showError(cal, 'dateMissing');
}
status.valid = false;
return;
}
date = _buildDate(month, day);
}
if (date < status.today) {
if (!that.hideErrors) {
_showError(cal, 'dateFuture');
}
status.valid = false;
} else if (status.prev && status.prev > date) {
if (!that.hideErrors) {
_showError(cal, 'dateRelative');
}
status.valid = false;
} else if (date > _getLastDate()) {
if (!that.hideErrors) {
_showError(cal, 'dateFar');
}
status.valid = false;
}
status.prev = date;
};
var _checkAirport = function (status, errId, txtId) {
var airport = _findSelector('#' + txtId).value;
if (!airport || airport.length !== 3) {
if (!that.hideErrors) {
_showError(_findSelector('#' + errId), 'airport');
}
status.valid = false;
}
};
var _checkAirportsSame = function (status, errId1, txtId1, errId2, txtId2) {
var airport1 = _findSelector('#' + txtId1).value;
var airport2 = _findSelector('#' + txtId2).value;
if (airport1 && airport2 && airport1 === airport2) {
if (!that.hideErrors) {
_showError(_findSelector('#' + errId1), 'airportsSame');
_showError(_findSelector('#' + errId2), 'airportsSame');
}
status.valid = false;
}
};
var _checkEmail = function(status) {
var emailNode = _findSelector('#airwatchCheckboxEmail');
var email = emailNode ? emailNode.value : '';
if (!email) {
status.valid = false;
}
var atpos = email.indexOf("@");
var dotpos = email.lastIndexOf(".");
status.valid = atpos > 1 && dotpos > atpos + 2 && dotpos + 2 < email.length;
return status.valid;
};
var _getAdultsAndSeniors = function () {
var adultsNumber = parseInt(_findSelector('#' + FORM_CONTROL_IDS.FLIGHTS_ADULTS_NUMBERS).value);
var seniorsNumber = parseInt(_findSelector('#' + FORM_CONTROL_IDS.FLIGHTS_SENIORS_NUMBERS).value);
return adultsNumber + seniorsNumber;
};
var _validateInput = function () {
_clearErrors();
var dToday = new Date();
taDate.normalize(dToday);
return {
prev: null,
today: dToday,
valid: _verifyChildrenAges()
};
};
var _initCardsSearchForms = function() {
var allCardSearchForms = $('.card_searchForm');
allCardSearchForms.each( function(idx, e) {
var itemNo = idx + 1;
$('.locationInfo input', e).each( function(i, ce) {
var idParams = ce.id.split('_');
var offset = itemNo + "" + idParams[1].slice(-1);
ce.id = idParams[0] + "_" + offset + "_" + idParams[2];
});
$('.dateInfo span', e).each( function(i, ce) {
var idParams = ce.id.split('_');
var offset = itemNo + "" + idParams[3].slice(-1);
ce.id = "date_picker" + "_" + idParams[2] + "_" + offset;
});
var sf = $('.searchForm', e);
if ( sf ) {
sf.addClass('cardSearchForm');
}
});
};
this.init = function (widget, searchCallback) {
that.widget = widget;
that.widgetElement = widget.element;
that.searchCallback = searchCallback;
_initializePeopleStrings();
_initializeMessages();
_initializeMetaLang();
_checkTravelerErrors();
};
this.canUseLocalStore = _canUseLocalStore;
this.typeahead = _typeahead;
this.getAdultsAndSeniors = _getAdultsAndSeniors;
this.buildQueryString = _buildQueryString;
this.showError = _showError;
this.validateInput = _validateInput;
this.checkDate = _checkDate;
this.checkAirport = _checkAirport;
this.checkEmail = _checkEmail;
this.checkAirportsSame = _checkAirportsSame;
this.formatDateMetaUrl = _formatDateMetaUrl;
this.addThaiCalendarOffsetIfNecessary = _addThaiCalendarOffsetIfNecessary;
this.buildDate = _buildDate;
this.getTravelersUrlParams = _getTravelersUrlParams;
this.keepTravelerParams = _keepTravelerParams;
this.restoreTravelerParams = _restoreTravelerParams;
this.handleSelectChange = _handleSelectChange;
this.showTravelerPopup = _showTravelerPopup;
this.hideTravelerPopup = _hideTravelerPopup;
this.increaseTravelerNumber = _increaseTravelerNumber;
this.decreaseTravelerNumber = _decreaseTravelerNumber;
this.initCardsSearchForms = _initCardsSearchForms;
};
return {
IDS: FORM_CONTROL_IDS,
TRIP_TYPES: TRIP_TYPES,
FlightSearchFormController: FlightSearchFormController
};
});
require(['ta/prwidgets'], function(widgets) {
var define = widgets.define.bind(widgets,'flights_logo_checkbox_searchform','handlers',['handlers']);
/*
 * Widgetized version of logo checkboxes (LCB) that works with the TripSearch form
 *
 * @author jkeck
 * @since May 1, 2017
 */
define(["widget", "ta", "ta/page", "lib/jquery-amd",
    "flights/flight_search_results/FlightSearchForm"],
  function(widget, ta, taPage, $,
           FlightSearchForm) {

    // the keys are values of flights/flight_search_results/FlightSearchForm::TRIP_TYPES
  var TRIP_TYPE_MAP = {
    roundTrip: '2',
    oneWay: '1',
    multiCity: '4'
  };

  var TRIP_TYPE_SELECTION_KEY = 'lander_trip_type_selection';
  var _baseElmt = widget.element;
  var _airports = {orig: '', dest: ''};
  var _tripType = FlightSearchForm.TRIP_TYPES.ROUND_TRIP;
  var _cosNum = taPage.travelerInfo.getClassOfService() || "0";
  var _cache = {};
  var _inLightbox = _baseElmt.classList.contains('inLightbox');
  var _rtOnly = _baseElmt.classList.contains('rtOnly');

  /**
   * Check all checkboxes (or if they're all checked, uncheck all)
   */
  var _selectAll = function() {
    var inpts = _baseElmt.querySelectorAll('input[type="checkbox"]');
    var val = ![].every.call(inpts, function(item) {
      return item.checked;
    });
    [].forEach.call(inpts, function(el) {
      el.checked = val;
    });
  };

  var _getTripTypeBit = function() {
    return TRIP_TYPE_MAP[_tripType];
  };

  var _getCacheIndex = function(od) {
    var tt =_getTripTypeBit();
    return [od, tt, _cosNum].join('.')
  };

  /* Replaces _baseElmt with the fresh version
   * @param fresh - string for new DOM element
   */
  var _refreshContent = function(fresh) {
    var div = document.createElement('div');
    div.innerHTML = fresh;
    var newDiv = div.firstChild;

    _baseElmt.parentNode.replaceChild(newDiv, _baseElmt);
    _baseElmt = newDiv;

    // queue add-listener until after dom updates
    setTimeout(function() {
      var selectAll = _baseElmt.querySelector(".selectAll");
      if (selectAll) {
        selectAll.addEventListener("click", _selectAll);
      }
    }, 0);
  };

  // if we haven't already seen this O-D + CoS + TripType, then use ajax to fetch from server
  // ortherwise, get the old providers from our in-memory cache
  var _getNewOrCachedLcbs = function(orig, dest) {
    if (orig === dest) {
      _refreshContent("<span></span>");
      return;
    }
    var od = _getCacheIndex(orig + dest);
    if (_cache.hasOwnProperty(od)) {
      _refreshContent(_cache[od]);
      return;
    }

    var options = {
      noScript: true,
      orig: orig,
      dest: dest,
      cos: _cosNum,
      lb: _inLightbox,
      tt: _getTripTypeBit()
    };

    var url = "/OverlayWidgetAjax?Mode=FLIGHTS_LOGO_CHECKBOX_SEARCHFORM&metaReferer=" + encodeURIComponent(pageServlet);

    $.ajax ({
      method: 'GET',
      url : url,
      data : options
    })
      .done( function ( resp ) {
          _refreshContent(resp);
          _baseElmt.setAttribute("data-index", od);
          _cache[od] = _baseElmt.outerHTML;
      });
  };

  var _odChangeHandler = function(airportData) {
    if (airportData['detail'].iata === _airports[airportData['detail'].ind]) {
      return;
    }
    _airports[airportData['detail'].ind] = airportData['detail'].iata;
    _getNewOrCachedLcbs(_airports.orig, _airports.dest);
  };

  var _ttChangeHandler = function(data) {
    _updateTripType(data.detail.tt);
  };

  var _updateTripType = function(newTripType) {
    if (_tripType === newTripType) {
      return;
    }
    _tripType = newTripType;
    _getNewOrCachedLcbs(_airports.orig, _airports.dest);
  };

  var _cosChangeHandler = function(data) {
    _cosNum = data.detail.cos;
    _getNewOrCachedLcbs(_airports.orig, _airports.dest);
  };

  // listen for changes in typeaheads, trip-type tabs, and class of service
  if (_inLightbox) {
    document.addEventListener('lb_odChange', _odChangeHandler);
    document.addEventListener('lb_cosChange', _cosChangeHandler);
  } else {
    document.addEventListener('odChange', _odChangeHandler);
    document.addEventListener('triptypeChange', _ttChangeHandler);
    document.addEventListener('cosChange', _cosChangeHandler);
  }

  var selectAll = _baseElmt.querySelector(".selectAll");
  if(selectAll) {
    selectAll.addEventListener("click", _selectAll);
  }

  // get initial OD
  var _searchForm = document.querySelector('[data-prwidget-name=flights_trip_search_form]');
  if (_inLightbox) {
      _searchForm = document.querySelector('[data-prwidget-name=flights_trip_lander_lightbox]');
  }
  else if(_rtOnly) {
    _searchForm = document.querySelector('[data-prwidget-name=flights_rt_only_search_form]')
  }
  var taw = _searchForm.querySelector('[data-prwidget-name=flights_trip_search_typeahead]');
  if (taw) {
    var orig = taw.querySelector(".orig.ui_typeahead .value");
    var dest = taw.querySelector(".dest.ui_typeahead .value");
    _airports.orig = orig.value;
    _airports.dest = dest.value;

    // cache the initial LCBs
    if (orig.value && dest.value && orig.value !== dest.value) {
      var ind = _getCacheIndex(_airports.orig + _airports.dest);
      _baseElmt.setAttribute("data-index", ind);
      _cache[ind] = _baseElmt.outerHTML;
    }
  }

  // Ensure trip type agrees with parent form
  if (ta.util.sessionStorage && ta.util.sessionStorage.canUseSessionStore()) {
    var storedTripType = sessionStorage.getItem(TRIP_TYPE_SELECTION_KEY);
    if (storedTripType) {
      _updateTripType(storedTripType);
    }
  }

  return {
    selectAll: _selectAll
  };
});
});
define('flights/FlightsUtils', ['ta', 'lib/jquery-amd', 'ta/util/Error'],
function (ta, $, taError) {
'use strict';
var _isDefinedNotNull = function (obj) {
return obj !== null && typeof (obj) != 'undefined';
};
var _isUndefinedOrNull = function (obj) {
return obj === null || typeof (obj) == 'undefined';
};
function _localize(key) {
if (_isUndefinedOrNull(key)) {
ta.log.error(null, "flight localize: cannot find translation without valid key");
}
var translation = ta.retrieve(key);
if (_isUndefinedOrNull(translation)) {
ta.log.error(null, "flight localize: missing translation for key=$(" + key + ")");
}
return translation;
}
var _findParentWithClass = function(el, cls, maxlevel) {
var i = 0;
var isStillUnderMax = function() {
return typeof maxlevel !== 'number' || i++ < maxlevel;
};
while ( (el = el.parentElement) && isStillUnderMax() ) {
if (el.className === cls) {
return el;
}
}
return null;
};
var _extractSubTrackingTree = function(documentNode) {
var subTreeString = '';
var slashCount = 1;
var childNodes = documentNode.childNodes;
for (var i = 0; i < childNodes.length; i++) {
if (childNodes[i].nodeType == 8) {
var nodeValue = childNodes[i].nodeValue;
if (nodeValue.match(/^trk(.*)/)) {
var matchedString = nodeValue.match(/^trk(.*)/)[1];
subTreeString += '/' + matchedString;
slashCount = matchedString.match(/\//g) ? matchedString.match(/\//g).length + 1 : 1;
} else if (nodeValue.match(/^etk$/)) {
for (var j = 0; j < slashCount; j++) {
subTreeString += '\\';
}
slashCount = 1;
}
} else if (childNodes[i].nodeType == 1) {
subTreeString += _extractSubTrackingTree(childNodes[i]);
}
}
return subTreeString;
};
var _compactTree = function(trackingTree) {
trackingTree = trackingTree.split('\\/').join('\\');
trackingTree = trackingTree.replace(/^\/+/, '');
trackingTree = trackingTree.replace(/\\+$/, '');
return trackingTree;
};
var _extractTrackingTree = function(documentNode) {
return _compactTree(_extractSubTrackingTree(documentNode));
};
var _getUrlGeoCode = function () {
var geos = /g(\d+)/.exec(window.location);
if (geos) {
return geos[1];
}
else {
return 1;
}
};
var _handleChromeTabUnderBlocking = function(lcbUrl, container) {
$.ajax({
url: lcbUrl,
type: 'GET',
dataType: 'html',
async: true,
success: function (data, textStatus, jqXHR) {
if (textStatus === "success") {
container.write(data);
} else {
taError.record("Chrome tab-under. lcbUrl: " + lcbUrl + " status: " + textStatus + " data: " + typeof data === "string" ? data.substring(0, 500) : "");
}
},
error: function(jqXHR, textStatus, errorMessage) {
taError.record("Chrome tab-under. lcbUrl: " + lcbUrl + " error: " + errorMessage);
}
});
};
return {
localize: _localize,
isDefinedNotNull: _isDefinedNotNull,
isUndefinedOrNull: _isUndefinedOrNull,
findParentWithClass: _findParentWithClass,
extractTrackingTree: _extractTrackingTree,
getUrlGeoCode: _getUrlGeoCode,
handleChromeTabUnderBlocking: _handleChromeTabUnderBlocking
};
});

define('flights/landers/FlightsTripSearchForm', ['ta', 'lib/jquery-amd', 'flights/flight_search_results/FlightSearchForm',
'flights/FlightsUtils', 'ta/Core/TA.LocalStorage'],
function (ta, $, FlightSearchForm,
FlightsUtils, taLocalStorage) {
var TRIP_TYPES = FlightSearchForm.TRIP_TYPES;
var flightSearchForm = new FlightSearchForm.FlightSearchFormController();
var _isLoggedIn = function() {
var authorized = false;
$.ajax({
url: '/AuthCheck',
data: { },
async: false,
type: 'GET',
success: function (response) {
if ('string' !== typeof response) {
return;
}
if ('true' === response.trim()) {
authorized = true;
}
}
});
return authorized;
};
var _getAirportUrlParams = function (airports) {
if(!airports) {
return "";
}
var airportParams = {};
airports.forEach(function (airport, idx) {
airportParams['airport' + idx] = airport;
});
return airportParams;
};
var _getTravelersUrlParams = function (adult, senior, children) {
var paxParams = {};
var count = 0;
for (var i = 0; i < adult; i++) {
paxParams['pax' + count] = 'a';
count++;
}
for (i = 0; i < senior; i++) {
paxParams['pax' + count] = 's';
count++;
}
for (i = 0; i < children.length ; i++) {
paxParams['pax' + count] = children[i];
count++;
}
paxParams['travelers'] = count;
return paxParams;
};
var _keepTravelerParams = function (adult, senior, children) {
if (taLocalStorage.enabled) {
try {
taLocalStorage.set('adultsNumbers', adult);
taLocalStorage.set('seniorsNumbers', senior);
taLocalStorage.set('childrenNumbers', children.length);
for (var i = 0; i < children.length; i++) {
var age = children[i];
var ageVal = age === 0 ? '< 1' : age;
taLocalStorage.set('childAgeSelectIndex' + i, age + 1);
taLocalStorage.set('childAgeValue' + i, ageVal);
taLocalStorage.set('childAgeValueHidden' + i, ageVal);
}
} catch (e) {
}
}
};
var _getDatesUrlParams = function (tripType) {
var dates = {};
if(tripType === TRIP_TYPES.ONE_WAY) {
var oneWay = ta.page.getDates("ONEWAYFLIGHT");
if (typeof(oneWay) === 'undefined') return dates;
dates['date0'] = flightSearchForm.formatDateMetaUrl(new Date(oneWay));
} else if (tripType === TRIP_TYPES.ROUND_TRIP) {
var depDate = ta.page.getDates("DEPARTURE");
var retDate = ta.page.getDates("RETURN");
if(typeof(depDate) === 'undefined' || typeof(retDate) === 'undefined') return dates;
dates['date0'] = flightSearchForm.formatDateMetaUrl(new Date(depDate));
dates['date1'] = flightSearchForm.formatDateMetaUrl(new Date(retDate));
}
return dates;
};
var _buildQueryString = function (servlet, params) {
var url = servlet;
var first = true;
$.each(params, function (key, value) {
if (!first) {
url += '&';
} else {
first = false;
}
url += key + '=' + value;
});
return url;
};
var _closeCosPassengerFlyout = function () {
$('.ui_overlay:has(.cosPassengerPopover)').detach();
};
return {
isLoggedIn : _isLoggedIn,
getGeoCode : FlightsUtils.getUrlGeoCode,
getAirportUrlParams : _getAirportUrlParams,
getTravelersUrlParams : _getTravelersUrlParams,
keepTravelerParams : _keepTravelerParams,
buildQueryString : _buildQueryString,
getDatesUrlParams : _getDatesUrlParams,
flightSearchForm : flightSearchForm,
closeCosPassengerFlyout: _closeCosPassengerFlyout
}
});require(['ta/prwidgets'], function(widgets) {
var define = widgets.define.bind(widgets,'flights_trip_search_form','handlers',['handlers']);
/**
 * Created by svenkatesh on 3/27/17.
 */
define([
    "widget",
    "ta",
    "api-mod",
    "lib/jquery-amd",
    "flights/flight_search_results/FlightSearchForm",
    "flights/landers/FlightsTripSearchForm",
    "ta/Core/TA.LocalStorage",
    "ta/Core/TA.Store",
    'utils/urlutils',
    "utils/browserutils",
    "ta/Core/TA.Record",
    "mixins/page-dates/MultiCity",
    "flights/FlightsUtils",
    "ta/Core/TA.FireEvent",
    "ta/registration/RegEvents"
  ],
  function (widget, ta, api, $, FlightSearchForm, FlightsTripSearchForm, localStorage, taStore, UrlUtils,
            BrowserUtils, taRecord, MultiCity, flightsUtils, taEvent, RegEvents) {
    'use strict';
    var widgetElem = widget.element;
    var MULTI_CITY_DATE_TYPES = ["ONEWAYFLIGHT", "LEG_1", "LEG_2", "LEG_3"];
    var TRIP_TYPE_SELECTION_KEY = 'lander_trip_type_selection'; // used to store & retrieve tripType selection from sessionStorage
    var clickedAlreadyDataAttr = "data-clickedalready";
    var mediaQuery = window.matchMedia("(max-width: 767px)");
    var searchFormData = $(".searchFormData")[0];
    var isMobile = (searchFormData) && (searchFormData.getAttribute("data-is-mobile") === 'true');
    var servletName = (searchFormData) && searchFormData.getAttribute("data-servlet-name");
    var AIRWATCH_PID = isMobile ? 39913 : 40064;
    var airwatchData = $('.airwatch')[0];
    AIRWATCH_PID = (airwatchData) ? airwatchData.getAttribute('data-aw-checkbox-pid') : AIRWATCH_PID;
    var SEARCH_SERVLET = "/CheapFlightsSearchResults?";
    var IS_USER_LOGGED_IN = FlightsTripSearchForm.isLoggedIn();

    var CABIN_TYPE_ECONOMY = 0;
    var CABIN_TYPE_PREMIUM_ECONOMY = 3;

    var TRIP_TYPES = FlightSearchForm.TRIP_TYPES;
    var TRIP_TYPE = TRIP_TYPES.ROUND_TRIP;

    var _airports = {orig: '', dest: ''};
    //Current class of service selection
    var _cabin = CABIN_TYPE_ECONOMY;
    //An array of the ages of children
    var _traveler_children = [];
    var _traveler_adult = 1;
    var _traveler_senior = 0;
    var validCosPaxDetails = true;

    // Multicity vars
    var MAX_MULTI_CITY_ROWS = 4;
    var MC_TAB_INDEX_OFFSET = 20;
    var _mcRows;
    var _mcVisibleRowCount = 0;
    var _mcAddBtn;
    var _mcRemoveBtn;

    var _awCheckBoxElmt = $("#aw-checkbox")
      , _awCheckBoxNoCityElmt = $("#aw-checkbox-no-city")
      , _awEmailElmt = $(".aw-email")
      , _canUseSessionStore = ta.util.sessionStorage && ta.util.sessionStorage.canUseSessionStore()
      , _tabletMinWidth = '768px'
      , _tabletMaxWidth = '1023px'
      , _tabletOnlyMediaQuery = window.matchMedia(
        "(min-width: " + _tabletMinWidth + ")" +
        "and (max-width: " + _tabletMaxWidth + ")")
      , tripSearchElmt = $(widgetElem).find('.trip_search')
      , submitBtn = $(widgetElem).find('.submit_wrap')
      , _roundTripContainer = widgetElem.querySelector('.tabContent.roundTrip')
      , _oneWayContainer = widgetElem.querySelector('.tabContent.oneWay')
      , _awLabelWithCities = $(widgetElem).find('#awCheckboxLabel')
      , _awLabelNoCities = $(widgetElem).find('#awCheckboxNoCityLabel')
      , _compactContainer = widgetElem.querySelector('.compactContainer')
      , _roundTripTypeahead = widgetElem.querySelector('.rtTypeahead')
      , _tripType
    ;

    if (_compactContainer) {
      var ONEWAY_DATE_TYPE = 'ONEWAYFLIGHT';
      var DEPART_DATE_TYPE = 'DEPARTURE';
      var RETURN_DATE_TYPE = 'RETURN';
      var _pagePane = widgetElem.querySelector('.pagePane');
      var _searchBtn = $(widgetElem).find('.searchBtn');
      var _bottomSubmitWrap = widgetElem.querySelector('.bottom_submit_wrap');
      var _oneWayTypeahead = widgetElem.querySelector('.owTypeahead');
      var _origValElems = [
        _roundTripTypeahead.querySelector(".orig.ui_typeahead .value"),
        _oneWayTypeahead.querySelector(".orig.ui_typeahead .value")
      ];
      var _origTextElems = [
        _roundTripTypeahead.querySelector(".orig.ui_typeahead .query"),
        _oneWayTypeahead.querySelector(".orig.ui_typeahead .query")
      ];
      var _destValElems = [
        _roundTripTypeahead.querySelector(".dest.ui_typeahead .value"),
        _oneWayTypeahead.querySelector(".dest.ui_typeahead .value")
      ];
      var _destTextElems = [
        _roundTripTypeahead.querySelector(".dest.ui_typeahead .query"),
        _oneWayTypeahead.querySelector(".dest.ui_typeahead .query")
      ];
      _traveler_adult = ta.page.travelerInfo.getAdults();
      _traveler_senior = ta.page.travelerInfo.getSeniors();
      _traveler_children = ta.page.travelerInfo.getChildAges();
      _cabin = ta.page.travelerInfo.getClassOfService();
      var _submittedVals = {
        orig: _origValElems[0].value,
        origText: _origTextElems[0].value,
        dest: _destValElems[0].value,
        destText: _destTextElems[0].value,
        cosPax: {
          adults: _traveler_adult,
          seniors: _traveler_senior,
          childAges: _traveler_children.slice(),
          classOfService: _cabin
        }
      };

      if (_oneWayContainer.classList.contains('active')) {
        _tripType = TRIP_TYPES.ONE_WAY;
        _submittedVals.oneWayDate = ta.page.getDates(ONEWAY_DATE_TYPE);
      }
      else if (widgetElem.querySelector('.tabContent.multiCity').classList.contains('active')) {
        _tripType = TRIP_TYPES.MULTI_CITY;
      }
      else {
        _tripType = TRIP_TYPES.ROUND_TRIP;
        _submittedVals.departDate = ta.page.getDates(DEPART_DATE_TYPE);
        _submittedVals.returnDate = ta.page.getDates(RETURN_DATE_TYPE)
      }
    }
    else {
      _tripType = (_canUseSessionStore && sessionStorage.getItem(TRIP_TYPE_SELECTION_KEY)) || TRIP_TYPES.ROUND_TRIP;
    }

    function _addTabStyles () {
      if (_compactContainer) {
        return;
      }

      // Make the widget multi-line, since resizing removes it
      tripSearchElmt
        .addClass('is-multiline');

      submitBtn
        .addClass('is-12');
    }

    function _removeTabStyles () {
      tripSearchElmt
        .removeClass('is-multiline');

      submitBtn
        .removeClass('is-12');
    }

    /**
     * Since Flights has a much wider search widget as compared to other teams - Hotels,
     * Vacation Rentals, Restaurants, etc. we make a multiline grid by tweaking the styles
     * for ui_columns for flights_trip_search_form
     */
    function tweakTabStyles () {
      if(_tabletOnlyMediaQuery.matches && TRIP_TYPE !== TRIP_TYPES.MULTI_CITY) {
        _addTabStyles();
        return;
      }

      _removeTabStyles();
    }

    tweakTabStyles();
    $(window).resize(tweakTabStyles);

    /**
     * Helper method to
     *  - copy OD from old tab to new tab
     *  - set the selected tab class to active and disable the
     *    other tabs from being active for that specific trip type.
     */
    var _setActiveTab = function (tabClass, tripType) {
      // copy OD info from old tab to new tab
      var origEl = $(".tabContent.active .orig", widgetElem);
      var destEl = $(".tabContent.active .dest", widgetElem);
      var origCode = $(".value", origEl).val();
      var origName = $(".query", origEl).val();
      var origClicked = $(".query", origEl).attr(clickedAlreadyDataAttr);
      var destCode = $(".value", destEl).val();
      var destName = $(".query", destEl).val();
      var destClicked = $(".query", destEl).attr(clickedAlreadyDataAttr);
      var origLabelWidth = _getLabelWidth($(".query", origEl));
      var destLabelWidth = _getLabelWidth($(".query", destEl));

      origEl = $(".tabContent:not(.active) .orig", widgetElem);
      destEl = $(".tabContent:not(.active) .dest", widgetElem);
      $(".value", origEl).val(origCode);
      $(".query", origEl).val(origName);
      $(".query", origEl).attr(clickedAlreadyDataAttr,origClicked);
      $(".value", destEl).val(destCode);
      $(".query", destEl).val(destName);
      $(".query", destEl).attr(clickedAlreadyDataAttr,destClicked);
      _showAirportLabels($(".query", origEl), origLabelWidth);
      _showAirportLabels($(".query", destEl), destLabelWidth);
      // switch active and inactive tabs
      $(tabClass, widgetElem).each(function (idx) {
        if ($(this).hasClass(tripType)) {
          $(this).addClass('active');
        }
        else {
          $(this).removeClass('active');
        }
      });
    };

    /**
     * Performs the select all operation for the providers.
     */
    var _selectAll = function () {
      $(".providers", widgetElem).find('input').each(function (idx) {
        if(!$(this).is(':checked')) {
          var label = $("label[for='"+this.id+"']");
          label.click();
        }
      });
    };

    /**
     * This is called everytime a search type is changed 
     * This controls all the element states 
     */
    var _setSearchType = function (tripType, event) {
      if (TRIP_TYPE === TRIP_TYPES.MULTI_CITY && _mcRows) {
        _collectMultiCityValues();
      }
      if (_compactContainer) {
        if (tripType === TRIP_TYPES.MULTI_CITY) {
          _bottomSubmitWrap.classList.add(TRIP_TYPES.MULTI_CITY);
        }
        else if (TRIP_TYPE === TRIP_TYPES.MULTI_CITY) {
          _bottomSubmitWrap.classList.remove(TRIP_TYPES.MULTI_CITY);
        }
      }
      if (event && event.preventDefault) {
        event.preventDefault();
      }
      TRIP_TYPE = tripType;
      if (_canUseSessionStore) {
        sessionStorage.setItem(TRIP_TYPE_SELECTION_KEY, tripType);
      }
      // remove 'active' from all tabs
      _setActiveTab(".ui_tab", tripType);
      // remove 'active' from all tabContent
      _setActiveTab(".tabContent", tripType);
      if (TRIP_TYPE === TRIP_TYPES.ONE_WAY) {
        $('.airwatch').hide();
        $('.aw-email').hide();
        $('.additionalOptions').addClass("oneWay").removeClass("hidden");
        _getOrigAndDestElements(_oneWayContainer).clearError();
      }
      else if (TRIP_TYPE === TRIP_TYPES.ROUND_TRIP) {
        $('.airwatch').show();
        if(!IS_USER_LOGGED_IN) {
          $('.aw-email').show();
        }
        $('.additionalOptions').removeClass("oneWay hidden");
        _getOrigAndDestElements(_roundTripContainer).clearError();
      }
      else if (TRIP_TYPE === TRIP_TYPES.MULTI_CITY) {
        if (!_mcRows) {
          _initMultiCity();
        }
        ta.page.multiCityDates.clearInvalidDates();
        _mcRows.forEach(function(r) {
          r.restoreAirportInputs();
        });
        $('.additionalOptions').addClass("hidden");
      }
      var event= document.createEvent('CustomEvent');
      event.initCustomEvent('triptypeChange', true, true, {tt: tripType});
      taRecord.trackEventOnPage('TripSearch', 'SELECT', 'FL_TS_' + tripType.toLocaleUpperCase() , 1, false);
      tweakTabStyles();
      document.dispatchEvent(event);
    };

    /**
     * FLT-18263 Show or hide labels when OD values change
     */
    var _showAirportLabels = function (elmt, labelWidth) {
      var label = elmt.parent().find('label');
      if (label) {
        if (elmt.val()) {
            label.show();
            var wLabel = labelWidth ? labelWidth : label.width();
            elmt.css("width", "calc(100% - 15px - " + Math.ceil(wLabel) + "px)");
        } else {
            label.hide();
        }
      }
    };

    var _getLabelWidth = function (elmt) {
      var label = elmt.parent().find('label');
      return label ? label.width() : 0;
    };

    /**
     * Initialization to be performed the first time Multi-city is selected
     */
    var _initMultiCity = function() {
      _initMultiCitySummary();
      _mcRows = [];
      _mcAddBtn = widget.element.querySelector(".addFlight");
      _mcRemoveBtn = widget.element.querySelector(".removeFlight");
      _mcAddBtn.onclick = _multiCityAddFlight;
      _mcRemoveBtn.onclick = _multiCityRemoveFlight;
      for (var i = 0; i < MAX_MULTI_CITY_ROWS; i++) {
        var rowElem = widget.element.querySelector("#multiCityRow" + (i + 1));
        var row = new MultiCityRow(rowElem, i);
        _mcRows.push(row);
        if (!rowElem.classList.contains("hidden")) {
          _mcVisibleRowCount++;
        }
        if (i > 0) {
          row.clear();
        }
      }
      _mcAdjustTabIndex(widget.element.querySelector(".mcBottomRow .cosPassengerPicker"), MAX_MULTI_CITY_ROWS-1);
    };

    /**
     * Initialization of multicity summary view for compact display variant.
     */
    var _initMultiCitySummary = function() {
      if (!_compactContainer) {
        return;
      }
      var mcSummaryElem = _compactContainer.querySelector('.compactMulticitySummary');
      var mcSegments = JSON.parse(mcSummaryElem.getAttribute('data-multicitydata'));
      if (!mcSegments) {
        return;
      }
      _submittedVals.multiCity = [];
      for (var i = 0; i < mcSegments.length; i++) {
        var mcSeg = mcSegments[i];
        if (i > 0) {
          _storeMultiCityAirports(i, mcSeg.origCode, mcSeg.origText, mcSeg.destCode, mcSeg.destText);
        }
        var segDate = [new Date(mcSeg.date)];
        _submittedVals.multiCity.push({
          origCode: mcSeg.origCode,
          origText: mcSeg.origText,
          destCode: mcSeg.destCode,
          destText: mcSeg.destText,
          date: segDate
        });
        ta.page.pushDates(null, MULTI_CITY_DATE_TYPES[i], segDate);
      }
    };

    var _storeMultiCityAirports = function(rowIndex, origCode, origText, destCode, destText) {
      if (_canUseSessionStore) {
        window.sessionStorage.setItem('multiCity-from-row-' + rowIndex, origCode + '|' + origText);
        window.sessionStorage.setItem('multiCity-to-row-' + rowIndex, destCode + '|' + destText);
      }
    };

    /**
     * Constructor for multi-city row.
     */
    var MultiCityRow = function(rowElem, rowIndex) {
      var _origValInput = rowElem.querySelector(".orig.ui_typeahead .value");
      var _origTextInput = rowElem.querySelector(".orig.ui_typeahead .query");
      var _destValInput = rowElem.querySelector(".dest.ui_typeahead .value");
      var _destTextInput = rowElem.querySelector(".dest.ui_typeahead .query");
      var _datePickerElem = rowElem.querySelector(".mcDatePicker .unified-picker");
      var _dateType = MULTI_CITY_DATE_TYPES[rowIndex];
      var _origCode;
      var _origText;
      var _destCode;
      var _destText;
      var _date = ta.page.hasDates(_dateType) ? ta.page.getDates(_dateType)[0] : null;

      ta.page.on('dateSelected', function(target, dateType, date) {
        if (dateType === _dateType) {
          _date = date[0];
          _clearErrorStatus();
        }
      });

      var _airportFromSessionStorage = function(key, consumer) {
        var storedVal = window.sessionStorage.getItem(key);
        if (!storedVal) {
         return;
        }
        var codeAndText = storedVal.split('|');
        if (codeAndText.length !== 2) {
         return;
        }
        consumer(codeAndText[0], codeAndText[1]);
      };
      
      var _clear = function() {
        _origValInput.value = '';
        _destValInput.value = '';
        _origTextInput.value = '';
        _destTextInput.value = '';
        _collectAirportValues();
      };

      var _clearErrorStatus = function() {
        _datePickerElem.parentNode.classList.remove("error");
      };

      var _collectAirportValues = function() {
        _origCode = _origValInput.value;
        _origText = _origTextInput.value;
        _destCode = _destValInput.value;
        _destText = _destTextInput.value;
      };

      var _collectAndStoreValues = function() {
        _collectAirportValues();
        if (rowIndex > 0) {
          _storeMultiCityAirports(rowIndex, _origCode, _origText, _destCode, _destText);
        }
      };

      var _hide = function() {
        rowElem.classList.add("hidden");
        _clear();
      };

      var _restoreAirportInputs = function() {
        if (rowIndex > 0 && _canUseSessionStore) {
          _airportFromSessionStorage('multiCity-from-row-' + rowIndex, function (code, text) {
            _origCode = code;
            _origText = text;
          });
          _airportFromSessionStorage('multiCity-to-row-' + rowIndex, function (code, text) {
            _destCode = code;
            _destText = text;
          });
        }
        if (rowElem.classList.contains("hidden") && _origCode && _origText && _destCode && _destText) {
          _show();
          _mcVisibleRowCount++;
        }
        _origValInput.value = _origCode;
        _destValInput.value = _destCode;
        _origTextInput.value = _origText;
        _destTextInput.value = _destText;
        _showAirportLabels($(_origTextInput));
        _showAirportLabels($(_destTextInput));
      };

      var _revertAirportsIfChanged = function(savedSeg) {
        var changed;
        if (savedSeg.origCode !== _origValInput.value) {
          changed = true;
          _origValInput.value = savedSeg.origCode;
          _origTextInput.value = savedSeg.origText;
        }
        if (savedSeg.destCode !== _destValInput.value) {
          changed = true;
          _destValInput.value = savedSeg.destCode;
          _destTextInput.value = savedSeg.destText;
        }
        if (changed) {
          _collectAndStoreValues();
        }
      };

      var _show = function() {
        rowElem.classList.remove("hidden");
      };

      var _showDateError = function() {
        _datePickerElem.parentNode.classList.add("error");
      };

      _collectAirportValues();
      _mcAdjustTabIndex(_origTextInput, rowIndex);
      _mcAdjustTabIndex(_destTextInput, rowIndex);
      _mcAdjustTabIndex(_datePickerElem, rowIndex);

      if (rowIndex > 0) {
        var prevRow = _mcRows[rowIndex - 1];

        // On focus, default origin to previous segment's destination
        _origTextInput.onfocus = function() {
          if ((!_origTextInput.value || !_origTextInput.value.trim()) && prevRow.destValInput.value)
          {
            _origValInput.value = prevRow.destValInput.value;
            _origTextInput.value = prevRow.destTextInput.value;
            _origTextInput.setSelectionRange(0, _origTextInput.value.length);
            _origTextInput.parentNode.classList.remove("error");
            _showAirportLabels($(_origTextInput));
          }
        };
      }

      return {
        clear: _clear,
        clearErrorStatus: _clearErrorStatus,
        collectAndStoreValues: _collectAndStoreValues,
        destValInput: _destValInput,
        destTextInput: _destTextInput,
        getOrigCode: function() { return _origCode; },
        getDate: function() { return _date; },
        getDestCode: function() { return _destCode; },
        getRowElement: function() { return rowElem; },
        hide: _hide,
        restoreAirportInputs: _restoreAirportInputs,
        revertAirportsIfChanged: _revertAirportsIfChanged,
        show: _show,
        showDateError: _showDateError
      }
    };

    var _mcAdjustTabIndex = function(elem, mcRowIndex) {
      var tabindex = parseInt(elem.getAttribute('tabindex'));
      if (!tabindex) {
          tabindex = 0;
      }
      elem.setAttribute('tabindex', MC_TAB_INDEX_OFFSET + tabindex + mcRowIndex*3);
    };

    var _multiCityAddFlight = function() {
      if (_mcVisibleRowCount === MAX_MULTI_CITY_ROWS) {
        return;
      }
      if (_mcVisibleRowCount === 1) {
        _mcRemoveBtn.classList.remove("disabled");
      }
      else if (_mcVisibleRowCount + 1 === MAX_MULTI_CITY_ROWS) {
        _mcAddBtn.classList.add("disabled");
      }
      _mcRows[_mcVisibleRowCount++].show();
    };

    var _multiCityRemoveFlight = function() {
      if (_mcVisibleRowCount === 1) {
        return;
      }
      if (_mcVisibleRowCount === 2) {
        _mcRemoveBtn.classList.add("disabled");
      }
      else if (_mcVisibleRowCount === MAX_MULTI_CITY_ROWS) {
        _mcAddBtn.classList.remove("disabled");
      }
      _mcRows[--_mcVisibleRowCount].hide();
    };

    /**
     * Returns search parameters for active multi-city rows, or null if invalid multi-city input is found.
     */
    var _mcValidateAndGetSearchParams = function() {
      var maxRowIndex;
      var mcRow;

      // Disregard trailing empty 0/D rows, but never disregard row 0
      for (maxRowIndex = _mcVisibleRowCount - 1; maxRowIndex > 0; maxRowIndex--) {
        mcRow = _mcRows[maxRowIndex];
        if (mcRow.getOrigCode() || mcRow.getDestCode()) {
          break;
        }
      }

      var invalid = false;
      var airports = {};
      var dates = {};
      for (var i = 0; i <= maxRowIndex; i++) {
        mcRow = _mcRows[i];

        // Airport params
        if (_checkAirportsValidOrShowError(mcRow.getOrigCode(), mcRow.getDestCode(), mcRow.getRowElement())) {
          var oIdx = 2*i;
          var dIdx = oIdx + 1;
          airports['airport' + oIdx] = mcRow.getOrigCode();
          airports['airport' + dIdx] = mcRow.getDestCode();
        }
        else {
          invalid = true;
        }

        // Date params
        var date = mcRow.getDate();
        if (!date || typeof(date) === 'undefined' || (i > 0 && date < _mcRows[i-1].getDate())) {
          mcRow.showDateError();
          invalid = true;
        }
        else {
          dates['date' + i] = FlightsTripSearchForm.flightSearchForm.formatDateMetaUrl(new Date(date));
        }
      }

      if (invalid) {
        return null;
      }
      return {
        airports: airports,
        dates: dates
      }
    };

    var _collectMultiCityValues = function() {
      _mcRows.forEach(function(r) {
        r.collectAndStoreValues();
      });
    };

    /**
     * Redirects flights to flights search result page
     */
    var _redirectToFlightSearch = function (searchUrl, lcbUrl) {
      // disable search button to prevent duplicate searches
      var searchButton = $('.submit');
      searchButton && searchButton.attr('onclick', '');

      if (lcbUrl) {
        taEvent.fireEvent("lcbPop");
        window.open(searchUrl);
        if (taStore.retrieve('chromeTabUnder') && BrowserUtils.chrome && BrowserUtils.version > 63) {
          flightsUtils.handleChromeTabUnderBlocking(lcbUrl, document);
        } else {
          window.location.href = lcbUrl;
        }
      } else {
        taEvent.fireEvent("flightSearchPixelLoad");
        window.location.assign(searchUrl);
      }
    };

    /**
     * Takes an object of logo checkbox search parameters
     * and returns an lcb window url
     */
    var _getProvidersWindowUrl = function (lcbParams) {
      var providers='';
      var count = 0;
      $('.providers').find('input').each(function (idx) {
        if($(this).is(':checked')) {
          providers += this.name.replace("cb_", "&provider" + count + "=");
          count++;
        }
      });

      if(count === 0) {
        return null;
      } else {
        return FlightsTripSearchForm.buildQueryString("/FlightsComparePartners?", lcbParams) + providers;
      }
    };

    /**
     * Performs airwatch signup.
     */
    var _airwatchSignup = function (searchUrl, lcbUrl) {
      if(IS_USER_LOGGED_IN) {
        searchUrl += '&aw=true&pid=' + AIRWATCH_PID;
        _redirectToFlightSearch(searchUrl, lcbUrl);
      }

      var airwatch = $('.airwatch');
      var securityToken = airwatch.attr('data-awSecurityToken');

      var airwatchData = {
        to: _airports.dest,
        from: _airports.orig,
        pid: AIRWATCH_PID,
        token: securityToken,
        email_SIGNIN : $('.aw-email').val()
      };

      $.ajax({
        url: UrlUtils.https('/AirWatchSubscriptionAjax'),
        data: airwatchData,
        async: false,
        dataType: 'json',
        success: function (responseJSON) {
          var status = responseJSON.status;
          if (status === 'success') {
            taRecord.trackEventOnPage('TripSearch', 'pricedrop_update_search', '/AP:' + _airports.orig + "_" + _airports.dest);
            searchUrl += '&forceAwConf=true';
            if (localStorage.enabled && responseJSON.tamgsubsHtml) {
              localStorage.set('airwatch_signup.' + _airports.orig + _airports.dest, 'true');
              localStorage.set('aw-checkbox-cross-sub-placement', responseJSON.tamgsubsHtml.replace(/(\r|\n)/g,""));
            }

            _redirectToFlightSearch(searchUrl, lcbUrl);
          }
        },
        failure: function () {
          _redirectToFlightSearch(searchUrl, lcbUrl);
        },
        error: function () {
          _redirectToFlightSearch(searchUrl, lcbUrl);
        }
      });
    };

    var _checkAirportsValidOrShowError = function(origVal, destVal, scopeElem) {
      var tawOD = _getOrigAndDestElements(scopeElem);
      tawOD.clearError();

      if (origVal === destVal) {
        tawOD.origs.addClass('error');
        tawOD.dests.addClass('error');
        return false;
      }
      if (origVal && destVal) {
        return true;
      }
      if (!origVal) {
        tawOD.origs.addClass('error');
      }
      if (!destVal) {
        tawOD.dests.addClass('error');
      }

      return false;
    };

    var _getOrigAndDestElements = function(scopeElem) {
      var typeahead = scopeElem.querySelector('[data-prwidget-name=flights_trip_search_typeahead]');
      var origs = $(".orig", typeahead);
      var dests = $(".dest", typeahead);
      return {
        origs: origs,
        dests: dests,
        clearError: function() {
          origs.removeClass("error");
          dests.removeClass("error");
        }
      }
    };

    var _areSearchParamsValid = function () {
      var tabContentElem = TRIP_TYPE == TRIP_TYPES.ONE_WAY ? _oneWayContainer : _roundTripContainer;
      var validAirports = _checkAirportsValidOrShowError(_airports.orig, _airports.dest, tabContentElem);
      var validTravelers = _isTravelersValid();
      var dates = FlightsTripSearchForm.getDatesUrlParams(TRIP_TYPE);
      var validDates = TRIP_TYPE === TRIP_TYPES.ONE_WAY || (parseInt(dates['date1']) >= parseInt(dates['date0']));
      return validAirports && validTravelers && validDates && validCosPaxDetails;
    };

    var _isTravelersValid = function() {
      var ntrav = _traveler_adult + _traveler_senior + _traveler_children.length;
      return (_traveler_adult + _traveler_senior > 0) && ntrav < 7;
    };

    /**
     * Validate the email entered.
     *
     * The logic here isn't exhaustive, but just a quick client-side check; more extensive validation done server side
     *
     * Adapted from site/js-amd/src/flights/flight_search_results/FlightSearchForm.js::_checkEmail
     * Logic from flt.common.isValidEmail() in PHP codebase
     */
    var _validEmail = function(emailNode) {
      var email = emailNode ? emailNode.value : '';
      if (!email) {
        return false;
      }

      var atpos = email.indexOf("@");
      var dotpos = email.lastIndexOf(".");
      return atpos > 1 && dotpos > atpos + 2 && dotpos + 2 < email.length;
    };

    /**
     * Search button click handler.
     */
    var _doSearch = function () {
      if (_compactContainer && _searchBtn.attr('disabled')) {
        return;
      }

      if (!validCosPaxDetails) {
          $('.cosPassengerPicker .summaryContainer .flightsTotalTravelers', widgetElem)
              .addClass('error');
        taRecord.trackEventOnPage('PaxSelector-tripsearch', 'SELECT', 'age_validation_error');
        return;
      }

      //Object that will contain all the search parameters mapped to their URL parameter name.
      var searchParams = {
        geo : FlightsTripSearchForm.getGeoCode(),
        cos : _cabin,
        nonstop : ($('#nonStopOnly').is(':checked')) ? 'yes' : 'no'
      };

      var airportParams;
      var includeNearby;
      var dates;
      if (TRIP_TYPE === TRIP_TYPES.MULTI_CITY) {
        if (!_isTravelersValid()) {
          return;
        }
        _mcRows.forEach(function(r) {
          r.clearErrorStatus();
        });
        _collectMultiCityValues();
        var mcSearchParams = _mcValidateAndGetSearchParams();
        if (!mcSearchParams) {
          return;
        }
        airportParams = mcSearchParams.airports;
        includeNearby = 'no';
        dates = mcSearchParams.dates;
      }
      else {
        if (!_areSearchParamsValid()) {
          return;
        }
        airportParams = FlightsTripSearchForm.getAirportUrlParams(_getObjValues(_airports));
        includeNearby = ($('#includeNearby').is(':checked')) ? 'yes' : 'no';
        dates = FlightsTripSearchForm.getDatesUrlParams(TRIP_TYPE);
      }
      $.extend(searchParams, airportParams, searchParams);

      var numAirports = Object.keys(airportParams).length;
      var nearby = {};
      for (var i = 0; i < numAirports; i++) {
        nearby['nearby' + i] = includeNearby;
      }
      $.extend(searchParams, nearby, searchParams);
      $.extend(searchParams, dates, searchParams);

      //Travelers
      FlightsTripSearchForm.keepTravelerParams(_traveler_adult, _traveler_senior, _traveler_children);
      var travelerParams = FlightsTripSearchForm.getTravelersUrlParams(_traveler_adult, _traveler_senior, _traveler_children);
      $.extend(searchParams, travelerParams, searchParams);
      if(_traveler_children && _traveler_children.length > 0) {
        taRecord.trackEventOnPage('PaxSelector-tripsearch', 'SELECT', 'kids_update_search_click');
      }

      //Additional params
      $.extend(searchParams, _getAdditionalParameters());

      var searchResultsUrl = FlightsTripSearchForm.buildQueryString(SEARCH_SERVLET, searchParams);

      var providersElem = $('.providers', widgetElem);
      // log lcb tracking tree
      if (!isMobile && TRIP_TYPE != TRIP_TYPES.MULTI_CITY &&
        providersElem.length > 0 && providersElem.find('input').length > 0) {
        var trackingTreeElement = document.createElement('div');
        trackingTreeElement.className = "impressionTrackingTree";
        trackingTreeElement.innerHTML = '<!--' + flightsUtils.extractTrackingTree(providersElem[0]) + '-->';
        taRecord.trkImpTree(trackingTreeElement);
      }

      //Do get lcb url if providers are visible.
      var lcbUrl = '';
      if($('.providers').is(":visible")) {
        var lcbParams = $.extend({from: servletName}, searchParams);
        delete lcbParams['geo'];
        lcbUrl = _getProvidersWindowUrl(lcbParams);
      }

      var doAwCheckboxAjax = $('#aw-checkbox').is(':checked');

      // only subscribe AW for economy round-trip search
      if (_cabin === CABIN_TYPE_ECONOMY && TRIP_TYPE === TRIP_TYPES.ROUND_TRIP && doAwCheckboxAjax) {
        if(!IS_USER_LOGGED_IN) {
          var emailNode = $('.aw-email');
          if (!_validEmail(emailNode[0])) {
            emailNode.addClass('error');
            taRecord.trackEventOnPage('TripSearch', 'email_validation_error', '/L:TODO no loc ID yet');
            return;
          }
          emailNode.removeClass('error');
        }
        taRecord.trackEventOnPage('TripSearch', 'FL_SubCheckboxFL:NC_AirWatchCheckBox::CLI', 'FL_SubCheckboxFL', AIRWATCH_PID, false);
        taRecord.setEvtCookie('TripSearch', 'SearchFormSubmit', 'Flights', 0, lcbUrl || searchResultsUrl);
        _airwatchSignup(searchResultsUrl, lcbUrl);
      } else {
        taRecord.setEvtCookie('TripSearch', 'SearchFormSubmit', 'Flights', 0, lcbUrl || searchResultsUrl);
        _redirectToFlightSearch(searchResultsUrl, lcbUrl);
      }
    };

    var _getAdditionalParameters = function () {
      var attr = $('.searchFormData').data('additionalsearchparams');
      return (typeof attr === 'object') ? attr : null;
    };

    /**
     * Event handler for typeahead changes.
     */
    var _odChangeHandler = function(airportData) {
      if (airportData['detail'].iata === _airports[airportData['detail'].ind]) {
        return;
      }
      _airports[airportData['detail'].ind] = airportData['detail'].iata;
      _awLabelWithCities.addClass('non-classic-only');
      _awLabelNoCities.removeClass('mobile-only');
    };

    /**
     * Event handler for class of service and number of travelers changes.
     */
    var _cosPaxDetailsHandler = function (evnt, cosPaxDetails) {
      _cabin = cosPaxDetails.cos;
      _traveler_adult = cosPaxDetails.adult;
      _traveler_senior = cosPaxDetails.senior;
      _traveler_children = cosPaxDetails.childrenAge;
      validCosPaxDetails = !cosPaxDetails.hasError;
    };

    var _onAwInputClick = function() {
      $("#aw-checkbox").prop('checked',true);
    };

    /**
     * A homegrown version of Object.values which also works on IE
     * @param input A JS object with data-members that have values
     * @returns Those values as an array
     * @private
     */
    var _getObjValues = function(input) {
      var values = [];

      for(var i in input) {
        if(input.hasOwnProperty(i)) {
          values.push(input[i]);
        }
      }
      return values;
    };

    var _closeCosPassengerOverlays = function() {
      FlightsTripSearchForm.closeCosPassengerFlyout();
    };

    // set listener for Cabin and travelers change
    $('body').on('cosPax:getDetails', _cosPaxDetailsHandler);
    // set listener for typeahead O-D change
    $(document).on('odChange', _odChangeHandler);

    // display email field if user is not logged in
    if(!IS_USER_LOGGED_IN) {
      _awEmailElmt.show();

      // Remove the error state and remove reset the email input to empty string on unchecking Airwatch checkbox
      _awCheckBoxElmt.change(function () {
        if (!_awCheckBoxElmt.is(':checked') && _awEmailElmt.hasClass('error')) {
          _awEmailElmt.removeClass('error');
          _awEmailElmt.val("");
        }
      });
    }

    // get initial OD - just grab them from the first one (roundtrip)
    if (_roundTripTypeahead) {
      var orig = _roundTripTypeahead.querySelector(".orig.ui_typeahead .value");
      var dest = _roundTripTypeahead.querySelector(".dest.ui_typeahead .value");
      _airports.orig = orig.value;
      _airports.dest = dest.value;
    }

    _awEmailElmt.on('input',function(){
      var highlightElem = $(widgetElem).find('.aw_email_container .input_highlight');
      highlightElem.html(_awEmailElmt.val());
    });

    _setSearchType(_tripType);

    // When user login, update the airwatch label and hide email input
    // don't care about logout since the whole page would reload.
    RegEvents.on('success', function() {
      $('.aw-email').hide();
      var labelEle = $('.airwatch > .label > label');
      var text = labelEle.attr('data-loggedIn-label');// without semicolon
      labelEle.text(text);
    });

    var _showMoreOptions = function() {
      $('.more_option').show();
      $('.mo-link-line').hide();
    };

    var _closeMoreOptions = function() {
      $('.more_option').hide();
      $('.mo-link-line').show();
    };

    var _awCheckboxClick = function(target, focusEmail) {
      ta.trackEventOnPage('TripSearch','SELECT','FL_TS_PRICEDROP');
      var email = $('.aw_email_container');
      if (email) {
        if (target.checked) {
          email.show();
          if (focusEmail) {
            _awEmailElmt.focus();
          }
        }
        else {
          email.hide();
        }
      }
      _awCheckBoxElmt.prop('checked', target.checked);
      _awCheckBoxNoCityElmt.prop('checked', target.checked);
    };

    var _openCompact = function() {
      _compactContainer.classList.add("open");
      _pagePane.classList.remove("hidden");
      _searchBtn.attr("disabled", false);

      // In case it was opened by clicking date or cos/pax picker, trigger popover position adjustment
      api.fireEvent(window, 'resize');
    };

    var _closeCompact = function() {
      _compactContainer.classList.remove("open");
      _pagePane.classList.add("hidden");
      _searchBtn.attr("disabled", true);

      // Revert form to previous state
      if (_origValElems[0].value !== _submittedVals.orig) {
        _revertOorD('orig', _origValElems, _submittedVals.orig, _origTextElems, _submittedVals.origText);
      }
      if (_destValElems[0].value !== _submittedVals.dest) {
        _revertOorD('dest', _destValElems, _submittedVals.dest, _destTextElems, _submittedVals.destText);
      }
      if (_tripType !== TRIP_TYPE) {
        _setSearchType(_tripType, null);
      }
      var savedMc = _submittedVals.multiCity;
      if (savedMc) {
        for (var i = 0; i < savedMc.length; i++) {
          _mcRows[i].revertAirportsIfChanged(savedMc[i]);
          if (_dateChanged(MULTI_CITY_DATE_TYPES[i], savedMc[i].date)) {
            ta.page.pushDates(null, MULTI_CITY_DATE_TYPES[i], savedMc[i].date);
          }
        }
      }
      if (_tripType === TRIP_TYPES.ROUND_TRIP) {

        if (_dateChanged(DEPART_DATE_TYPE, _submittedVals.departDate)) {
          if (_dateChanged(RETURN_DATE_TYPE, _submittedVals.returnDate)) {
            // Both dates changed - only do a push on the second one (since the order
            // of session update requests is unpredictable)
            ta.page.setDates(DEPART_DATE_TYPE, _submittedVals.departDate);
            ta.page.emit('dateSelected', null, DEPART_DATE_TYPE, _submittedVals.departDate);
            ta.page.pushDates(null, RETURN_DATE_TYPE, _submittedVals.returnDate);
          }
          else { // Only depart date changed
            ta.page.pushDates(null, DEPART_DATE_TYPE, _submittedVals.departDate);
          }
        }
        else if (_dateChanged(RETURN_DATE_TYPE, _submittedVals.returnDate)) { // only return date changed
          ta.page.pushDates(null, RETURN_DATE_TYPE, _submittedVals.returnDate);
        }
      }
      else if (_tripType === TRIP_TYPES.ONE_WAY) {
        if (_dateChanged(ONEWAY_DATE_TYPE, _submittedVals.oneWayDate)) {
          ta.page.pushDates(null, ONEWAY_DATE_TYPE, _submittedVals.oneWayDate);
        }
      }

      if (_cosPaxChaged(_submittedVals.cosPax)) {
        ta.page.travelerInfo.setData(_submittedVals.cosPax);
        $('body').trigger('cosPax:externalUpdate');
      }
    };

    var _revertOorD = function(indexName, valueElems, value, textElems, text) {
      for (var j = 0; j < valueElems.length; j++) {
        valueElems[j].value = value;
      }
      for (j = 0; j < textElems.length; j++) {
        textElems[j].value = text;
      }
      var event = document.createEvent('CustomEvent');
      event.initCustomEvent('odChange', true, true, {ind: indexName, iata: value});
      document.dispatchEvent(event);
    };

    var _dateChanged = function(dateType, savedVal) {
      return ta.page.getDates(dateType)[0] !== savedVal[0];
    };

    var _cosPaxChaged = function(savedCosPax) {
      if (_cabin !== savedCosPax.classOfService || _traveler_adult !== savedCosPax.adults ||
            _traveler_senior !== savedCosPax.seniors || _traveler_children.length !== savedCosPax.childAges.length ||
            !validCosPaxDetails) {
        return true;
      }
      for (var i = 0; i < _traveler_children.length; i++) {
        if (_traveler_children[i] !== savedCosPax.childAges[i]) {
          return true;
        }
      }
      return false;
    };

    return {
      doSearch: _doSearch,
      setSearchType: _setSearchType,
      selectAll : _selectAll,
      onAwInputClick: _onAwInputClick,
      closeCosPassengerOverlays: _closeCosPassengerOverlays,
      showMoreOptions: _showMoreOptions,
      closeMoreOptions: _closeMoreOptions,
      awCheckboxClick: _awCheckboxClick,
      openCompact: _openCompact,
      closeCompact: _closeCompact
    };
  });});
define('utils/string/InputLength', [], function(){
'use strict';
return function(input){
var len = 0;
for (var i = input.length - 1; i >= 0; i--){
len++;
var c = input.charCodeAt(i);
if ((c >= 0x4E00 && c <= 0x9FFF) ||
(c >= 0x3040 && c <= 0x30FF) ||
(c >= 0xAC00 && c <= 0xD7FF)){
len++;
}
}
return len;
};
});
if (require) {require(['ta/rollupAmdShim'], function(rollupAmdShim) { rollupAmdShim.install([], ["page-model"]); });
}
else {if (window.ta&&ta.rollupAmdShim) {ta.rollupAmdShim.install([],["page-model"]);}
}
define('typeahead/TypeAhead', [
'Logging',
'api-mod',
'mixins/mixin', 'mixins/Events',
'utils/string/InputLength',
'lib/jquery-amd',
'page-model'
],
function(
Logging,
api,
mixin, Events,
inputLength,
$,
pageModel
){
'use strict';
var KEY_BKSPC = 8
, KEY_TAB = 9
, KEY_ENTER = 13
, KEY_CAPSLK = 20
, KEY_ESCAPE = 27
, KEY_LEFT = 37
, KEY_UP = 38
, KEY_RIGHT = 39
, KEY_DOWN = 40
, KEY_DELETE = 46
, KEY_META = 91
, KEY_SHIFT = 16
, KEY_CTRL = 17
;
var DEFAULT_OPTIONS = {
minChars: 3,
searchDelay: 250,
jpFfInterval: 500
};
var TypeAhead = function(options, mixins){
mixin(this, Events.create(Array.prototype.concat(TypeAhead.inputEvents, TypeAhead.emitEvents)));
this.options = $.extend({}, DEFAULT_OPTIONS, options);
this.resultElements = null;
this.selectedIndex = -1;
mixins && Array.isArray(mixins) || (mixins = Array.prototype.slice.call(arguments, 1));
for (var i = 0; i < mixins.length; i++){
mixins[i] && mixins[i].call(this);
}
TypeAhead.inputEvents.forEach(function(type){
if (typeof this[type] == 'function'){ this.on(type, this[type]); }
}, this);
};
TypeAhead.emitEvents = ['emptyInput', 'insufficientInput', 'search', 'results',
'changeSelection', 'updateSelection', 'escape', 'enter', 'tab', 'selected',
'resultHover', 'resultUnhover', 'resultClick', 'show', 'hide', 'searchResults',
'inputChanged'];
TypeAhead.inputEvents = ['focus', 'blur', 'keydown', 'keyup', 'compositionend'];
TypeAhead.prototype.keydown = function(evt, elt){
if (!elt){ return; }
switch (evt.keyCode){
case KEY_ENTER:
api.stopEvent(evt);
this.emit('enter', elt);
break;
case KEY_DOWN:
api.stopEvent(evt);
this.emit('changeSelection', elt, 1);
break;
case KEY_UP:
api.stopEvent(evt);
this.emit('changeSelection', elt, -1);
break;
case KEY_ESCAPE:
api.stopEvent(evt);
this.emit('escape', elt);
break;
case KEY_TAB:
this.emit('tab', elt);
break;
}
};
TypeAhead.prototype.compositionend = function(evt, elt){
if (!elt){ return; }
api.stopEvent(evt);
this.emit('inputChanged', elt);
this.runSearch(elt);
};
TypeAhead.prototype.keyup = function(evt, elt){
if (!elt || this.composing){ return; }
if (evt.keyCode === KEY_ENTER) {
return;
}
clearTimeout(this.searchTimer);
switch (evt.keyCode){
case KEY_DOWN:
case KEY_UP:
case KEY_ESCAPE:
case KEY_TAB:
case KEY_CAPSLK:
case KEY_LEFT:
case KEY_RIGHT:
case KEY_META:
case KEY_SHIFT:
case KEY_CTRL:
return;
}
var self = this;
this.emit('inputChanged', elt);
this.searchTimer = setTimeout(function(){
self.runSearch(elt);
}, this.options.searchDelay);
};
if (pageModel.session.jpFfIME) {
TypeAhead.prototype.keyupAction = function(evt, elt){
if (!elt){
return;
}
clearTimeout(this.searchTimer);
var self = this;
this.searchTimer = setTimeout(function(){
self.runSearch(elt);
}, this.options.searchDelay);
};
TypeAhead.prototype.focus = function (evt, el) {
if (document.activeElement == el) {
var imeLoop = function () {
this.keyupAction.call(this, evt, el);
this.imeTimer && clearTimeout(this.imeTimer);
this.imeTimer = setTimeout(imeLoop.bind(this), this.options.jpFfInterval);
};
imeLoop.call(this);
}
};
}
TypeAhead.prototype.runSearch = function(elt){
if(this.lastQuery && this.lastQuery == elt.value){
return;
}
if (/^\s*$/.test(elt.value)){
this.emptyInput = true;
this.insufficientInput = false;
this.emit('emptyInput', elt);
} else if (inputLength(elt.value) < this.options.minChars){
if (this.insufficientInput){ return; }
this.emptyInput = false;
this.insufficientInput = true;
this.emit('insufficientInput', elt);
} else {
this.emptyInput = false;
this.insufficientInput = false;
this.lastQuery = elt.value;
this.emit('search', elt);
}
};
TypeAhead.prototype.onResults = function(elt, results, query){
var triggerNoResults = (!results || !results.length) && (query.indexOf("prefill", 0) == -1);
if (triggerNoResults){
this.emit('noResults', elt);
return;
}
this.emit('results', elt, results, query);
};
return TypeAhead;
});

define('typeahead/query/remote', [
'utils/ajax', 'utils/objutils'
], function(Ajax, Obj) {
'use strict';
var typedSearch = function(types, enableCache, abortRequest) {
return function(options) {
return function() {
var cache = enableCache ? {} : void(0);
var currentXHR;
var addToCache = function(query, response) {
if (cache && response && response.length && response.length > 0) {
cache[query] = response;
}
};
var getFromCache = function(query) {
return cache && cache[query];
};
var getData = function(query, success, error) {
var ops = typeof options == 'function' ? options() : options;
return {
type: 'GET',
url: '/TypeAheadJson',
data: Obj.extend({
action: 'API',
types: types,
filter: 'nobroad',
legacy_format: true,
urlList: false,
strictParent: true,
query: query,
max: 25
}, ops),
dataType: 'json',
xhrFields: {withCredentials: true},
success: success,
error: error
};
};
var abortCurrentRequest = function() {
if (abortRequest &&
currentXHR &&
currentXHR.readyState != 4 &&
typeof currentXHR.abort === 'function') {
try {
currentXHR.abort();
} catch (e) {
}
}
};
this.on('search', function(elt) {
var typeahead = this;
var query = elt.value;
abortCurrentRequest();
var cachedResult = getFromCache(query);
if (cachedResult) {
typeahead.onResults(elt, cachedResult, query);
typeahead.emit('searchResults', cachedResult);
} else {
currentXHR =
Ajax(getData(query,
function(response) {
addToCache(query, response);
typeahead.onResults(elt, response, query);
typeahead.emit('searchResults', response);
},
function(xhr, errorType, error) {
typeahead.emit('error', 'search', errorType, error);
}
)
);
}
});
};
};
};
var Remote = {};
Remote.Geo = typedSearch('geo');
Remote.Geo_Caching = typedSearch('geo', true, true);
Remote.POI = typedSearch('eat,attr,hotel');
Remote.POI_Caching = typedSearch('eat,attr,hotel', true, true);
return Remote;
});

define('flights/typeahead/views/default', [
'lib/jquery-amd', 'api-mod'
], function(
$, api
){
'use strict';
var ICON_CLASS = "ui_icon flights";
var PARSE_NAME_RE = new RegExp(/^(.*) [\u002d\u2013\u2014] (.*)$|^(.*)\((.{4,})\)$/);
var Default = function(listTmpl, itemTmpl, isMobileWeb){
if (arguments.length == 1 && typeof listTmpl == 'string'){
var s = listTmpl.split(',');
listTmpl = Default[s[0]];
itemTmpl = Default[s[1]];
}
listTmpl || (listTmpl = Default.LIST_TEMPLATE);
itemTmpl || (itemTmpl = Default.ITEM_TEMPLATE());
isMobileWeb = (typeof isMobileWeb !== 'undefined') ? isMobileWeb : false;
return function(){
this.container = document.createElement('div');
this.container.className = 'ui_typeahead_results';
this.on('results', function(elt, results){
this.offsetParent = $(elt).offsetParent()[0];
this.container.innerHTML = '';
this.results = results.reduce(function(acc, val) {
acc.push(val);
if (val.children && Array.isArray(val.children))
return acc.concat(val.children);
return acc;
}, []);
this.resultElements = this.results.map(function(result, idx){
var node = itemTmpl(result);
node.resultIdx = idx;
return node;
});
$(this.container).append( listTmpl(this.resultElements) );
this.emit('show');
});
this.on('show', function(){
this.offsetParent && this.results && this.results.length && this.offsetParent.appendChild(this.container);
});
if(!isMobileWeb) {
this.on('hide', function(){
api.inDocument(this.container) && this.offsetParent && this.offsetParent.removeChild(this.container);
});
this.on('hideResults', function(){
api.inDocument(this.container) && this.offsetParent && this.offsetParent.removeChild(this.container);
});
}
};
};
var _setLines = function(element, result) {
if (result.error && result.sectionTitle) {
element.innerHTML = "<div class='error'>" + result.sectionTitle + "</div>";
return element;
}
var name = (result.details && result.details.name) ? result.details.name : result.name;
var names = name.match(PARSE_NAME_RE);
var line1, line2;
if (names) {
names = names.filter(function(n){
return n != undefined
});
line1 = names[1] || name;
line2 = (names.length > 2) ? names[2] : result.airportCode;
}
else if (result.children && result.children.length > 0) {
line1 = result.name;
line2 = "";
}
else {
line1 = (result.details && result.details.geo_name) ? result.details.geo_name : result.name;
line2 = name;
}
if (line2.indexOf(result.airportCode) < 0) {
line2 += " " + result.airportCode
}
if (result.isChild) {
element.innerHTML = "<div>" + line2 + "</div>";
}
else {
element.innerHTML = "<div><div>" + line1 + "</div>" + line2 + "</div>";
}
return element;
};
Default.ITEM_TEMPLATE = function(){
return function(result){
var el = document.createElement('li');
result.selected && (el.className = 'selected');
if (result.children && result.children.length > 0) {
el.classList.add("map-pin-fill");
}
if (result.isChild) {
el.classList.add("childAirport");
}
if (result.type){
el.className += ' ' + ICON_CLASS;
}
el = _setLines(el, result);
return el;
};
};
Default.LIST_TEMPLATE = function(items){
var el = document.createElement('ul');
$(el).append(items);
return el;
};
return Default;
});
define('utils/string', ['utils/errorutils'], function(errorutils){
'use strict';
var RE_TRUE = /^(true|1|on|yes)$/i;
var RE_FALSE = /^(false|0|off|no)$/i;
var utils = {};
utils.fn = function(fn){
switch(typeof(fn))
{
case 'function':
return fn;
case 'string': {
var f = false;
try {
f = eval(fn);
} catch (e) {
errorutils.record(e, "error evaling function");
}
if (!f) {
var ns = fn.split('.'),
n = ns.pop();
try {
ns = eval(ns.join('.'));
f = ns && ns._magic && ns._magic.partial(n);
}
catch (e) {
errorutils.record(e, "function un-parseable");
}
}
if (f && typeof(f) === 'function') {
return f;
}
break;
}
}
return null;
};
utils.parseBoolean = function(str){
return RE_TRUE.test(str);
};
function parseLiteral(s){
if (/^-?\d+(?:\.\d+)?$/.test(s[1])){ return +s[1]; }
else if (/^fn:/.test(s[1])){ return utils.fn(s[1].slice(3)); }
else if (RE_TRUE.test(s[1])){ return true; }
else if (RE_FALSE.test(s[1])){ return false; }
}
utils.parseJSLN = function(str){
return (str || '').split(',').reduce(function(o, v){
var s = v.split(':');
o[s[0].trim()] = parseLiteral(s[1].trim());
}, {});
};
return utils;
});

define('typeahead/ux/selectResult', [
'Logging', 'lib/jquery-amd', 'utils/string'
], function(
Logging, $, Str,
UNDEFINED
){
'use strict';
var SelectResult = function(mode, fn, wrap, selectFirstOnMouseLeave) {
if (arguments.length == 1 && typeof mode == 'string'){
var s = mode.split(',');
mode = SelectResult[s[0]];
fn = SelectResult[s[1]];
wrap = Str.parseBoolean(s[2]);
}
fn || (fn = SelectResult.TOGGLE_CLASS());
return function(){
var selectFirst = function() {
var length = this.results.length;
for (var i = 0; i < length; i++) {
if (!this.results[i].skip) {
this.selectedIndex = i;
break;
}
}
};
this.on('results', function(elt, results){
this.selectedIndex = -1;
if (!results.length || mode == SelectResult.MODE_NONE){ return; }
if (mode == SelectResult.MODE_AUTO){ selectFirst.call(this); }
else if (mode == SelectResult.MODE_SINGLE){
results.length == 1 && (selectFirst.call(this));
}
else if (mode == SelectResult.MODE_SUFFICIENT){
!this.emptyInput && !this.insufficientInput && elt.value.trim().length && (selectFirst.call(this));
}
this.selectedIndex >= 0 && this.emit('updateSelection', elt, -1);
});
this.on('changeSelection', function(elt, dir){
if (!this.results){ return; }
if (this.selectedIndex === UNDEFINED){ this.selectedIndex = -1; }
var old = this.selectedIndex;
var idx = this.selectedIndex + dir;
while (idx > 0 && idx < this.results.length && this.results[idx].skip){
idx += dir;
}
if (wrap){
if (idx < 0){
idx = this.results.length - 1;
}
if (idx >= this.results.length){
idx = 0;
}
}
idx = Math.min(Math.max(idx, 0), this.results.length - 1);
if (this.selectedIndex == idx){ return; }
if (this.results[idx] && this.results[idx].skip){ return; }
this.selectedIndex = idx;
this.emit('updateSelection', this.resultElements[idx], old);
});
this.on('updateSelection', function(elt, oldIdx, isMouse){
oldIdx >= 0 && fn(this.resultElements[oldIdx], false);
if (!isMouse){
var offsetParent = $(elt).offsetParent()[0];
if (offsetParent){
var offset = $(elt).position();
var edge = $(offsetParent).height();
if (offset.top + elt.offsetHeight > edge){
offsetParent.scrollTop = Math.max(0, offset.top);
} else if (offset.top < 0){
offsetParent.scrollTop = offsetParent.scrollTop + offset.top;
}
}
}
if (!this.results || this.selectedIndex < 0 || this.selectedIndex >= this.results.length){ return; }
if (this.results[this.selectedIndex].selectable === false){ return; }
fn(this.resultElements[this.selectedIndex], true);
});
this.on('enter', function(elt){
if (!this.results || this.selectedIndex < 0 || this.selectedIndex >= this.results.length){ return; }
if (this.results[this.selectedIndex].selectable === false){ return; }
this.emit('selected', this.results[this.selectedIndex], 'enter');
});
this.on('escape', function(elt){
this.selectedIndex = -1;
this.emit('hide');
});
this.on('resultHover', function(evt, choiceElt){
if (!this.results || !this.results[choiceElt.resultIdx] || this.results[choiceElt.resultIdx].skip){ return; }
var idx = this.selectedIndex;
this.selectedIndex = choiceElt.resultIdx;
this.emit('updateSelection', choiceElt, idx, true);
});
if (selectFirstOnMouseLeave) {
this.on('resultUnhover', function (evt, choiceElt) {
if (!this.results) { return; }
var idx = this.selectedIndex;
selectFirst.call(this);
this.emit('updateSelection', choiceElt, idx, true);
});
}
this.on('resultClick', function(evt, choiceElt){
if (!this.results || !this.results[choiceElt.resultIdx] || this.results[choiceElt.resultIdx].skip){ return; }
if (this.results[choiceElt.resultIdx].selectable === false){ return; }
this.emit('selected', this.results[choiceElt.resultIdx], 'click');
});
this.on('selected', function(selection){
this.selectedIndex = -1;
if (!selection.navi) { this.emit('hide'); }
});
this.on('inputChanged', function(elt){
var oldIndex = this.selectedIndex;
this.selectedIndex = -1;
this.emit('updateSelection', elt, oldIndex);
})
};
};
SelectResult.TOGGLE_CLASS = function(cls){
cls || (cls = 'selected');
return function(elt, state){
$(elt).toggleClass(cls, state);
};
};
SelectResult.MODE_NONE = 0;
SelectResult.MODE_AUTO = 1;
SelectResult.MODE_SINGLE = 2;
SelectResult.MODE_SUFFICIENT = 3;
return SelectResult;
});

define('typeahead/support/bindToElement',
['lib/jquery-amd', 'typeahead/TypeAhead'],
function($, TypeAhead){
'use strict';
return function(elmt){
return function(){
var typeahead = this;
var el = $(elmt);
TypeAhead.inputEvents.forEach(function(type){
el.on(type, function(evt){ typeahead.emit(type, evt, elmt); });
}, this);
typeahead.on('show', function() {
if (!typeahead.resultElements) {
return;
}
typeahead.resultElements.map(function(result) {
$(result).on("mousedown", function(evt) {
evt.stopPropagation();
evt.preventDefault();
typeahead.emit('resultClick', evt, this);
});
$(result).on("mouseenter", function(evt) {
typeahead.emit('resultHover', evt, this);
});
$(result).on("mouseleave", function(evt) {
typeahead.emit('resultUnhover', evt, this);
});
$(result).on("touchstart", function(evt) {
typeahead.emit('touchUnfocus', evt, this);
});
});
});
}
};
});

define('typeahead/options/showResultsOnFocus', [], function() {
'use strict';
return function(){
return function(){
this.on('focus', function(evt, elt){
this.blurTimer && clearTimeout(this.blurTimer);
if (!elt.value){
this.emit('emptyInput', elt);
}
this.emit('show');
});
};
};
});

define('typeahead/options/noInputNoResults', [], function(){
'use strict';
return function(){
return function(){
function clearResults(){
delete this.results;
delete this.resultElements;
delete this.selectedIndex;
this.emit('hideResults');
}
this.on('emptyInput', clearResults);
this.on('insufficientInput', clearResults);
};
};
});

define('typeahead/options/blur', [
], function(
){
'use strict';
var Blur = function(hide, select){
hide = hide !== false;
return function(){
this.on('blur', function(evt, elt){
hide && (this.blurTimer = setTimeout(function(){
this.emit('hide');
}.bind(this), 250));
var queryForResultsSameAsInput = this.results && this.results[0] && this.results[0].query && this.results[0].query === elt.value;
if (
select && this.results &&
this.selectedIndex >= 0 && this.selectedIndex < this.results.length &&
this.results[this.selectedIndex].selectable !== false &&
queryForResultsSameAsInput
){
this.emit('selected', this.results[this.selectedIndex], 'blur');
}
});
};
};
Blur.Select = function(){
return Blur(true, true);
};
return Blur;
});

define('typeahead/query/noResults', [], function(){
'use strict';
return function(results){
return function(){
this.on('noResults', function(elt){
this.onResults(elt, typeof results === 'function' ? results(this) : results);
});
};
};
});

define('flights/typeahead/query/nearestAirports', ['babel/babel-helpers', 'utils/ajax', 'lib/jquery-amd'], function (babelHelpers, ajax, $) {
'use strict';
var NAME = 'prefill-nearbyAirports';
var BASE_URL = '/TypeAheadJson';
var cache = void 0;
var coords = void 0;
var locationError = false;
var init = false;
function getLocation() {
if (init) return;
init = true;
require(['babel/babel-helpers', 'trjs!utils/geolocation'], function (babelHelpers, Geolocation) {
if (!Geolocation.canRequestLocation()) {
locationError = true;
return;
}
Geolocation.requestLocation(function (data) {
coords = data;
}, function () {
locationError = true;
});
});
}
return function (options) {
return function () {
var timerId = void 0;
function getNearestAirports(elt) {
var _this = this;
if (locationError) {
this.off('emptyInput', boundGetNearestAirports);
this.off('insufficientInput', boundGetNearestAirports);
return;
}
if (!coords) {
if (timerId) {
clearTimeout(timerId);
}
timerId = setTimeout(function () {
return boundGetNearestAirports(elt);
}, 500);
return;
}
if (cache instanceof Promise) {
return;
}
var results = this.results ? this.results : [];
if (!cache) {
var pos = [coords.latitude, coords.longitude].join(',');
var opts = $.extend({ isNearby: true, position: pos }, options);
cache = ajax(BASE_URL, { data: opts }).then(function (res) {
return cache = res.results;
}).then(function () {
_this.results = [];
_this.emit('emptyInput', elt);
});
} else if (cache.length) {
results = [].concat(babelHelpers.toConsumableArray(results), babelHelpers.toConsumableArray(cache));
}
this.onResults(elt, results, NAME);
}
var boundGetNearestAirports = getNearestAirports.bind(this);
this.on('focus', getLocation);
this.on('emptyInput', boundGetNearestAirports);
this.on('insufficientInput', boundGetNearestAirports);
};
};
});

define('flights/AirportSearchTypeAhead',
[
'typeahead/TypeAhead',
'typeahead/query/remote',
'flights/typeahead/views/default',
'typeahead/ux/selectResult',
'typeahead/support/bindToElement',
'typeahead/options/showResultsOnFocus', 'typeahead/options/noInputNoResults', 'typeahead/options/blur',
'typeahead/query/noResults', 'flights/typeahead/query/nearestAirports'
],
function(
TypeAhead,
Remote,
View,
SelectResult,
BindToElement,
ShowResultsOnFocus, NoInputNoResults, Blur,
NoResults,
NearestAirports
){
'use strict';
return function (elmt, onSelect, messages, params) {
params = (typeof params !== 'undefined') ? params : {};
params.isMobileWeb = (typeof params.isMobileWeb !== 'undefined') ? params.isMobileWeb : false;
params.showNearbyAirports = (typeof params.showNearbyAirports !== 'undefined') ? params.showNearbyAirports : false;
var noResultsMessage = messages && messages.noResults ? messages.noResults : "No results";
var options = {
action: "AIRPORT",
name_depth: 1,
details: true,
types: "geos,air",
rebrand2017: 'y',
max: 6,
limit: 6,
includeChildAirports: true
};
var typeahead = new TypeAhead(
{},
BindToElement(elmt),
View(null, View.ITEM_TEMPLATE(), params.isMobileWeb),
SelectResult(SelectResult.MODE_AUTO, null, null, true),
NoInputNoResults(),
params.showNearbyAirports ? NearestAirports(options) : function() {},
Remote.Geo(function() {
return options;
}),
ShowResultsOnFocus(),
NoResults([{
sectionTitle: noResultsMessage,
skip: true,
selectable: false,
error: true
}]),
Blur.Select()
);
typeahead.on('selected', function(selection) {
onSelect(selection);
});
return typeahead;
};
});

define('overlays/options/disablePageScroll', ['vanillajs'], function(vanilla) {
'use strict';
return function(){
function disableScroll(){
document.body.style.position = "absolute";
document.body.style.overflow = "hidden";
document.body.style.width = "100%";
}
function enableScroll() {
document.body.style.position = "relative";
document.body.style.overflow = "auto";
document.body.style.width = "auto";
}
this.on('show', disableScroll);
this.on('hide', enableScroll);
};
});
require(['ta/prwidgets'], function(widgets) {
var define = widgets.define.bind(widgets,'flights_trip_search_typeahead','handlers',['handlers']);
/**
 * @author jkeck
 * @since 3/22/2017
 */

define(['widget', 'api-mod', 'ta/Core/TA.Record', 'flights/AirportSearchTypeAhead',
    'overlays/Overlay',
    'overlays/styles/modal',
    'overlays/options/disablePageScroll', 'lib/jquery-amd'
  ],
  function (widget, api, taRecord, typeahead,
            Overlay,
            Modal,
            DisablePageScroll, $
  ) {

  var _baseElement = widget.element;
  var _dataHolder = _baseElement.querySelector('.data_holder');
  var _isMobileWeb = _dataHolder ? _dataHolder.getAttribute('data-isMobileWeb') : false;
  var _inLightbox =  _baseElement.classList.contains('inLightbox');
  var orig = $(_baseElement).find(".orig.ui_typeahead .query");
  var dest = $(_baseElement).find(".dest.ui_typeahead .query");
  var origTa;
  var destTa;

  var ORIG_FOCUS_ACTION = "origin_focus";
  var DEST_FOCUS_ACTION = "destination_focus";
  var ORIG_SELECT_ACTION = "origin_select";
  var DEST_SELECT_ACTION = "destination_select";
  var ALREADY_CLICKED_DATA_ATTR = "data-clickedalready";

  // select-all on focus
  var _handleFocus = function(elmt, trackingAction) {
    return function () {
      var input = this;
      // setTimeout is to avoid IOS issue where selected text would immediately become deselected
      setTimeout(function() {
        input.value && input.setSelectionRange(0, input.value.length);
      });
      logClick($(this), trackingAction);
      elmt.trigger('keyup');
    };
  };

  var _clearErrorIfValid = function() {
    var oVal = orig.parent().find(".value").val();
    var dVal = dest.parent().find(".value").val();
    if (oVal === dVal) {
      return;
    }
    if (oVal) {
      orig.parent().removeClass("error");
    }
    if (dVal) {
      dest.parent().removeClass("error");
    }
  };

  // elmt - the element where result is stored
  // sel - the typeahead result selected
  var _handleSelection = function(elmt, trackingAction) {
    return function(sel) {
      if (!elmt) {
        return;
      }

      var airport = elmt.parent().find(".value");

      if(sel == null) {
        airport.val("");
      }
      else {
        // set the display name for the location
        elmt.val((sel.details && sel.details.name) ? sel.details.name : sel.name);

        // set the value for the form
        airport.val(sel.airportCode);
        _clearErrorIfValid();
      }

      _notifyBigWidget(airport);
      taRecord.trackEventOnPage('TripSearch', trackingAction, createTrackingString());
    }
  };

  // let the parent (Flights big widget, site/prwidgets/flights/trip_search_form/handlers.js) know about a change in O/D
  var _notifyBigWidget = function(airport) {
    var oOrD = airport.attr("name");
    var event = document.createEvent('CustomEvent');
    if (_inLightbox) {
      event.initCustomEvent('lb_odChange', true, true, {ind: oOrD, iata: airport.val()});
    } else {
      event.initCustomEvent('odChange', true, true, {ind: oOrD, iata: airport.val()});
    }
    document.dispatchEvent(event);
  };

  // If a typeahead loses focus without a selected airport, choose the first item in results, if it exists
  var _handleFocusOut = function(elmt, elmtTa) {
    return function() {
      var airport = elmt.parent().find('.value');

      if(!elmtTa) return;

      if(airport.val() === "" && elmtTa.results && elmtTa.results.length > 0 && elmtTa.results[0].airportCode) {
        elmtTa.emit('selected',elmtTa.results[0]);
      }
      _clearErrorIfValid();
      elmtTa.emit('hide');
      _pretextCheck(elmt);
    }
  };

  // When typeahead text is manually changed, wipe out the airport's VALUE attribute and tell the big widget, but
  // don't remove the typeahead JS object's results (we want those to keep showing up until such time as they are replaced)
  var _handleTyping = function(elmt, elmtTa) {
    return function() {
      _pretextCheck(elmt);
      var airport = elmt.parent().find('.value');
      airport.val("");
      elmtTa.lastQuery = ""; //Wipe out lastQuery in case the user types the same airport back in
      _notifyBigWidget(airport);
    }
  };

  var noResultsMessage = _dataHolder ? _dataHolder.getAttribute('data-noresultsmessage') : "";

  // initialize the typeaheads
  if (!_isMobileWeb && orig && orig.length > 0 && dest && dest.length > 0) {
    // for desktop, the input.query element is the typahead
    origTa = typeahead(orig[0], _handleSelection(orig, ORIG_SELECT_ACTION), {noResults: noResultsMessage});
    destTa = typeahead(dest[0], _handleSelection(dest, DEST_SELECT_ACTION), {noResults: noResultsMessage});

    // select all on click
    var clickHandler = function(input) {
      return function() {
        input.focus();
      }
    };
    orig.on('mouseup', clickHandler(orig));
    dest.on('mouseup', clickHandler(dest));

    // The whole div is clickable, not just the text box inside
    var parentClickHandler = function(input) {
      return function(event) {
        if (event.target === this) {
          input.focus();
        }
      }
    };
    orig.parent().on('mouseup', parentClickHandler(orig));
    dest.parent().on('mouseup', parentClickHandler(dest));
  }
  else {
    // for mobile web, clicking on input.query opens an overlay that contains the typeahead input and eventual results
    var origMw = api.createElement('input', {'type': 'text', 'class': 'mw_input',
      'placeholder': orig.attr('placeholder'), 'autocorrect': 'off', 'spellcheck': 'false'});
    var destMw = api.createElement('input', {'type': 'text', 'class': 'mw_input',
      'placeholder': dest.attr('placeholder'), 'autocorrect': 'off', 'spellcheck': 'false'});

    origTa = typeahead(origMw, _handleSelection(orig, ORIG_SELECT_ACTION), {noResults: noResultsMessage}, {isMobileWeb: true, showNearbyAirports: true});
    destTa = typeahead(destMw, _handleSelection(dest, DEST_SELECT_ACTION), {noResults: noResultsMessage}, {isMobileWeb: true, showNearbyAirports: false});

    var createMWOverlay =  function (mwInput) {
      var overlay = api.createElement('div', {'class': 'mw_overlay ui_typeahead'});
      var inputContainer = api.createElement('div', {'class': 'mw_input_container'});
      inputContainer.appendChild(mwInput);
      overlay.appendChild(inputContainer);
      return overlay;
    };

    var mwClickHandler = function(tahead, elmt, trackingAction, trackingElmt) {
      return function () {
        if (tahead && !tahead.searchOverlay) {
          var overlayContent = createMWOverlay(elmt);
          var classList = 'mw no_padding typeahead_overlay ui_typeahead ' + _baseElement.classList; // add the latter so widget's CSS applies
          tahead.searchOverlay =
            new Overlay(_baseElement,
              Modal(null, null, classList, null, null, overlayContent, 'div'), null, DisablePageScroll);
          tahead.on('selected', function() {
            tahead.searchOverlay.hide();
          });
          tahead.emit('emptyInput', elmt);
        }
        elmt.value = '';
        tahead.searchOverlay.show();
        elmt.focus();
        logClick(trackingElmt, trackingAction);
      }
    };

    orig.on('click', mwClickHandler(origTa, origMw, ORIG_FOCUS_ACTION, orig));
    dest.on('click', mwClickHandler(destTa, destMw, DEST_FOCUS_ACTION, dest));
  }

  var logClick = function(elem, trackingAction) {
    if(elem && "false" === elem.attr(ALREADY_CLICKED_DATA_ATTR)) {
      taRecord.trackEventOnPage('TripSearch',trackingAction,createTrackingString());

      elem.attr(ALREADY_CLICKED_DATA_ATTR,"true");
    }
  };

  var createTrackingString = function() {
    var origCode="N/A";
    var destCode = "N/A";

    var origValue = orig.parent().find(".value").val();
    if(origValue && origValue.length === 3) {
      origCode = origValue;
    }
    var destValue = dest.parent().find(".value").val();
    if(destValue && destValue.length === 3) {
      destCode = destValue;
    }

    return "/AP:" + origCode + "_" + destCode;
  };

  /**
   * FLT-18263 Show or hide labels when OD values change
   */
  var _pretextCheck = function (elmt) {
      var pretext = elmt.parent().find('label');
      if (pretext) {
        if (elmt.val()) {
          pretext.show();
          var pretextWidth = pretext.outerWidth();
          elmt.css("width", "calc(100% - 15px - " + Math.ceil(pretextWidth) + "px)");
        } else {
          pretext.hide();
        }
      }
  };

  if (!_isMobileWeb) {
    // attach focus listeners for non-touch platforms
    orig.on("focusin", _handleFocus(orig, ORIG_FOCUS_ACTION));
    dest.on("focusin", _handleFocus(dest, DEST_FOCUS_ACTION));

    orig.on("focusout", _handleFocusOut(orig, origTa));
    dest.on("focusout", _handleFocusOut(dest, destTa));

    orig.on("input", _handleTyping(orig, origTa));
    dest.on("input", _handleTyping(dest, destTa));
  }

  _pretextCheck(orig);
  _pretextCheck(dest);

  return {};

});
});require(['ta/prwidgets'], function(widgets) {
var define = widgets.define.bind(widgets,'datepickers_flight_search_dates','handlers',['handlers']);
define(['widget', 'vanillajs','lib/jquery-amd', 'api-mod', 'ta/Core/TA.Event', 'mixins/page-dates/picker-autopopper', "flights/landers/FlightsTripSearchForm", "utils/browserutils", "mixins/page-dates/DateTypeStore"],
  function(widget, vanilla, $, api, taEvent, Autopopper, FlightsTripSearchForm,browserUtils, DateTypeStore) {

  'use strict';

  var oneWayDateType = "ONEWAYFLIGHT"
    , departDateType = "DEPARTURE"
    , returnDateType = "RETURN"
    , _wasDeparturePoppedByReturn = false
    , _departureElement = api.find('[data-datetype='+departDateType+']', widget.element)
    , _returnElement = api.find('[data-datetype='+returnDateType+']', widget.element)
    , _inLightbox = widget.element.classList.contains('inLightbox')
    ;

  function _setDateLabel(target, date) {
    var label;
    var dateFormat = target.getAttribute('data-dateFormat');

    label = !date ? target.getAttribute('data-emptyText') : ta.i18n.formatDate(dateFormat, date);
    api.find('.picker-inner .picker-label', target).firstChild.nodeValue = label; /* HOT-4599 */
  }

  function _onDateSelected(target, dateType, date) {

    // Clean up if the widget is no longer in the document.
    if (!api.inDocument(widget.element)) {
      ta.page.removeListener('dateSelected', _onDateSelected);
      _departureElement = null;
      _returnElement = null;
      return;
    }

    if (dateType === departDateType) {
      _setDateLabel(_departureElement, date[0]);

      if (!date[0]) {
        return;
      }
      //Also set the ONEWAY date to match, if they're not equal (which would cause an infinite loop)
      if(ta.page.hasDates(oneWayDateType) && ta.page.getDates(oneWayDateType)[0].getTime() === date[0].getTime()) return;

      ta.page.setDates(oneWayDateType,date[0]);
      ta.page.emit('dateSelected',null,oneWayDateType,date);
    } else if (dateType===returnDateType) {
      _setDateLabel(_returnElement, date[0]);
    }
  }

  function _handleClick(event) {
    var elem = event.target;
    for (var i = 0; i < 5; i++) {
      if (!elem || elem === _departureElement || elem === _returnElement || elem === widget.element) {
        break;
      }
      elem = elem.parentElement;
    }
    _openDatepicker(elem);
  }

  function _handleFocus(event, elem) {
    _handleClick(event, elem);
    event.stopPropagation();
  }

  function _openDatepicker(elem) {
    // Clicking anywhere other than return date opens departure date
    var dpElem = elem === _returnElement ? _returnElement : _departureElement;
    ta.page.gatherDates(dpElem, null, true, false);
  }

  function _initLightboxDatepicker() {
    if (_inLightbox) {
      var lbDeparture = _departureElement.getAttribute('data-lb');
      var lbReturn = _returnElement.getAttribute('data-lb');
      ta.page.setDates(departDateType, [new Date(lbDeparture)]);
      ta.page.setDates(returnDateType, [new Date(lbReturn)]);
      _setDateLabel(_departureElement, ta.page.getDates(departDateType)[0]);
      _setDateLabel(_returnElement,  ta.page.getDates(returnDateType)[0]);
    }
  }

  function _autopopperAdjust() {
    ta.page.on('dateSelected', function handler(target, dateType, date) {
      if (!api.inDocument(widget.element)) {
        ta.page.removeListener('dateSelected', handler);
        _departureElement = null;
        _returnElement = null;
        return;
      }

      var otherType = DateTypeStore.getCorrespondingDateType(dateType);
      if (!otherType || !target) {
        return;
      }
      if (!ta.page.hasDates(otherType) || (dateType === departDateType && !_wasDeparturePoppedByReturn)) {
        if (dateType === departDateType && !ta.page.hasDates(returnDateType) && Array.isArray(date)) {
          var nextDay = new Date(date[0].getFullYear(), date[0].getMonth(), date[0].getDate() + 1);
          ta.page.pushDates(widget.element.querySelector('[data-datetype="' + returnDateType + '"]'), returnDateType, [nextDay], true);
        }

        if (dateType === returnDateType && !ta.page.hasDates(departDateType) && Array.isArray(date)) {
          var prevDay = new Date(date[0].getFullYear(), date[0].getMonth(), date[0].getDate() - 1);
          ta.page.pushDates(widget.element.querySelector('[data-datetype="' + departDateType + '"]'), departDateType, [prevDay], true);
        }

        // If we are triggering the departure calendar. don't re-autopop the return when that is selected.
        _wasDeparturePoppedByReturn = dateType === returnDateType;

        setTimeout(ta.page.gatherDates.bind(ta.page, widget.element.querySelector('[data-datetype="' + otherType + '"]')));
      }
    });
  }

  taEvent.queueForLoad(function() {
    ta.page.on('dateSelected', _onDateSelected);
    _autopopperAdjust();
    _initLightboxDatepicker();
    ta.store("allowLongTrips",true);
    
  }, 'datepicker widget handlers');

  return {
    handleClick: _handleClick,
    handleFocus: _handleFocus
  };
});
});require(['ta/prwidgets'], function(widgets) {
var define = widgets.define.bind(widgets,'datepickers_flights_single_date_datepicker','handlers',['handlers']);
// This file is based on desktop_horizontal_styleguide_icon/handler.js
define(['widget', 'api-mod', 'ta/Core/TA.Event', 'ta/Core/TA.Store', 'ta', "flights/landers/FlightsTripSearchForm"],
    function (widget, api, taEvent, taStore, ta, FlightsTripSearchForm) {

  'use strict';

  var oneWayDateType = "ONEWAYFLIGHT"
  , departDateType = "DEPARTURE"
  , returnDateType = "RETURN"
  , leg1DateType = "LEG_1"
  , leg2DateType = "LEG_2"
  , leg3DateType = "LEG_3"
  , _dateType = oneWayDateType
  , _datepickerElement = widget.element.querySelector('[data-datetype='+oneWayDateType+']')
  , ONE_WEEK_IN_MS = 6.048e+8  // The value of one week in milliseconds, for good Javascript date math
  , MAX_DATE_IN_MS = 2.851e+10 // The value of 330 days in milliseconds
  ;

  function _setDateLabel(target, date) {
    var label;
    var dateFormat = target.getAttribute('data-dateFormat');

    if (!date) {
      label = target.getAttribute('data-emptyText');
    } else {
      label = ta.i18n.formatDate(dateFormat, date);
    }
    target.querySelector('.picker-inner .picker-label').innerHTML = label;
  }

  function _onDateSelected(target, dateType, date) {
    // Clean up if the widget is no longer in the document.
    if (!api.inDocument(widget.element)) {
      ta.page.removeListener('dateSelected', _onDateSelected);
      _datepickerElement = null;
      return;
    }

    if (dateType === _dateType) {
      if (!(date && date[0])) {
        _setDateLabel(_datepickerElement, null);
        return;
      }
      _setDateLabel(_datepickerElement, date[0]);
      if (dateType != oneWayDateType) {
        return;
      }

      //Set the departure date too, if they're not equal (which would cause an infinite loop)
      if(ta.page.hasDates(departDateType) && ta.page.getDates(departDateType)[0].getTime() === date[0].getTime()) return;

      ta.page.setDates(departDateType, date);
      ta.page.emit('dateSelected',null,departDateType,date);

      //If the return date is not set or is before this date, set it to a week from this date (or 330 days from now, whichever comes first)
      if(!ta.page.hasDates(returnDateType) || ta.page.getDates(returnDateType)[0].getTime() < date[0].getTime()) {
        var newReturnDate = new Date(Math.min(date[0].getTime() + ONE_WEEK_IN_MS, _tonightAtMidnight().getTime() + MAX_DATE_IN_MS));
        ta.page.setDates(returnDateType,newReturnDate);
        ta.page.emit('dateSelected',null,returnDateType,[newReturnDate]);
      }
    }
  }

  function _tonightAtMidnight() {
    var d = new Date();
    d.setHours(23,0,0,0);
    return d;
  }

  function _handleClick() {
    _openDatepicker();
  }

  function _handleFocus(event) {
    _openDatepicker();
    event.stopPropagation();
  }

  function _openDatepicker() {
    FlightsTripSearchForm.closeCosPassengerFlyout();
    ta.page.gatherDates(_datepickerElement);
  }

  function _initMultiCity() {
    if (widget.element.classList.contains('leg1')) {
      _dateType = leg1DateType;
    }
    else if (widget.element.classList.contains('leg2')) {
      _dateType = leg2DateType;
    }
    else if (widget.element.classList.contains('leg3')) {
      _dateType = leg3DateType;
    }
    else {
      return;
    }
    _datepickerElement.setAttribute('data-datetype', _dateType);
    _datepickerElement.setAttribute('data-emptytext', '');

    var date = ta.page.getDates(_dateType);
    _setDateLabel(_datepickerElement, (date && date[0]) ? date[0] : null);
  }

  taEvent.queueForLoad(function() {
    if (widget.element.classList.contains('mcDatePicker')) {
      _initMultiCity();
    }
    else {
      var date = ta.page.getDates(_dateType);
      if (date && date[0]) {
        _setDateLabel(_datepickerElement, date[0]);
      }
    }

    ta.page.on('dateSelected', _onDateSelected);
  }, 'datepicker widget handlers');

  return {
    handleClick: _handleClick,
    handleFocus: _handleFocus
  }
});
});require(['ta/prwidgets'], function(widgets) {
var define = widgets.define.bind(widgets,'flights_destination_card','handlers',['handlers']);
define(["widget", 'lib/jquery-amd', 'ta/Core/TA.Record', 'ta/Core/TA.Event', 'ta/util/Element'], function(widget, $, taRecord, taEvent, taElement) {
    var mediaQuery = window.matchMedia("(max-width: 767px)");

    var _trackClickEvent = function(shelfIndex, destCode, fare, dateRange, elem) {
        var shelfContainer = $(elem).closest('.shelf_container');
        var rowNumber = shelfContainer.attr('data-rownumber') || '0';
        var shelfId = shelfContainer.attr('data-shelf-id') || '0';

        taRecord.trackEventOnPage('Home', 'shelf_item_click', [rowNumber, shelfIndex, destCode, dateRange, fare].join("|"), shelfId);
    };

    var _destinationCardClick = function (url, shelfIndex, destCode, fare, dateRange, elem) {
        _trackClickEvent(shelfIndex, destCode, fare, dateRange, elem);
        mediaQuery.matches ? url && location.assign(url) : window.open(url);
    };

    // Track scrolled-into-view shelf items
    function _setupScrollTracking() {
        $(widget.element).find('.destCardContainer').each(function(){
          var shelfIndex = $(this).attr('data-shelfIndex');
          var destCode = $(this).attr('data-destCode');
          var fare = $(this).attr('data-fare');
          var dateRange = $(this).attr('data-dateRange');
          var trackingInfo = ['top_destinations_shelf', 'shelf_in_view', shelfIndex.concat('|', destCode, '|', fare, '|', dateRange)];
          taElement.trackWhenScrolledIntoView(this, trackingInfo);
        });
    }

    taEvent.queueForLoad(function(){
        _setupScrollTracking();
    });

    return {
        destinationCardClick: _destinationCardClick,
        trackClickEvent: _trackClickEvent
    };
});});require(['ta/prwidgets'], function(widgets) {
var define = widgets.define.bind(widgets,'shelves_shelf_widget','handlers',['handlers']);
/*jshint unused:false */
define(["widget", "ta/Core/TA.Event", "lib/jquery-amd", "shelves/ShelfItemPricing"], function(widget, taEvent, $, ShelfItemPricing) {

  var pathname = window.location.pathname; //pathname returns "/" for home and "hotels" or "restaurants" etc. for other servlets
  var brandTrackArg = (pathname === '/') ? 'servletname_Home' : 'servletname_' + pathname.substring(1);

  function shelfSeeAllClick(event, element, sameTab) {
    taEvent.fireEvent('shelf_see_all_click_event', event, element, sameTab);
    event.stopPropagation();
  }

  function trackShelfSeeAllClick(event, element) {
    taEvent.fireEvent('track_shelf_see_all_click_event', event, element);
    event.stopPropagation();
  }

  function leftClick(){
      var shelfWrapper = $('.unscoped_brand_scroll');
      var leftArrow = $('.brand_scroll_arrow.left');
      var rightArrow = $('.brand_scroll_arrow.right');

      leftArrow.hide();
      rightArrow.show();
      shelfWrapper.removeClass('scrolled');

      trackScrollClick();
  }

  function rightClick(){
      var shelfWrapper = $('.unscoped_brand_scroll');
      var leftArrow = $('.brand_scroll_arrow.left');
      var rightArrow = $('.brand_scroll_arrow.right');

      leftArrow.show();
      rightArrow.hide();
      shelfWrapper.addClass('scrolled');

      trackScrollClick();
  }

  function trackFeaturedClick(){
      require(["trjs!ta/Core/TA.Record"], function(taRecord) {
          taRecord.trackEventOnPage('pcb_campaign_trendinglander', 'click', brandTrackArg);
      });
  }

  function trackScrollClick(){
      require(["trjs!ta/Core/TA.Record"], function(taRecord) {
          taRecord.trackEventOnPage('pcb_campaign_trendingscroll', 'click', brandTrackArg);
      });
  }

  // CRM-7197 (can be deleted after 11/28/2017)
  var brandHacItem = $('.shelf_container.popular_destinations')[0];
  var brandTrackedClass = 'tracked';

  function initHAC() {
      var hacList = [];
      var hacMap = {};

      var travelInfo = $('.brand_travel_info');
      var visitDate = travelInfo.data('visitdate');
      var visitLength = travelInfo.data('visitlength');

      if (visitDate && visitLength) {

          $('.poi.brand_hac_item').each(function () {
              var locationId = $(this).data('locationid');
              if (!hacMap[locationId]) {
                  hacList.push(locationId);
                  hacMap[locationId] = true;
              }
          });
      }
      if (hacList.length > 0 && travelInfo) {
          getPrices(hacList, visitDate, visitLength);
      }
  }

  function getPrices(hacList, travelDate, length) {
      var request = new ShelfItemPricing(hacList, travelDate, length);

      request.requestPricings(function(data, seq) {
          var items = data['items'];
          for (var i=0; i<items.length; i++) {
              var priceItem = items[i];
              var locationId = priceItem['location_id'];
              var pricing = priceItem['pricing_string'];
              var status = priceItem['pricing_status'];
              $('.brand_hac_item .hac_' + locationId).each(function() {
                  if (status === 'COMPLETED') {
                      $(this).find('span').html(pricing);
                      $(this).find('.from').show();
                  }
              });
          }
      });
  }

  if (brandHacItem && brandHacItem.getAttribute && brandHacItem.getAttribute('data-brand-shelf') && !brandHacItem.classList.contains(brandTrackedClass) ) {
      brandHacItem.classList.add(brandTrackedClass);
    initHAC();
  }
  return {
    shelfSeeAllClick: shelfSeeAllClick,
    trackShelfSeeAllClick: trackShelfSeeAllClick,
    leftClick: leftClick,
    rightClick: rightClick,
    trackFeaturedClick: trackFeaturedClick
  };
});
});require(['ta/prwidgets'], function(widgets) {
var define = widgets.define.bind(widgets,'airlines_airline_pop_shelf_card','handlers',['handlers']);
define(["widget", "ta", "lib/jquery-amd", "ta/Core/TA.Record"], function (widget, ta, $, taRecord) {

    var _trackClickEvent = function(iata, elem) {
        var shelfContainer = $(elem).closest('.shelf_container');
        var rowNumber = shelfContainer.attr('data-rownumber') || '0';
        var shelfId = shelfContainer.attr('data-shelf-id') || '0';
        var shelfIndex = $(elem).closest('.prw_airlines_airline_pop_shelf_card').prevAll().length + 1;

        taRecord.trackEventOnPage('Home', 'shelf_item_click', [rowNumber, shelfIndex, iata].join("|"), shelfId);
    };

    return {
        trackClickEvent: _trackClickEvent
    };
});
});if (require) {require(['ta/rollupAmdShim'], function(rollupAmdShim) { rollupAmdShim.install([], ["ta/util/RecordInterruption"]); });
}
else {if (window.ta&&ta.rollupAmdShim) {ta.rollupAmdShim.install([],["ta/util/RecordInterruption"]);}
}require(['ta/p13n/placements'], function(placements) {
var define = placements.define.bind(placements,'qualtrics_survey','handlers',['handlers']);
/** Private javascript for qualtrics survey placement
 * We want to show on the 2nd pageview, no more than once every 30 days
 * The div id is generated from the qualtrics site-intercept code.
 * The placement render will decide which survey to displace.
 */
define([
    "placement",
    "lib/jquery-amd",
    "ta",
    'ta/Core/TA.LocalStorage',
    'ta/Core/TA.Event',
    'page-model',
    'ta/util/RecordInterruption',
    'ta/support/Qualtrics',
    'utils/throttle'
  ],
  function (placement, $, ta, taLocalStore, taEvent, model, recordInterruption, taQualtrics, throttle) {
    "use strict";

    ta.queueForLoad(function () {
      // For surveys that should hide when the user begins to scroll, this is the how much give they have
      var SCROLL_BUFFER = 318;
      // Campaign ID for event tracking
      var CAMPAIGN_ID = 'qualtrics_surveys';
      var placementEl = $('#' + placement.id);

      taQualtrics.setSmartSurvey(!!placement.params.smartSurvey);

      taQualtrics.updatePageViews();

      if (taLocalStore.enabled && ( taQualtrics.canDisplaySmart() || ( !taQualtrics.getSmartSurvey() && taQualtrics.canDisplay() ) )) {
        var surveyKey = placementEl.find(".survey_plc_holder").attr('id');
        var surveyContainerClassName = '.' + surveyKey + '_InfoBarContainer';
        var surveyName = placementEl.find(".survey_name").attr('id');
        var surveyProperties = 'Qualtrics_Survey' + '|' + window.pageServlet + '|' + surveyName;

        if (placement.params.smartSurvey) {
          var getSurveyProperties = function (_ss, _qa) {
            return _ss + '|' + ['sc-' + _qa.getSessionCount(), 'ir-' + _qa.getInterceptReqs(), 'iv-' + _qa.getInterceptViews(), 'pv-'+_qa.getPageViews()].join('|');
          };
          ta.on('qxInterceptShown', function () {
            ta.trackEventOnPage(CAMPAIGN_ID, 'interceptShown', getSurveyProperties(surveyProperties, taQualtrics), null, true);

            taQualtrics.updateInterceptViews();
            taQualtrics.updateSessionCount();
          });

          ta.on('qxInterceptAccept', function () {
            ta.trackEventOnPage(CAMPAIGN_ID, 'interceptAccept', getSurveyProperties(surveyProperties, taQualtrics), null, false);

            taQualtrics.setResponded(true);
          });

          ta.on('qxInterceptDecline', function () {
            ta.trackEventOnPage(CAMPAIGN_ID, 'interceptDecline', getSurveyProperties(surveyProperties, taQualtrics), null, false);

            taQualtrics.setResponded(true);
          });
        }

        if (surveyKey) {
          taQualtrics.displaySurvey(surveyKey);
          recordInterruption.record('popup', surveyProperties, taQualtrics.getPageViews());

          if (placement.params.smartSurvey) {
            taQualtrics.updateInterceptReqs();
          }

          // TV-1243 - Mobile Surveys cover a commerce component, so they should be hidden when the user begins to scroll
          if (placement.params.hideOnScroll) {
            var hide = function () {
              var scrollTop = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop;
              if (scrollTop > SCROLL_BUFFER) {
                $(surveyContainerClassName).hide();
              }
            };
            $(window).on('scroll', throttle(hide, 100));
          }
        }
      }
    });

    return {
    };
  });
});require(['ta/p13n/placements'], function(placements) {
var define = placements.define.bind(placements,'effective_measures','handlers',['handlers']);
define([
  'placement', 'ta/Core/TA.Event'
], function(
  placement, TAEvent
){
  'use strict';

  var hostPrefix = placement.params.host_prefix;

  TAEvent.queueForLoad(function(){
    var em = document.createElement('script');
    em.type = 'text/javascript';
    em.async = true;
    em.src = ('https:' == document.location.protocol ? 'https://'+hostPrefix+'-ssl' : 'http://'+hostPrefix+'-cdn') + '.effectivemeasure.net/em.js';
    var emDiv = document.getElementById(placement.id);
    if(emDiv){
      emDiv.appendChild(em);
    }
  }, 100000, 'effective_measures_script');
});
});require(['ta/p13n/placements'], function(placements) {
var define = placements.define.bind(placements,'facebook_autologin','handlers',['handlers']);
define([
  'placement', 'lib/jquery-amd', 'ta/Core/TA.Event', 'ta/util/Error',
  'facebook/authutils'
], function(
  placement, $, taEvent, taError,
  fbAuth
){
  'use strict';

  taEvent.queueForAfterLoad(function() {

    var fbAutologinData = $('#fb_autologin_data');
    if (fbAutologinData.length) {
      var loadFbJs = fbAutologinData.data('loadFbJs');
      var facebookJsUrl = fbAutologinData.data('facebookJsUrl');
      var facebookConnectAppId = fbAutologinData.data('facebookConnectAppId');
      var facebookApiVersion = fbAutologinData.data('facebookApiVersion');
      var fbAutoLogin = fbAutologinData.data('fbAutoLogin');
      var fbFetchAccessToken = fbAutologinData.data('fbFetchAccessToken');
    } else {
      taError.record(null, "Could not find Facebook autologin data");
      return;
    }

    try {
      // After the Facebook JS SDK script loads, it should call window.fbAsyncInit
      window.fbAsyncInit = function() {
        fbAuth.init(facebookConnectAppId, facebookApiVersion);
      };

      // If required, load the Facebook SDK asynchronously, as recommended by Facebook
      if (loadFbJs) {
        // Facebook no longer needs an fb-root placeholder element - The Facebook JS SDK creates it on its own, appending it to the BODY tag.
        (function(d, s, id){
          var js, fjs = d.getElementsByTagName(s)[0];
          if (d.getElementById(id)) {
            return;
          }
          js = d.createElement(s);
          js.id = id;
          js.src = facebookJsUrl;
          fjs.parentNode.insertBefore(js, fjs);
        }(document, 'script', 'facebook-jssdk'));
      }

      // autoLogin returns a promise for the result of the POST back to /FacebookConnectAjax.
      if (fbAutoLogin) {
        fbAuth.queueForInit(function() {
          fbAuth.autoLogin();
        });
      }

      // refreshToken fetches a new Facebook access token from the server.
      if (fbFetchAccessToken) {
        fbAuth.queueForInit(function() {
          fbAuth.refreshToken();
        });
      }
    } catch (e) {
      taError.record(e, "Error setting up Facebook autologin JS");
    }

  }, 'placement: facebook_autologin');
});
});require(['ta/p13n/placements','ta/page','$prp/homepage_hero/handlers'], function(placements, impl) {
window.ta.plc_homepage_hero_0_handlers = placements.load('homepage_hero','handlers.js', { 'name': 'homepage_hero', 'occurrence': 0, 'id': 'taplc_homepage_hero_0', 'location_id': 0, 'servletClass': 'com.TripResearch.brand.jaxrs.HomeRebranded', 'servletName': 'CheapFlightsHome', 'modules': ["handlers"], 'params': {}, 'data': {}});});
require(['ta/p13n/placements','ta/page','$prp/trip_search/handlers'], function(placements, impl) {
window.ta.plc_trip_search_home_flights_0_handlers = placements.load('trip_search','handlers.js', { 'name': 'trip_search:home_flights', 'occurrence': 0, 'id': 'taplc_trip_search_home_flights_0', 'location_id': 0, 'servletClass': 'com.TripResearch.brand.jaxrs.HomeRebranded', 'servletName': 'CheapFlightsHome', 'modules': ["handlers"], 'params': {}, 'data': {}});});
require(['ta/p13n/placements','ta/page','$prp/homepage_shelves/handlers'], function(placements, impl) {
window.ta.plc_homepage_shelves_flights_0_handlers = placements.load('homepage_shelves','handlers.js', { 'name': 'homepage_shelves:flights', 'occurrence': 0, 'id': 'taplc_homepage_shelves_flights_0', 'location_id': 0, 'servletClass': 'com.TripResearch.brand.jaxrs.HomeRebranded', 'servletName': 'CheapFlightsHome', 'modules': ["handlers"], 'params': {}, 'data': {}});});
require(['ta/p13n/placements','ta/page','$prp/facebook_autologin/handlers'], function(placements, impl) {
window.ta.plc_facebook_autologin_0_handlers = placements.load('facebook_autologin','handlers.js', { 'name': 'facebook_autologin', 'occurrence': 0, 'id': 'taplc_facebook_autologin_0', 'location_id': 0, 'servletClass': 'com.TripResearch.brand.jaxrs.HomeRebranded', 'servletName': 'CheapFlightsHome', 'modules': ["handlers"], 'params': {}, 'data': {}});});
require(['ta/p13n/placements','ta/page','$prp/global_nav/handlers'], function(placements, impl) {
window.ta.plc_global_nav_0_handlers = placements.load('global_nav','handlers.js', { 'name': 'global_nav', 'occurrence': 0, 'id': 'taplc_global_nav_0', 'location_id': 0, 'servletClass': 'com.TripResearch.brand.jaxrs.HomeRebranded', 'servletName': 'CheapFlightsHome', 'modules': ["deferred/lateHandlers","handlers"], 'params': {}, 'data': {}});});
require(['ta/p13n/placements','ta/page','$prp/global_nav_action_cart/handlers'], function(placements, impl) {
window.ta.plc_global_nav_action_cart_0_handlers = placements.load('global_nav_action_cart','handlers.js', { 'name': 'global_nav_action_cart', 'occurrence': 0, 'id': 'taplc_global_nav_action_cart_0', 'location_id': 0, 'servletClass': 'com.TripResearch.brand.jaxrs.HomeRebranded', 'servletName': 'CheapFlightsHome', 'modules': ["handlers"], 'params': {}, 'data': {}});});
require(['ta/p13n/placements','ta/page','$prp/global_nav_action_trips/handlers'], function(placements, impl) {
window.ta.plc_global_nav_action_trips_0_handlers = placements.load('global_nav_action_trips','handlers.js', { 'name': 'global_nav_action_trips', 'occurrence': 0, 'id': 'taplc_global_nav_action_trips_0', 'location_id': 0, 'servletClass': 'com.TripResearch.brand.jaxrs.HomeRebranded', 'servletName': 'CheapFlightsHome', 'modules': ["handlers"], 'params': {}, 'data': {}});});
require(['ta/p13n/placements','ta/page','$prp/global_nav_action_inbox/handlers'], function(placements, impl) {
window.ta.plc_global_nav_action_inbox_0_handlers = placements.load('global_nav_action_inbox','handlers.js', { 'name': 'global_nav_action_inbox', 'occurrence': 0, 'id': 'taplc_global_nav_action_inbox_0', 'location_id': 0, 'servletClass': 'com.TripResearch.brand.jaxrs.HomeRebranded', 'servletName': 'CheapFlightsHome', 'modules': ["handlers"], 'params': {}, 'data': {}});});
require(['ta/p13n/placements','ta/page','$prp/global_nav_action_profile/handlers'], function(placements, impl) {
window.ta.plc_global_nav_action_profile_0_handlers = placements.load('global_nav_action_profile','handlers.js', { 'name': 'global_nav_action_profile', 'occurrence': 0, 'id': 'taplc_global_nav_action_profile_0', 'location_id': 0, 'servletClass': 'com.TripResearch.brand.jaxrs.HomeRebranded', 'servletName': 'CheapFlightsHome', 'modules': ["handlers"], 'params': {}, 'data': {}});});
require(['ta/p13n/placements','ta/page','$prp/masthead_search/handlers'], function(placements, impl) {
window.ta.plc_masthead_search_0_handlers = placements.load('masthead_search','handlers.js', { 'name': 'masthead_search', 'occurrence': 0, 'id': 'taplc_masthead_search_0', 'location_id': 0, 'servletClass': 'com.TripResearch.brand.jaxrs.HomeRebranded', 'servletName': 'CheapFlightsHome', 'modules': ["deferred/lateHandlers","handlers"], 'params': {"typeahead_to_store":{"typeahead_new_location_label":"NEW LOCATION","typeahead_divClasses":null,"typeahead.aliases.travel_forums":["forum","forums","Travel Forum","Travel Forums"],"typeahead.aliases.travel_guides":["guides","city guides"],"typeahead.aliases.flight_reviews":["flight reviews","airline reviews"],"typeahead.aliases.vacation_rentals":["vacation rentals","vacation rental","Airbnb","Holiday rental","Holiday rentals"],"typeahead_throttle_requests":"true","typeahead.aliases.flights":["Flights","Flight","Flight to","flights to","nonstop flights","business class flights","return flights","airline flights","air flights","cheap flights","flight from","cheapest flights","flight only","one way flights","direct flights","domestic flights","air fare","cheap flights to","air flights to","airline flights to","business class flights to","cheapest flights to","direct flights to","domestic flights to","nonstop flights to","one way flights to","air fares","airfare","airfares","air fare to","air fares to","airfare to","airfares to"],"typeahead_moved_label":"MOVED","typeahead_dual_search_options":{"geoID":1,"bypassSearch":true,"staticTypeAheadOptions":{"minChars":3,"defaultValue":"Search","injectNewLocation":true,"typeahead1_5":true,"geoBoostFix":true},"debug":false,"navSearchTypeAheadEnabled":true,"isMobileWeb":false},"typeahead_closed_label":"CLOSED","typeahead.scoped.all_of_trip":"Worldwide","typeahead.aliases.activities":["Tours and Tickets","Tours & Tickets"],"typeahead_attraction_activity_search":"true","typeahead.aliases.hotels":["hotels","hotel","lodging","places to stay","where to stay","accommodation","accommodations","hotel reviews","Hotels & Motels","Best Hotels","Best Places to Stay","Best Lodging","Best Hotels & Motels","Lodgings","Place to stay","Top Hotels","Top Places to Stay","Top Lodging","Top Hotels & Motels","Top 10 Hotels","Top 10 Places to Stay","Top 10 Lodging","Top 10 Hotels & Motels"],"typeahead.aliases.things_to_do":["Things to do","Thing to do","attractions","activities","what to do","sightseeing","Sights","Tourist Attractions","Activity","Attraction","What to see","Where to go","Where to visit","Best Attractions","Best Things to do","Best Tourist Attractions","Best Sightseeing","Top Attractions","Top Things to do","Top Tourist Attractions","Top Sightseeing","Top 10 Attractions","Top 10 Things to do","Top 10 Tourist Attractions","Top 10 Sightseeing"],"typeahead.aliases.restaurants":["food","places to eat","eateries","dining","restaurants","restaurant","Place to eat","Eatery","Where to eat","What to eat","Best Restaurants","Best Places to Eat","Best Food","Best Dining","Top Restaurants","Top Places to Eat","Top Food","Top Dining","Top 10 Restaurants","Top 10 Places To Eat","Top 10 Food","Top 10 Dining"],"typeahead.searchMore.v2":"Search for \"%\"","typeahead.searchSessionId":"65F295989A61A9FC998FAE7CE9E55D841521842887452ssid"}}, 'data': {}});});
require(['ta/p13n/placements','ta/page','$prp/global_nav_links/handlers'], function(placements, impl) {
window.ta.plc_global_nav_links_0_handlers = placements.load('global_nav_links','handlers.js', { 'name': 'global_nav_links', 'occurrence': 0, 'id': 'taplc_global_nav_links_0', 'location_id': 0, 'servletClass': 'com.TripResearch.brand.jaxrs.HomeRebranded', 'servletName': 'CheapFlightsHome', 'modules': ["handlers"], 'params': {}, 'data': {}});});
require(['ta/p13n/placements','ta/page','$prp/global_nav_geopill/handlers'], function(placements, impl) {
window.ta.plc_global_nav_geopill_0_handlers = placements.load('global_nav_geopill','handlers.js', { 'name': 'global_nav_geopill', 'occurrence': 0, 'id': 'taplc_global_nav_geopill_0', 'location_id': 0, 'servletClass': 'com.TripResearch.brand.jaxrs.HomeRebranded', 'servletName': 'CheapFlightsHome', 'modules': ["deferred/GeoSearch","handlers"], 'params': {"searchSessionId":"65F295989A61A9FC998FAE7CE9E55D841521842887477ssid"}, 'data': {}});});
require(['ta/p13n/placements','ta/page','$prp/global_footer/handlers'], function(placements, impl) {
window.ta.plc_global_footer_0_handlers = placements.load('global_footer','handlers.js', { 'name': 'global_footer', 'occurrence': 0, 'id': 'taplc_global_footer_0', 'location_id': 0, 'servletClass': 'com.TripResearch.brand.jaxrs.HomeRebranded', 'servletName': 'CheapFlightsHome', 'modules': ["handlers"], 'params': {}, 'data': {}});});
require(['ta/p13n/placements','ta/page','$prp/qualtrics_survey/handlers'], function(placements, impl) {
window.ta.plc_qualtrics_survey_0_handlers = placements.load('qualtrics_survey','handlers.js', { 'name': 'qualtrics_survey', 'occurrence': 0, 'id': 'taplc_qualtrics_survey_0', 'location_id': 0, 'servletClass': 'com.TripResearch.brand.jaxrs.HomeRebranded', 'servletName': 'CheapFlightsHome', 'modules': ["handlers"], 'params': {}, 'data': {}});});
require(['ta/p13n/placements','ta/page','$prp/browser_mode_tracking/handlers'], function(placements, impl) {
window.ta.plc_browser_mode_tracking_0_handlers = placements.load('browser_mode_tracking','handlers.js', { 'name': 'browser_mode_tracking', 'occurrence': 0, 'id': 'taplc_browser_mode_tracking_0', 'location_id': 0, 'servletClass': 'com.TripResearch.brand.jaxrs.HomeRebranded', 'servletName': 'CheapFlightsHome', 'modules': ["handlers"], 'params': {}, 'data': {}});});
require(['ta/p13n/placements','ta/page','$prp/effective_measures/handlers'], function(placements, impl) {
window.ta.plc_effective_measures_mea_0_handlers = placements.load('effective_measures','handlers.js', { 'name': 'effective_measures:mea', 'occurrence': 0, 'id': 'taplc_effective_measures_mea_0', 'location_id': 0, 'servletClass': 'com.TripResearch.brand.jaxrs.HomeRebranded', 'servletName': 'CheapFlightsHome', 'modules': ["handlers"], 'params': {"host_prefix":"me"}, 'data': {}});});
require(['ta/p13n/placements','ta/page','$prp/comscore/handlers'], function(placements, impl) {
window.ta.plc_comscore_0_handlers = placements.load('comscore','handlers.js', { 'name': 'comscore', 'occurrence': 0, 'id': 'taplc_comscore_0', 'location_id': 0, 'servletClass': 'com.TripResearch.brand.jaxrs.HomeRebranded', 'servletName': 'CheapFlightsHome', 'modules': ["handlers"], 'params': {}, 'data': {}});});
require(['ta/prwidgets', 'ta/page'], function(prwidgets) {
prwidgets.initWidgets(document);
});
</script> 
  <script>require(['servlets/standardTemplateSupport'], function(support) {support.footerInit();});</script>
  <!-- PLACEMENT sync_rt_cookie -->
  <div id="taplc_sync_rt_cookie_0" class="ppr_rup ppr_priv_sync_rt_cookie" data-placement-name="sync_rt_cookie">
   <script type="text/javascript">require(["ta/Core/TA.Store"], function(taStore) {taStore.store("retargeting.rtURL", '//' + 'www.tamgrt.com/RT');taStore.store("retargeting.drs", 'SALES_57');});</script>
   <script type="text/javascript">(function(window, document) {"use strict";var SYNC_AGE = 1000*60*30; var WHITELIST_AGE = 1000*60*60*24; var HTTP_COOKIE = "TART";var SYNC_COOKIE = "SRT";var WHITELIST_COOKIE = "WLRedir";var MSG_PREFIX = "COOKIESYNC:";var _isNewRTCookie = true;var _tart = 'enc%3AOTQ7KI2om3eMfAnI5Y3zfKgiE8xBxX7JClKEL9U46XF3t%2BC83y%2BbBjRVymV0YSFqGC2ynHxv5gg%3D';if (_hasCookie(HTTP_COOKIE) && !_isNewRTCookie) { return; } var syncFrame = document.createElement('iframe');function _on(element, event, callback) {var legacy = !('addEventListener' in document),   listen = legacy ? 'attachEvent' : 'addEventListener';if (legacy) { event = 'on' + event; }element[listen](event, callback);}function _off(element, event, callback) {var legacy = !('addEventListener' in document),   detach = legacy ? 'detachEvent' : 'removeEventListener';if (legacy) { event = 'on' + event; }element[detach](event, callback);}function _setCookie(name, value, age) {document.cookie = name + '=' + value +';domain=' + window.location.hostname +';path=/' +';expires=' + new Date(new Date().getTime() + age).toUTCString();}function _hasCookie(name) {return !!document.cookie.match(name + '=[^;]+');}function handleMessage(e) {if (!syncFrame || !e || !e.data || !e.data.indexOf || e.data.indexOf(MSG_PREFIX) !== 0) { return; }var cookieValue = e.data.substring(MSG_PREFIX.length);if (cookieValue) {_setCookie(SYNC_COOKIE, cookieValue, SYNC_AGE);} else if(!_hasCookie(WHITELIST_COOKIE)) {_setCookie(WHITELIST_COOKIE, "requested", WHITELIST_AGE);}_off(window, 'message', handleMessage);document.body.removeChild(syncFrame);syncFrame = null;}function _setupSyncFrame() {if (!syncFrame) { return; }var src = window.location.protocol + '//' + 'www.tamgrt.com/RT' + "?-sync=true&q=" + new Date().getTime();if(_isNewRTCookie) {if(_tart) {src += '&rid=' + _tart;}}syncFrame.src = src;document.body.appendChild(syncFrame);}_on(window, 'message', handleMessage);syncFrame.style.display = 'none';syncFrame.id = 'ta_cookie_sync';syncFrame.name = new Date().getTime();_setupSyncFrame();})(window, document);</script>
  </div>
  <!-- PLACEMENT effective_measures:mea -->
  <div id="taplc_effective_measures_mea_0" class="ppr_rup ppr_priv_effective_measures" data-placement-name="effective_measures:mea">
   <noscript>
    <img alt="" style="position:absolute; left:-5px;" src="//.effectivemeasure.net/em_image">
   </noscript>
  </div>
  <!-- PLACEMENT comscore -->
  <div id="taplc_comscore_0" class="ppr_rup ppr_priv_comscore" data-placement-name="comscore">
   <span class="dataHolder" data-id="6036461"></span>
   <noscript>
    <img class="tracking" height="1" width="1" src="https://sb.scorecardresearch.com/p?c1=2&amp;c2=6036461&amp;c3=&amp;c4=&amp;c5=&amp;c6=&amp;c15=&amp;cv=2.0&amp;cj=1">
   </noscript>
  </div>
  <!-- PLACEMENT enable_cpm_content -->
  <div id="taplc_enable_cpm_content_0" class="ppr_rup ppr_priv_enable_cpm_content" data-placement-name="enable_cpm_content">
   <style>.gptAd.taEmpty {display:none!important;}</style> 
   <script>require(["ta/Core/TA.Store"],function(taStore) {taStore.store("ads.gptBase", "/5349/ta.ta.eg.s/none");        taStore.store("ads.adStubs", {"adTypes":[{"tgt":"gpt-ad-728x90-970x66","size":[[728,90],[970,66],"fluid"],"type":"leaderboard_top","base":"/5349/ta.ta.eg.s/none","custom_targeting":{"pos":"top"}},{"tgt":"gpt-ad-300x250-300x600","size":[[300,250],[300,600],"fluid"],"type":"medium_rectangle_top","base":"/5349/ta.ta.eg.s/none","custom_targeting":{"pos":"top"}}]}); taStore.store("ads.pageTargeting", {"rd":"com","drs":["MOB_87","BRAND_41","FL_81","REV_84","REVB_0","REVH_97","RNA_43","SALES_57","SEARCH_49","SEM_55","SITEX_81","VR_27","TTD_58","HSX_54","HSXB_38","ML_3","ENGAGE_12","IBEX_51","SEO_19"],"slice":"shared_36","sess":"65F295989A61A9FC998FAE7CE9E55D84","convopt":["441876371"],"pool":"C","PageType":"Flights","loctype":"airlines","platform":"desktop"});taStore.store("ads.adTracking", {"56115731":"Onyx","125294291":"Onyx","439801571":"Onyx","439513691":"Onyx","268297691":"Onyx","146529491":"Onyx","56043851":"Onyx","55678451":"Hotwire","55721291":"Choice","55752491":"Choice","56107811":"Rakuten","444557411":"Rakuten"});taStore.store("ads.enableScrollUpInjection", true);taStore.store("ads.holisticTracking", true); require(['trjs!cpm/DesktopAds'], function(desktopAds) {desktopAds.initDoubleClick();}); });</script>
  </div>
 </body>
</html>